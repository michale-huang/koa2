(window.webpackJsonp=window.webpackJsonp||[]).push([["c668","ae1f","d01a"],{A6FT:function(e,t,a){var l=a("k0+Q");"string"==typeof l&&(l=[[e.i,l,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(l,i);l.locals&&(e.exports=l.locals)},AJBy:function(e,t,a){var l=a("htSM");"string"==typeof l&&(l=[[e.i,l,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};a("aET+")(l,i);l.locals&&(e.exports=l.locals)},HqQu:function(e,t,a){"use strict";a.r(t);var l={props:{name:"tableCmp",tableData:{type:Array,default:function(){return[]}},tableLabel:{type:Array,default:function(){return[]}},tableOption:{type:Object,default:function(){return{}}}},data:function(){return{templateRadio:""}},components:{},methods:{handleButton:function(e,t){this.$emit("operation",{row:t,methods:e})},handleSelectionChange:function(e){this.$emit("multipleChoice",e)},getTemplateRow:function(e){this.$emit("singleChoice",e)},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.rowIndex=a}}},i=a("KHd+"),o=Object(i.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{ref:"table",staticClass:"mytable",staticStyle:{"min-width":"100%"},attrs:{"element-loading-text":"Loading",data:e.tableData,stripe:"",border:"","tooltip-effect":"dark","row-class-name":e.tableRowClassName,height:"100%"},on:{"selection-change":e.handleSelectionChange}},["radio"==e.tableLabel[0].type?e._l(e.tableLabel,function(t,l){return a("el-table-column",{key:l,attrs:{resizable:!1,sortable:!!t.sortable&&t.sortable,fixed:!!t.fixed&&t.fixed,"show-overflow-tooltip":!0,width:t.width?t.width:"radio"==t.type?"60":"",align:t.align?t.align:"center",label:t.label,prop:t.param,type:t.type?t.type:""},scopedSlots:e._u([{key:"default",fn:function(l){return["radio"==t.type?a("el-radio",{attrs:{label:l.row.rowIndex},nativeOn:{change:function(t){e.getTemplateRow(l.row)}},model:{value:e.templateRadio,callback:function(t){e.templateRadio=t},expression:"templateRadio"}}):a("span",[e._v(e._s(l.row[l.column.property]))])]}}])})}):e._e(),e._v(" "),"selection"==e.tableLabel[0].type?e._l(e.tableLabel,function(e,t){return a("el-table-column",{key:t,attrs:{resizable:!1,sortable:!!e.sortable&&e.sortable,fixed:!!e.fixed&&e.fixed,"show-overflow-tooltip":!!e.tooltip&&e.tooltip,width:e.width?e.width:"selection"==e.type?"60":"",align:e.align?e.align:"center",label:e.label,prop:e.param,type:e.type?e.type:""}})}):e._e(),e._v(" "),"selection"!=e.tableLabel[0].type&&"radio"!=e.tableLabel[0].type?e._l(e.tableLabel,function(e,t){return a("el-table-column",{key:t,attrs:{resizable:!1,sortable:!!e.sortable&&e.sortable,fixed:!!e.fixed&&e.fixed,"show-overflow-tooltip":!!e.tooltip&&e.tooltip,width:e.width?e.width:"index"==e.type?"60":"",align:e.align?e.align:"center",label:e.label,prop:e.param,type:e.type?e.type:""}})}):e._e(),e._v(" "),e.tableOption.label?a("el-table-column",{attrs:{resizable:!1,width:e.tableOption.width?e.tableOption.width:"80",label:e.tableOption.label,fixed:!!e.tableOption.fixed&&e.tableOption.fixed,align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.tableOption.options,function(l,i){return a("span",{key:i,staticClass:"operationBtn",on:{click:function(a){e.handleButton(l.type,t.row)}}},[e._v(e._s(l.label))])})}}])}):e._e()],2)},[],!1,null,null,null);t.default=o.exports},ZAdF:function(e,t,a){"use strict";a.r(t);var l={name:"pagination",props:{pageData:{type:Object,required:!0,default:function(){return{totalElements:100,page:1,size:10}}},textAlign:{type:String,default:"right"},pageSizes:{type:Array,default:function(){return[10,15,20,25]}},show:{type:Boolean,default:!0}},data:function(){return{delayed:!0}},methods:{pageChange:function(e){this.delayed&&(this.pageData.page=e,this.$emit("searchFn",{page:this.pageData.page,size:this.pageData.size}))},sizeChange:function(e){var t=this;this.delayed=!1,this.pageData.page=1,this.pageData.size=e,this.$emit("searchFn",{page:this.pageData.page,size:this.pageData.size}),setTimeout(function(){t.delayed=!0},1500)}}},i=(a("f3bq"),a("KHd+")),o=Object(i.a)(l,function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("el-pagination",{style:{"text-align":e.textAlign},attrs:{layout:"total,prev,pager,next,sizes,jumper",total:e.pageData.totalElements||0,"page-sizes":e.pageSizes,"page-size":e.pageData.size,"current-page":e.pageData.page},on:{"size-change":e.sizeChange,"current-change":e.pageChange}}):e._e()},[],!1,null,"2ac751ea",null);t.default=o.exports},f3bq:function(e,t,a){"use strict";var l=a("AJBy");a.n(l).a},htSM:function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"\n[data-v-2ac751ea] .el-select-dropdown__item.selected {\n  color: #0382d9;\n}\n[data-v-2ac751ea] .el-pager li.active {\n  color: #0382d9;\n}\n[data-v-2ac751ea] .el-pagination__sizes .el-input .el-input__inner:hover {\n  color: #0382d9;\n}\n",""])},"k0+Q":function(e,t,a){(e.exports=a("I1BE")(!1)).push([e.i,"",""])},rmLB:function(e,t,a){"use strict";var l=a("A6FT");a.n(l).a},s4K3:function(e,t,a){"use strict";a.r(t);var l=a("HqQu"),i=a("ZAdF"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e};var n={components:{tableCmp:l.default,pageComponent:i.default},data:function(){return{form:{tirFormNo:"",seltPlcCuscd:"0000"},pageParam:{totalElements:100,page:1,size:10},rules:{seltPlcCuscd:[{required:!0,message:"请选择所属关区",trigger:"change"}],tirFormNo:[{required:!0,message:"请输入TIR单证号",trigger:"blur"}]},cuscd:[{code:"0000",name:" 海关总署"},{code:"0001",name:" 北京海关"}],tableData:[{tirFormNo:"1333331",iddocNm:"2",iddocDstcd:"王小虎",dclTime:"上海市普陀区金沙江路 1518 弄",dclAddr:"上海市普陀区金沙江路",veTypecd:"上海市普陀区金沙江路",veElctPltno:"上海市普陀区金沙江路",predctArrTime:"2019-09-20"},{tirFormNo:"1321",iddocNm:"2",iddocDstcd:"王小虎",dclTime:"上海市普陀区金沙江路 1518 弄",dclAddr:"上海市普陀区金沙江路",veTypecd:"上海市普陀区金沙江路",veElctPltno:"上海市普陀区金沙江路",predctArrTime:"2019-09-20"}],tableLabel:[{label:"TIR单证号",param:"tirFormNo",width:"200",sortable:!0},{label:"持证人名称",param:"iddocNm",width:"200"},{label:"持证人国家",param:"iddocDstcd",width:"200"},{label:"TIR申报日期",param:"dclTime",width:"200",tooltip:!0},{label:"TIR申报地点",param:"dclAddr",width:"200"},{label:"车辆类型",param:"veTypecd",width:"200"},{label:"车牌号码",param:"veElctPltno",width:"200"},{label:"预计到达日期",param:"predctArrTime",width:"200"}],tableOption:{label:"操作",fixed:"right",options:[{label:"详情",type:"detail"}]}}},methods:{operation:function(e){console.log(e),this.$router.replace("/TIRWEB/queryStatistics/documentInfo/detail")},tirup:function(){return/^([A-Z]{2}[0-9]{8},)*[A-Z]{2}[0-9]{8}$/.test(this.form.tirFormNo)?(console.log("匹配",this.form.tirFormNo),!0):(this.$message({message:"请输入长度为10,前2位是大写字母,后8位是数字的TIR单证号",type:"warning"}),!1)},handleReset:function(e){this.$refs[e].resetFields()},handleSearch:function(e){var t=this,a={};for(var l in this.form)"string"==typeof this.form[l]&&""===this.form[l].trim()&&(this.form[l]="",delete this.form[l]);e?(a=o({},e,this.form),console.log(a),this.searchLists(a)):(a=o({page:1,size:10},this.form),this.$refs.form.validate(function(e){e?t.tirup()&&t.searchLists(a):console.log("error submit!!")}))},searchLists:function(e){console.log("查询参数",e)},onPrint:function(){if(this.tableData&&this.tableData.length){var e=[];this.tableLabel.forEach(function(t){var a,l,i;t.param&&e.push((a={},l=t.param,i=t.label,l in a?Object.defineProperty(a,l,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[l]=i,a))}),this.$print({titleName:"TIR单证信息",titleArr:e,tableList:this.tableData})}else this.$message.warning("没有数据可以打印")}}},r=(a("rmLB"),a("KHd+")),s=Object(r.a)(n,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"query-list"},[a("h3",{staticClass:"page-title"},[e._v("TIR单证信息查询")]),e._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"query-conditions"},[a("h6",{staticClass:"common-title"},[e._v("查询条件")]),e._v(" "),a("div",{staticClass:"query-form"},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-position":"top"}},[a("el-form-item",{attrs:{label:"TIR单证号",prop:"tirFormNo"}},[a("el-input",{attrs:{maxlength:"10",placeholder:"请输入"},model:{value:e.form.tirFormNo,callback:function(t){e.$set(e.form,"tirFormNo",t)},expression:"form.tirFormNo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属关区",prop:"seltPlcCuscd"}},[a("el-select",{model:{value:e.form.seltPlcCuscd,callback:function(t){e.$set(e.form,"seltPlcCuscd",t)},expression:"form.seltPlcCuscd"}},e._l(e.cuscd,function(e){return a("el-option",{key:e.code,attrs:{label:e.code+" "+e.name,value:e.code}})}))],1)],1)],1),e._v(" "),a("div",{staticClass:"form-button"},[a("el-button",{on:{click:function(t){e.handleReset("form")}}},[e._v("重置")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.handleSearch()}}},[e._v("查询")])],1)]),e._v(" "),a("div",{staticClass:"result-list"},[a("h6",{staticClass:"common-title"},[e._v("查询结果")]),e._v(" "),a("div",{staticClass:"list-button"},[a("el-button",{on:{click:e.onPrint}},[e._v("打印")])],1),e._v(" "),a("div",{staticClass:"result-table"},[[a("tableCmp",{attrs:{"table-data":e.tableData,"table-label":e.tableLabel,"table-option":e.tableOption},on:{operation:e.operation}})]],2),e._v(" "),a("div",{staticClass:"result-table-pagination"},[a("pageComponent",{attrs:{show:e.pageHide,pageData:e.pageParam},on:{searchFn:e.handleSearch}})],1)])])])},[],!1,null,"327fadc8",null);t.default=s.exports}}]);