(window.webpackJsonp=window.webpackJsonp||[]).push([["e671"],{rKrA:function(t,e,a){"use strict";a.r(e);var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t};var i={components:{tableCmp:function(){return a.e("d01a").then(a.bind(null,"HqQu"))},tableV:function(){return a.e("19f2").then(a.bind(null,"/V5f"))},confirmModal:function(){return a.e("a691").then(a.bind(null,"6onE"))},pageComponent:function(){return a.e("ae1f").then(a.bind(null,"ZAdF"))}},data:function(){return{showModal:!1,form:{upg:"0000",impexpMarkcd:""},rules:{upg:[{required:!0,message:"请选择关区",trigger:"change"}]},sigleData:"",pageParam:{totalElements:100,page:1,size:10},tableData:[{embrLdwyblNo:"1333331",mtApplyBlNo:"2",upg:"王小虎",impexpMarkcd:"上海市普陀区金沙江路 1518 弄",cargoTotalGrossWt:"上海市普陀区金沙江路",talStscd:"上海市普陀区金沙江路",isusptStscd:"上海市普陀区金沙江路",dpctlStscd:"155",icryTime:"2019-09-20"}],CUSTOMS_RANGE:[{dictionaryKey:"0000",dictionaryValue:"0000 海关总署"},{dictionaryKey:"0001",dictionaryValue:"0001 北京海关"}],I_E_FLAG:[{dictionaryKey:"I",dictionaryValue:"进境"},{dictionaryKey:"T",dictionaryValue:"过境"}],tableLabel:[{label:"选择",type:"radio",width:"80"},{label:"进境提运单号",param:"embrLdwyblNo",width:"150",sortable:!0},{label:"TIR运输申请单号",param:"mtApplyBlNo",width:"200"},{label:"主管地海关",param:"upg",width:"150"},{label:"业务类型",param:"impexpMarkcd",width:"100"},{label:"货物总重量",param:"cargoTotalGrossWt",width:"100"},{label:"理货状态",param:"talStscd",width:"100"},{label:"运输工具确报状态",param:"isusptStscd",width:"200"},{label:"布控状态",param:"dpctlStscd",width:"100"},{label:"进境日期",param:"icryTime",width:"150"}],tableOption:{label:"操作",fixed:"right",options:[{label:"详情",type:"detail"}]},content:[{cellName:"嫌疑人X的现身平凡的世界",cellContent:"属性值11111拉基舍夫就是考六级决定放手了饭就开始点击家里睡大觉风口浪尖极乐世界反馈"},{cellName:"杀死一只知更鸟",cellContent:"属性值22222"},{cellName:"月亮与六便士",cellContent:"属性值3333333"},{cellName:"解忧杂货铺",cellContent:"属性值4444444将雷锋精神可减肥家里发生接口方式"}]}},created:function(){},methods:{operation:function(t){var e=t.row;if(console.log(e,"预配详情"),this.tableData&&this.tableData.length){var a=[];this.tableLabel.forEach(function(t){t.param&&a.push({cellName:t.label,cellContent:e[t.param]})}),this.content=a,this.showModal=!0}else this.$message.warning("暂无数据")},handleReset:function(t){this.$refs[t].resetFields()},handleSearch:function(t){var e=this,a={};for(var i in this.form)"string"==typeof this.form[i]&&this.form[i].includes(" ")&&(this.form[i]=this.form[i].replaceAll(" ","")),"string"==typeof this.form[i]&&""===this.form[i].trimRight()&&(this.form[i]="",delete this.form[i]),void 0===this.form[i]&&delete this.form[i];t?(a=l({},t,this.form),this.searchListFn(a)):(a=l({page:1,size:10},this.form),this.$refs.form.validate(function(t){t&&e.validate()&&e.searchListFn(a)}))},searchListFn:function(t){console.log("查询参数",t)},singleChoice:function(t){this.sigleData=t},handleVerification:function(){this.sigleData?console.log("核注核销接口 成功后刷新",this.sigleData):this.$message.warning("请先选择数据!")},handleReverseVer:function(){this.sigleData?console.log("反核注核销 成功后刷新",this.sigleData):this.$message.warning("请先选择数据!")},onPrint:function(){if(this.tableData&&this.tableData.length){var t=[];this.tableLabel.forEach(function(e){var a,l,i;e.param&&t.push((a={},l=e.param,i=e.label,l in a?Object.defineProperty(a,l,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[l]=i,a))}),this.$print({titleName:"TIR运输申请单核注核销公路原始舱单",titleArr:t,tableList:this.tableData})}else this.$message.warning("没有数据可以打印")},validate:function(){var t=new RegExp(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{0,16}$/);return this.form.mtApplyBlNo&&!t.test(this.form.mtApplyBlNo)?(this.$message({message:"请输入16位TIR运输申请单号",type:"warning"}),!1):!(this.form.ocryEmbrLdwyblNo&&!t.test(this.form.ocryEmbrLdwyblNo))||(this.$message({message:"请输入16位出境提运单号",type:"warning"}),!1)}}},o=a("KHd+"),r=Object(o.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"query-list"},[a("h3",{staticClass:"page-title"},[t._v("TIR运输申请单核注核销公路原始舱单")]),t._v(" "),a("div",{staticClass:"main-content"},[a("div",{staticClass:"query-conditions"},[a("h6",{staticClass:"common-title"},[t._v("查询条件")]),t._v(" "),a("div",{staticClass:"query-form"},[a("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"label-position":"top"}},[a("el-form-item",{attrs:{label:"主管地海关",prop:"upg"}},[a("el-select",{attrs:{placeholder:"请选择关区"},model:{value:t.form.upg,callback:function(e){t.$set(t.form,"upg",e)},expression:"form.upg"}},t._l(t.CUSTOMS_RANGE,function(t){return a("el-option",{key:t.dictionaryKey,attrs:{label:t.dictionaryValue,value:t.dictionaryKey}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"业务类型",prop:"impexpMarkcd"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:t.form.impexpMarkcd,callback:function(e){t.$set(t.form,"impexpMarkcd",e)},expression:"form.impexpMarkcd"}},t._l(t.I_E_FLAG,function(t){return a("el-option",{key:t.dictionaryKey,attrs:{label:t.dictionaryValue,value:t.dictionaryKey}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"TIR运输单申请号",prop:"mtApplyBlNo"}},[a("el-input",{model:{value:t.form.mtApplyBlNo,callback:function(e){t.$set(t.form,"mtApplyBlNo",e)},expression:"form.mtApplyBlNo"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"出境提运单号",prop:"ocryEmbrLdwyblNo"}},[a("el-input",{model:{value:t.form.ocryEmbrLdwyblNo,callback:function(e){t.$set(t.form,"ocryEmbrLdwyblNo",e)},expression:"form.ocryEmbrLdwyblNo"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"form-button"},[a("el-button",{on:{click:function(e){t.handleReset("form")}}},[t._v("重置")]),t._v(" "),a("el-button",{directives:[{name:"reClick",rawName:"v-reClick",value:2e3,expression:"2000"}],attrs:{type:"primary"},on:{click:function(e){t.handleSearch()}}},[t._v("查询")])],1)]),t._v(" "),a("div",{staticClass:"result-list"},[a("h6",{staticClass:"common-title"},[t._v("查询结果")]),t._v(" "),a("div",{staticClass:"list-button"},[a("el-button",{attrs:{type:"primary"},on:{click:t.handleVerification}},[t._v("核注核销")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleReverseVer}},[t._v("反核注核销")]),t._v(" "),a("el-button",{on:{click:t.onPrint}},[t._v("打印")])],1),t._v(" "),a("div",{staticClass:"result-table"},[[a("tableCmp",{attrs:{"table-data":t.tableData,"table-label":t.tableLabel,"table-option":t.tableOption},on:{singleChoice:t.singleChoice,operation:t.operation}})]],2),t._v(" "),a("div",{staticClass:"result-table-pagination"},[a("pageComponent",{attrs:{show:t.pageHide,pageData:t.pageParam},on:{searchFn:t.handleSearch}})],1)])]),t._v(" "),a("confirmModal",{attrs:{showModal:t.showModal,width:953,title:"TIR运输核注核销原始舱单信息"},on:{"close-modal":function(e){t.showModal=!1}}},[a("div",[a("div",{staticClass:"modal-title"},[t._v("基本信息")]),t._v(" "),a("table-v",{attrs:{tableContent:t.content,rowNum:2}})],1),t._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{shape:"circle"},on:{click:function(e){t.showModal=!1}}},[t._v("关闭")])],1)])],1)},[],!1,null,null,null);e.default=r.exports}}]);