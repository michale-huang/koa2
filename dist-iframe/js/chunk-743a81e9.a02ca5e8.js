(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-743a81e9"],{"053d":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"feedback-details simple-entry"},[e("div",{staticClass:"public-detail"},[e("div",{staticClass:"important-info"},[e("Row",[e("Col",{attrs:{span:"4"}},[e("div",{staticClass:"name"},[t._v("录入货运要求")])]),e("Col",{attrs:{span:"20"}},[t.sendShow?e("Button",{on:{click:t.send}},[t._v("发送")]):t._e(),e("Button",{staticClass:"save-btn",attrs:{type:"primary"},on:{click:function(a){return t.save("formValidate")}}},[t._v("保存")])],1)],1)],1)]),e("div",{staticClass:"public-table-content public-input"},[e("div",{staticClass:"l-content"},[e("div",{staticClass:"table-data"},[e("ul",{staticClass:"transit"},[e("p",{staticClass:"table-title"},[t._v("基本信息")]),e("Form",{ref:"formValidate",attrs:{"label-position":"left",model:t.transitModal,"label-width":100,rules:t.ruleValidate}},[e("div",{staticClass:"form-item-content"},[e("FormItem",{staticClass:"min-width",attrs:{label:"启运地："}},[e("small",{staticClass:"rule-class"},[t._v("*")]),e("adt-city-selector",{staticStyle:{width:"120px",display:"inline-block",marginRight:"10px"},on:{"on-change":t.handelDirStart}}),e("Select",{attrs:{filterable:"",clearable:""},on:{"on-change":t.onPlaceChange},model:{value:t.transitModal.custStartPlace,callback:function(a){t.$set(t.transitModal,"custStartPlace",a)},expression:"transitModal.custStartPlace"}},t._l(t.custStartPlace,(function(a){return e("Option",{key:a.value,attrs:{value:a.value+"-"+a.label}},[t._v(t._s(a.label))])})),1),e("span",{staticClass:"btn-ok",on:{click:t.okPlace}},[t._v("确定")]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.startHintShow,expression:"startHintShow"}],staticClass:"hint"},[t._v("请输入启运地")]),e("p",{staticClass:"select-value"},t._l(t.startPlace,(function(a,s){return e("span",{key:s},[t._v(" "+t._s(a)+" "),e("Icon",{attrs:{type:"ios-close-circle"},on:{click:function(a){return t.delPlaceDeparture(s)}}})],1)})),0)],1),e("FormItem",{staticClass:"min-width",attrs:{label:"目的地："}},[e("small",{staticClass:"rule-class"},[t._v("*")]),e("adt-city-selector",{staticStyle:{width:"120px",display:"inline-block",marginRight:"10px"},on:{"on-change":t.handelDirEnd}}),e("Select",{attrs:{filterable:"",clearable:""},on:{"on-change":t.onEndPlaceChange},model:{value:t.transitModal.custEndPlace,callback:function(a){t.$set(t.transitModal,"custEndPlace",a)},expression:"transitModal.custEndPlace"}},t._l(t.custEndPlace,(function(a){return e("Option",{key:a.value,attrs:{value:a.value+"-"+a.label}},[t._v(t._s(a.label))])})),1),e("span",{staticClass:"btn-ok",on:{click:t.okEndPlace}},[t._v("确定")]),e("p",{directives:[{name:"show",rawName:"v-show",value:t.endHintShow,expression:"endHintShow"}],staticClass:"hint"},[t._v("请输入目的地")]),e("p",{staticClass:"select-value"},t._l(t.endPlace,(function(a,s){return e("span",{key:s},[t._v(" "+t._s(a)+" "),e("Icon",{attrs:{type:"ios-close-circle"},on:{click:function(a){return t.delCustEndPlace(s)}}})],1)})),0)],1),e("FormItem",{staticClass:"min-width",attrs:{label:"中转地："}},[e("adt-city-selector",{staticStyle:{width:"120px",display:"inline-block",marginRight:"10px"},on:{"on-change":t.handelDirTrsspmPort}}),e("Select",{attrs:{filterable:"",clearable:""},on:{"on-change":t.onSiteChange},model:{value:t.transitModal.custTransitPlace,callback:function(a){t.$set(t.transitModal,"custTransitPlace",a)},expression:"transitModal.custTransitPlace"}},t._l(t.custTransitPlace,(function(a){return e("Option",{key:a.value,attrs:{value:a.value+"-"+a.label}},[t._v(t._s(a.label))])})),1),e("span",{staticClass:"btn-ok",on:{click:t.okCustTransitPlace}},[t._v("确定")]),e("p",{staticClass:"select-value"},t._l(t.ctransitPlace,(function(a,s){return e("span",{key:s},[t._v(" "+t._s(a)+" "),e("Icon",{attrs:{type:"ios-close-circle"},on:{click:function(a){return t.delTransit(s)}}})],1)})),0)],1),e("FormItem",{attrs:{label:"货物类型：",prop:"cargoType"}},[e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},on:{"on-change":t.cargoTypeChange},model:{value:t.transitModal.cargoType,callback:function(a){t.$set(t.transitModal,"cargoType",a)},expression:"transitModal.cargoType"}},t._l(t.cargoType,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),e("FormItem",{attrs:{label:"物流类型：",prop:"logisticsType"}},[e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:t.transitModal.logisticsType,callback:function(a){t.$set(t.transitModal,"logisticsType",a)},expression:"transitModal.logisticsType"}},t._l(t.logisticsType,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),e("FormItem",{attrs:{label:"运输类型：",prop:"trspType"}},[e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:t.transitModal.trspType,callback:function(a){t.$set(t.transitModal,"trspType",a)},expression:"transitModal.trspType"}},t._l(t.trspType,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1)],1),e("div",{staticClass:"create-path"},[e("span",{on:{click:function(a){return t.createPathClick("formValidate")}}},[t._v("生成路线")])])])],1)])])]),e("div",{staticClass:"back"},[this.pathData.length>0?e("div",{staticClass:"path-info"},[e("Row",[e("Col",{attrs:{span:"22"}},[e("ul",{staticClass:"path-list"},t._l(t.pathData,(function(a,s){return e("li",{key:s,class:{"path-click":t.pathNum==s},on:{click:function(e){return t.pathClick(s,a)}}},[t._v(" "+t._s(a.routeStr.split(";").join("-"))+" ")])})),0)]),e("Col",{attrs:{span:"2"}},[e("span",{staticClass:"select-path",on:{click:t.selectPathClick}},[t._v("选择路线")])])],1)],1):t._e(),e("div",{staticClass:"path-info-details"},t._l(t.pathData,(function(a,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:s===t.pathNum,expression:"pathIndex === pathNum"}],key:s,staticClass:"details-switchover"},[e("div",{staticClass:"title"},[e("adt-tab-btns",{attrs:{height:40,width:200,isUnderline:t.isUnderline,titleNames:t.titleNames,btnIndex:t.changeIndex},on:{handleBtn:t.handleBtn}})],1),t.tabBarShow?e("div",{staticClass:"route-param"},[e("p",{staticClass:"left-tit"},[e("span",{class:{"tab-click":0==t.tabNum},on:{click:function(a){return t.leftTabClick(0)}}},[t._v("运输服务")]),e("span",{class:{"tab-click":1==t.tabNum},on:{click:function(a){return t.leftTabClick(1)}}},[t._v("节点服务")])]),t.transportServiceShow?e("div",{staticClass:"route-param-content"},[e("ul",t._l(a.roadList,(function(i,l){return e("li",{key:l,staticClass:"path",class:{"path-click":a.lineNum==l||!a.lineNum&&0===l},on:{click:function(a){return t.lineSectionsClick(l,s)}}},[e("span",[t._v(" "+t._s(i.startPlace)+" "),e("i",[t._v("-")]),t._v(" "+t._s(i.endPlace)+" ")])])})),0),e("Divider"),e("div",{staticClass:"public-table-content"},[e("div",{staticClass:"l-content"},t._l(a.roadList,(function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:a.lineNum==i||!a.lineNum&&0===i,expression:"pathList.lineNum == index || (!pathList.lineNum && index === 0)"}],key:i,staticClass:"table-data"},[e("ul",[e("p",{staticClass:"table-title"},[e("span",[t._v("设置服务参数：")]),e("span",{staticClass:"look-btn",on:{click:function(a){return t.selectAttachingTask(s,i)}}},[t._v("选择附加任务")])]),e("div",{staticClass:"input-table"},[e("Form",{ref:"formRoadListValidate",refInFor:!0,attrs:{"label-position":"left",model:s.serverParam,"label-width":100}},[e("FormItem",{attrs:{label:"运输方式：",prop:"trspMode"}},[e("small",{staticClass:"rule-class"},[t._v("*")]),e("RadioGroup",{model:{value:s.serverParam.trspMode,callback:function(a){t.$set(s.serverParam,"trspMode",a)},expression:"list.serverParam.trspMode"}},t._l(t.trspMode,(function(a,s){return e("Radio",{key:s,attrs:{label:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),s.serverParam.contaShow?e("FormItem",{attrs:{label:"集装箱来源："}},[e("small",{staticClass:"rule-class-five"},[t._v("*")]),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:s.serverParam.contaSource,callback:function(a){t.$set(s.serverParam,"contaSource",a)},expression:"list.serverParam.contaSource"}},t._l(t.contaSource,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1):e("FormItem"),e("FormItem",{attrs:{label:"物流类型：",prop:"logisticsType"}},[e("small",{staticClass:"rule-class"},[t._v("*")]),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:s.serverParam.logisticsType,callback:function(a){t.$set(s.serverParam,"logisticsType",a)},expression:"list.serverParam.logisticsType"}},t._l(t.logisticsType,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),s.serverParam.contaShow?e("FormItem",{attrs:{label:"集装箱尺寸类型："}},[e("small",{staticClass:"rule-class-seven"},[t._v("*")]),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},on:{"on-open-change":t.contaSizeTypeChange},model:{value:s.serverParam.contaSizeType,callback:function(a){t.$set(s.serverParam,"contaSizeType",a)},expression:"list.serverParam.contaSizeType"}},t._l(t.contaSizeType,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1):e("FormItem"),e("FormItem",{attrs:{label:"运输类型：",prop:"trspType"}},[e("small",{staticClass:"rule-class"},[t._v("*")]),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},on:{"on-change":function(a){return t.trspTypeChange(a,s,i)}},model:{value:s.serverParam.trspType,callback:function(a){t.$set(s.serverParam,"trspType",a)},expression:"list.serverParam.trspType"}},t._l(t.trspType,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),s.serverParam.contaShow?e("FormItem",{attrs:{label:"提箱类型："}},[e("small",{staticClass:"rule-class"},[t._v("*")]),e("RadioGroup",{model:{value:s.serverParam.suitcaseType,callback:function(a){t.$set(s.serverParam,"suitcaseType",a)},expression:"list.serverParam.suitcaseType"}},t._l(t.suitcaseType,(function(a,s){return e("Radio",{key:s,attrs:{label:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1):e("FormItem"),s.serverParam.contaShow?e("FormItem",{attrs:{label:"集装箱数量："}},[e("small",{staticClass:"rule-class-five"},[t._v("*")]),e("Input",{staticStyle:{width:"120px"},attrs:{type:"number"},model:{value:s.serverParam.contaQty,callback:function(a){t.$set(s.serverParam,"contaQty",a)},expression:"list.serverParam.contaQty"}})],1):e("FormItem"),e("FormItem")],1)],1)])])})),0)])],1):e("div",{staticClass:"route-param-content"},[e("ul",t._l(a.nodeList,(function(i,l){return e("li",{key:l,staticClass:"path one-path",class:{"path-click":a.nodeNum==l||!a.nodeNum&&0===l},on:{click:function(a){return t.nodeSectionsClick(l,s)}}},[t._v(t._s(i.node))])})),0),e("Divider"),e("div",{staticClass:"public-table-content"},[e("div",{staticClass:"l-content"},t._l(a.nodeList,(function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:a.nodeNum==i||!a.nodeNum&&0===i,expression:"pathList.nodeNum == index || (!pathList.nodeNum && index === 0)"}],key:i,staticClass:"table-data"},[e("ul",[e("p",{staticClass:"table-title"},[e("span",[t._v("设置服务参数：")]),e("span",{staticClass:"look-btn",on:{click:function(a){return t.selectAttachingTask(s,i)}}},[t._v("选择附加任务")])]),e("div",{staticClass:"input-table"},[e("Form",{attrs:{model:s.serverParam,"label-position":"left","label-width":100}},[e("FormItem",{attrs:{label:"物流类型：",prop:"logisticsType"}},[e("small",{staticClass:"rule-class"},[t._v("*")]),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:s.serverParam.logisticsType,callback:function(a){t.$set(s.serverParam,"logisticsType",a)},expression:"list.serverParam.logisticsType"}},t._l(t.logisticsType,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),s.serverParam.contaNodeShow?e("FormItem",{attrs:{label:"集装箱来源："}},[e("small",{staticClass:"rule-class-five"},[t._v("*")]),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:s.serverParam.contaSource,callback:function(a){t.$set(s.serverParam,"contaSource",a)},expression:"list.serverParam.contaSource"}},t._l(t.contaSource,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1):e("FormItem"),e("FormItem",{attrs:{label:"运输类型：",prop:"trspType"}},[e("small",{staticClass:"rule-class"},[t._v("*")]),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},on:{"on-change":function(a){return t.trspTypeNodeChange(a,s,i)}},model:{value:s.serverParam.trspType,callback:function(a){t.$set(s.serverParam,"trspType",a)},expression:"list.serverParam.trspType"}},t._l(t.trspType,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),s.serverParam.contaNodeShow?e("FormItem",{attrs:{label:"集装箱尺寸类型："}},[e("small",{staticClass:"rule-class-seven"},[t._v("*")]),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},on:{"on-open-change":t.contaSizeTypeChange},model:{value:s.serverParam.contaSizeType,callback:function(a){t.$set(s.serverParam,"contaSizeType",a)},expression:"list.serverParam.contaSizeType"}},t._l(t.contaSizeType,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1):e("FormItem"),s.serverParam.contaNodeShow?e("FormItem",{attrs:{label:"提箱类型："}},[e("small",{staticClass:"rule-class"},[t._v("*")]),e("RadioGroup",{model:{value:s.serverParam.suitcaseType,callback:function(a){t.$set(s.serverParam,"suitcaseType",a)},expression:"list.serverParam.suitcaseType"}},t._l(t.suitcaseType,(function(a,s){return e("Radio",{key:s,attrs:{label:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1):e("FormItem"),s.serverParam.contaNodeShow?e("FormItem",{attrs:{label:"集装箱数量："}},[e("small",{staticClass:"rule-class-five"},[t._v("*")]),e("Input",{staticStyle:{width:"120px"},attrs:{type:"number"},model:{value:s.serverParam.contaQty,callback:function(a){t.$set(s.serverParam,"contaQty",a)},expression:"list.serverParam.contaQty"}})],1):e("FormItem")],1)],1)])])})),0)])],1)]):t._l(t.pathData,(function(a,s){return e("div",{directives:[{name:"show",rawName:"v-show",value:s===t.pathNum,expression:"index === pathNum"}],key:s,staticClass:"trans-requry"},[e("div",{staticClass:"transport-requry public-detail"},[e("div",{staticClass:"input-table"},[e("Form",{attrs:{model:a,"label-width":100,"label-position":"left"}},[e("FormItem",{attrs:{label:"主要运输方式："}},[e("small",{staticClass:"rule-class-six"},[t._v("*")]),e("RadioGroup",{model:{value:a.mainTrspMode,callback:function(e){t.$set(a,"mainTrspMode",e)},expression:"list.mainTrspMode"}},t._l(t.trspMode,(function(a,s){return e("Radio",{key:s,attrs:{label:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),e("FormItem",{attrs:{label:"最晚到达时间："}},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:a.lastArriveTime,callback:function(e){t.$set(a,"lastArriveTime",e)},expression:"list.lastArriveTime"}})],1),e("FormItem",{attrs:{label:"提箱类型："}},[e("RadioGroup",{model:{value:a.suitcaseType,callback:function(e){t.$set(a,"suitcaseType",e)},expression:"list.suitcaseType"}},t._l(t.suitcaseType,(function(a,s){return e("Radio",{key:s,attrs:{label:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),e("FormItem",{attrs:{label:"最低时长要求："}},[e("Input",{attrs:{type:"text"},model:{value:a.lowestTimeReq,callback:function(e){t.$set(a,"lowestTimeReq",e)},expression:"list.lowestTimeReq"}}),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:a.timeUnit,callback:function(e){t.$set(a,"timeUnit",e)},expression:"list.timeUnit"}},t._l(t.timeUnit,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),e("FormItem",{attrs:{label:"集装箱数量："}},[e("Input",{attrs:{type:"text"},model:{value:a.contaQty,callback:function(e){t.$set(a,"contaQty",e)},expression:"list.contaQty"}})],1),e("FormItem",{attrs:{label:"最高价格要求："}},[e("Input",{attrs:{type:"text"},model:{value:a.highestCostReq,callback:function(e){t.$set(a,"highestCostReq",e)},expression:"list.highestCostReq"}}),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:a.currencyUnit,callback:function(e){t.$set(a,"currencyUnit",e)},expression:"list.currencyUnit"}},t._l(t.currencyUnit,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),e("FormItem",{attrs:{label:"货物适宜温度"}},[e("Input",{attrs:{type:"text"},model:{value:a.cargoSuitTemp,callback:function(e){t.$set(a,"cargoSuitTemp",e)},expression:"list.cargoSuitTemp"}}),e("Select",{staticStyle:{width:"120px"},attrs:{clearable:""},model:{value:a.tempUnit,callback:function(e){t.$set(a,"tempUnit",e)},expression:"list.tempUnit"}},t._l(t.tempUnit,(function(a,s){return e("Option",{key:s,attrs:{value:a.dictionaryKey}},[t._v(t._s(a.dictionaryValue))])})),1)],1),e("FormItem",{attrs:{label:""}}),e("FormItem",{attrs:{label:"报关地要求："}},[e("Input",{attrs:{type:"text"},model:{value:a.customsReq,callback:function(e){t.$set(a,"customsReq",e)},expression:"list.customsReq"}})],1),e("FormItem",{attrs:{label:""}}),e("FormItem",{attrs:{label:"最迟起运时间："}},[e("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:a.lastStartTime,callback:function(e){t.$set(a,"lastStartTime",e)},expression:"list.lastStartTime"}})],1),e("FormItem",{attrs:{label:""}})],1)],1)])])}))],2)})),0),e("Divider",{staticClass:"light-color"}),e("p",{staticClass:"remark"},[e("span",{staticClass:"remark-tit"},[t._v("货运要求备注：")]),e("Input",{attrs:{autosize:{minRows:3,maxRows:5},type:"textarea",placeholder:"请输入货运要求备注，500字以内！",maxlength:"500"},model:{value:t.transitModal.freightBrief,callback:function(a){t.$set(t.transitModal,"freightBrief",a)},expression:"transitModal.freightBrief"}})],1)],1),e("adt-reconfirm-modal",{attrs:{showModal:t.isTransitModal,message:t.transitText},on:{"on-ok":t.transitConfirm,"on-visible-change":t.visibleChange}}),e("adt-reconfirm-modal",{attrs:{showModal:t.isPlaceDepartureModal,message:t.placeDepartureText},on:{"on-visible-change":t.visiblePlaceDeparture,"on-ok":t.handleConfirm,"on-cancel":t.handleCancel}}),e("adt-my-modal",{attrs:{title:"选择附加任务",width:"670px",showModal:t.isModalShow},on:{"on-visible-change":t.visibleChangeSelect,"on-ok":t.handleSelectConfirm}},[e("div",{staticClass:"scene-box"},t._l(t.taskData,(function(a,s){return e("span",{key:s,staticClass:"scene",class:{"path-click":t.attachingTaskNum===s},on:{click:function(e){return t.attachingTaskClick(s,a)}}},[t._v(" "+t._s(a.sceneName)+" ")])})),0),e("ul",{staticClass:"attaching-task-tit"},t._l(t.taskData,(function(a,s){return e("p",{directives:[{name:"show",rawName:"v-show",value:t.attachingTaskNum===s,expression:"attachingTaskNum === key"}],key:s,staticClass:"attaching-task-content"},[e("span",{staticClass:"title"},[t._v("选择附加任务")]),e("CheckboxGroup",{model:{value:t.attachingTaskVal,callback:function(a){t.attachingTaskVal=a},expression:"attachingTaskVal"}},t._l(a.affixList,(function(a,s){return e("Checkbox",{key:s,attrs:{label:a.taskName+"-"+a.taskCode+";"+a.sceneName+","+a.sceneCode}},[t._v(" "+t._s(a.taskName)+" ")])})),1)],1)})),0)]),e("adt-my-modal",{attrs:{title:"选择路线",width:"800px",showModal:t.isPathModalShow},on:{"on-visible-change":t.visibleChangePath,"on-ok":t.handlePathConfirm}},[e("Form",{ref:"deadLineFormValidate",staticClass:"select-path",attrs:{inline:"","label-position":"left",model:t.pathValData,"label-colon":!0}},[e("FormItem",[e("CheckboxGroup",{staticClass:"scene-checkbox",model:{value:t.pathValue,callback:function(a){t.pathValue=a},expression:"pathValue"}},t._l(t.pathDataValue,(function(a,s){return e("Checkbox",{key:s,attrs:{label:a.routeCode}},[e("p",{staticClass:"select-path-value"},[t._v(" "+t._s(a.routeStr.split(";").join("-"))+" ")])])})),1)],1)],1)],1)],1)},i=[],l=(e("4160"),e("caad"),e("c975"),e("baa5"),e("a9e3"),e("d3b7"),e("ac1f"),e("6062"),e("2532"),e("3ca3"),e("841c"),e("1276"),e("159b"),e("ddb0"),e("2909")),r=e("b85c"),n=(e("77ab"),e("b962")),c=e("2ef4"),o=e("8a9d"),u=e("90fe"),d={mixins:[c["a"]],name:"SaleEntry",data:function(){return{trspType:this.$getDictionary("TRANSPORT_TYPE"),cargoType:this.$getDictionary("GOODS_TYPE"),logisticsType:this.$getDictionary("LOGISTICS_TYPE"),contaSizeType:this.$getDictionary("CONTAINER_SIZE_TYPE"),contaSource:this.$getDictionary("CONTAINER_SOURCE"),trspMode:this.$getDictionary("TRANSPORT_MODE"),suitcaseType:this.$getDictionary("SUITCASE_TYPE"),timeUnit:this.$getDictionary("TIME_UNIT"),currencyUnit:this.$getDictionary("CURRENCY_CODE"),tempUnit:this.$getDictionary("TEMPERATURE_UNIT"),pathValData:{},pathValue:[],isModalShow:!1,isPathModalShow:!1,attachingTaskNum:0,attachingTaskVal:[],custStartPlace:[],custTransitPlace:[],custEndPlace:[],transitText:"",placeDepartureText:"",isTransitModal:!1,isPlaceDepartureModal:!1,ruleValidate:{cargoType:[n["a"].select("货物类型")[0]],logisticsType:[n["a"].select("物流类型")[0]],trspType:[n["a"].select("运输类型")[0]]},ctransitPlace:[],startPlace:[],endPlace:[],checkList:[],btnIndex:1,titleTabNames:["客户录入信息","销售编辑信息","调度编辑信息"],isUnderline:!0,changeIndex:1,titleNames:["设置路线参数","设置运输要求"],pathNum:0,lineNum:0,nodeNum:0,tabNum:0,tabBarShow:!0,transportServiceShow:!0,addPlaceChange:!1,isStartPlaceModalShow:!1,addEndPlaceChange:!1,isEndPlaceModalShow:!1,isClient:!1,pathDataValue:[],selectPathData:[],freightReqCode:"",freightReqStatus:"",sendShow:!1,startPlaceCode:[],endPlaceCode:[],ctransitPlaceCode:[],taskData:[],taskList:[],curList:[]}},mounted:function(){this.transitText='中转地过多会导致物流方案的费用过高，<br>时效过长，如需添加请<a class="modal-a" href="">联系客服</a>',this.placeDepartureText="您增加的启运地（目的地）已超过三个， 会匹配出多条路线。是否继续增加？"},methods:{attachingTaskClick:function(t){this.attachingTaskNum=t},selectAttachingTask:function(t,a){var e=this;this.attachingTaskVal=[];var s=t.reqTaskList;s.forEach((function(t){var a=t.sceneCode,s=t.sceneName;t.affixList.forEach((function(t){e.attachingTaskVal.push(t.taskName+"-"+t.taskCode+";"+s+","+a)}))})),this.curList=t,this.taskList=JSON.parse(JSON.stringify(t.reqTaskList));var i={logisticsType:t.serverParam.logisticsType,trspType:t.serverParam.trspType};Object(o["l"])(i).then((function(t){e.taskData=t.data})),this.isModalShow=!0},handleSelectConfirm:function(){var t=this;if(this.taskList=[],this.attachingTaskVal){var a,e="",s=Object(r["a"])(this.attachingTaskVal);try{var i=function(){var s=a.value,i={},r=s.split(",")[1],n=[];if(e.search(r)>-1)t.taskList.forEach((function(a){if(a["sceneCode"]===r){i=a,n=i.affixList;var e={};t.$set(e,"taskCode",s.substring(s.indexOf("-")+1,s.lastIndexOf(";"))),t.$set(e,"taskName",s.split("-")[0]),t.$set(e,"sceneCode",r),t.$set(e,"sceneName",s.substring(s.indexOf(";")+1,s.lastIndexOf(","))),n.push(e),i["affixList"]=n}}));else{t.$set(i,"sceneCode",r),t.$set(i,"sceneName",s.substring(s.indexOf(";")+1,s.lastIndexOf(",")));var c={};t.$set(c,"taskCode",s.substring(s.indexOf("-")+1,s.lastIndexOf(";"))),t.$set(c,"taskName",s.split("-")[0]),t.$set(c,"sceneCode",r),t.$set(c,"sceneName",s.substring(s.indexOf(";")+1,s.lastIndexOf(","))),n.push(c),t.$set(i,"affixList",n),e+=r+";",t.taskList.push(i),t.taskList=Object(l["a"])(new Set(t.taskList))}};for(s.s();!(a=s.n()).done;)i()}catch(n){s.e(n)}finally{s.f()}}this.isModalShow=!1,this.curList.reqTaskList=this.taskList},pathClick:function(t,a){this.pathNum=t},handleBtn:function(t,a){this.changeIndex=t+1,this.tabBarShow="设置运输要求"!==a},lineSectionsClick:function(t,a){this.$set(this.pathData[a],"lineNum",t)},nodeSectionsClick:function(t,a){this.$set(this.pathData[a],"nodeNum",t)},leftTabClick:function(t){this.tabNum=t,0==this.tabNum?this.transportServiceShow=!0:this.transportServiceShow=!1},save:function(t){var a,e=this,s=JSON.parse(JSON.stringify(this.pathData)),i=Object(r["a"])(s);try{for(i.s();!(a=i.n()).done;){var l=a.value;l.lastArriveTime=Object(u["f"])(l.lastArriveTime),l.lastStartTime=Object(u["f"])(l.lastStartTime),l.cargoSuitTemp=Number(l.cargoSuitTemp),l.contaQty=Number(l.contaQty),l.highestCostReq=Number(l.highestCostReq),l.custStartPlace=this.startPlaceCode,l.custTransitPlace=this.ctransitPlaceCode,l.custEndPlace=this.endPlaceCode;var n,c=Object(r["a"])(l.nodeList);try{for(c.s();!(n=c.n()).done;){var d=n.value;d.serverParam.contaQty=Number(d.serverParam.contaQty)}}catch(v){c.e(v)}finally{c.f()}var p,h=Object(r["a"])(l.roadList);try{for(h.s();!(p=h.n()).done;){var m=p.value;m.serverParam.contaQty=Number(m.serverParam.contaQty)}}catch(v){h.e(v)}finally{h.f()}this.$set(l,"cargoType",this.transitModal.cargoType),this.$set(l,"logisticsType",this.transitModal.logisticsType),this.$set(l,"trspType",this.transitModal.trspType),this.$set(l,"freightBrief",this.transitModal.freightBrief)}}catch(v){i.e(v)}finally{i.f()}this.$refs.formValidate.validate((function(t){t&&Object(o["o"])({data:s}).then((function(t){e.$Message.info(t.message),e.freightReqCode=t.data.freightReqCode,e.freightReqStatus=t.data.freightReqStatus,e.sendShow=!0}))}))},send:function(){var t=this,a={freightReqCode:this.freightReqCode,freightReqStatus:this.freightReqStatus};Object(o["t"])({data:a}).then((function(a){t.$Message.info(a.message),200==a.code&&t.$router.push("/freight-request/sale-list/1")}))},handleConfirm:function(){this.addPlaceChange=!0,this.isPlaceDepartureModal=!1},handleCancel:function(){this.isEndPlaceModalShow=!1,this.isStartPlaceModalShow=!1,this.isPlaceDepartureModal=!1},transitConfirm:function(){this.isTransitModal=!1},handlePathConfirm:function(){var t,a=[],e=Object(r["a"])(this.pathDataValue);try{for(e.s();!(t=e.n()).done;){var s=t.value;this.pathValue.includes(s.routeCode)&&a.push(s)}}catch(x){e.e(x)}finally{e.f()}for(var i=0,l=a;i<l.length;i++){var n=l[i];this.$set(n,"roleList",{}),this.$set(n,"custEndPlace",this.endPlace),this.$set(n,"custStartPlace",this.startPlace),this.$set(n,"custTransitPlace",this.ctransitPlace),this.$set(n,"contaList",[]);var c,o=Object(r["a"])(n.roadList);try{for(o.s();!(c=o.n()).done;){var u=c.value;this.$set(u,"departurePort",u.startPlace),this.$set(u,"destinationPort",u.endPlace),this.$set(u,"serverParam",{}),this.$set(u,"reqTaskList",[])}}catch(x){o.e(x)}finally{o.f()}var d,p=Object(r["a"])(n.nodeList);try{for(p.s();!(d=p.n()).done;){var h=d.value;this.$set(h,"nodePort",h.node),this.$set(h,"serverParam",{}),this.$set(h,"reqTaskList",[])}}catch(x){p.e(x)}finally{p.f()}}this.pathData=a;var m,v=Object(r["a"])(this.pathData);try{for(v.s();!(m=v.n()).done;){var y,f=m.value,b=Object(r["a"])(f.roadList);try{for(b.s();!(y=b.n()).done;){var k=y.value;this.$set(k.serverParam,"contaShow",!0)}}catch(x){b.e(x)}finally{b.f()}}}catch(x){v.e(x)}finally{v.f()}var C,T=Object(r["a"])(this.pathData);try{for(T.s();!(C=T.n()).done;){var _,S=C.value,g=Object(r["a"])(S.nodeList);try{for(g.s();!(_=g.n()).done;){var P=_.value;this.$set(P.serverParam,"contaNodeShow",!0)}}catch(x){g.e(x)}finally{g.f()}}}catch(x){T.e(x)}finally{T.f()}this.isPathModalShow=!1},selectPathClick:function(){this.isPathModalShow=!0}}},p=d,h=(e("096e"),e("2877")),m=Object(h["a"])(p,s,i,!1,null,"4beadd08",null);a["default"]=m.exports},"096e":function(t,a,e){"use strict";var s=e("2aba"),i=e.n(s);i.a},"2aba":function(t,a,e){}}]);