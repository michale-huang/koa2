(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7d46116e"],{"091e":function(t,e,n){"use strict";var a=n("29ca"),o=n.n(a);o.a},"29ca":function(t,e,n){},"5b33":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[t._m(0),n("div",{staticClass:"login-under"},[n("div",{staticClass:"content"},[n("div",{staticClass:"content-left"},[n("div",{staticClass:"content-left-title",class:{"login-title-color":1==t.changeIndex},on:{click:function(e){return t.accountSwitch(1)}}},[n("div",{staticClass:"content-left-mark",class:{"content-left-mark-color":1==t.changeIndex}}),n("svg",{staticClass:"iconfont content-left-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icondengluzhuceqietu_zhanghudenglu1"}})]),n("span",{staticClass:"content-left-font"},[t._v("账号登录")])]),n("div",{staticClass:"content-left-title",class:{"login-title-color":2==t.changeIndex},on:{click:function(e){return t.accountSwitch(2)}}},[n("div",{staticClass:"content-left-mark",class:{"content-left-mark-color":2==t.changeIndex}}),n("svg",{staticClass:"iconfont content-left-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icondengluzhuceqietu_shoujidenglu1"}})]),n("span",{staticClass:"content-left-font"},[t._v("手机登录")])]),n("div",{staticClass:"content-left-title",class:{"login-title-color":3==t.changeIndex},on:{click:function(e){return t.accountSwitch(3)}}},[n("div",{staticClass:"content-left-mark",class:{"content-left-mark-color":3==t.changeIndex}}),n("svg",{staticClass:"iconfont content-left-icon",attrs:{"aria-hidden":"true"}},[n("use",{attrs:{"xlink:href":"#icondengluzhuceqietu_weixindenglu1"}})]),n("span",{staticClass:"content-left-font"},[t._v("微信登录")])])]),t._m(1),n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.changeIndex,expression:"changeIndex == 1"}],staticClass:"content-from"},[n("div",{staticClass:"content-from-title"},[t._v("账户登录")]),n("Form",{ref:"formInline",attrs:{model:t.formInline,rules:t.ruleInline,inline:""}},[n("FormItem",{staticClass:"content-from-input",attrs:{prop:"accountName"}},[n("Input",{attrs:{type:"text",placeholder:"请输入账号"},model:{value:t.formInline.accountName,callback:function(e){t.$set(t.formInline,"accountName",e)},expression:"formInline.accountName"}})],1),n("FormItem",{staticClass:"content-from-input",attrs:{prop:"loginPwd"}},[n("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.formInline.loginPwd,callback:function(e){t.$set(t.formInline,"loginPwd",e)},expression:"formInline.loginPwd"}})],1)],1),n("Button",{staticClass:"content-from-btn",attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit(1)}}},[t._v("登录")]),t._m(2)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:2==t.changeIndex,expression:"changeIndex == 2"}],staticClass:"content-from"},[n("div",{staticClass:"content-from-title"},[t._v("手机登录")]),n("Form",{ref:"formItem",attrs:{model:t.formItem,rules:t.ruleInline,inline:""}},[n("FormItem",{staticClass:"content-from-input",attrs:{prop:"phonenumber"}},[n("phone-input",{attrs:{prefix:t.formItem.areaCode,width:"236",suffix:t.formItem.phonenumber},on:{prefixChange:function(e){t.formItem.areaCode=arguments[0]},suffixChange:function(e){t.formItem.phonenumber=arguments[0]}}})],1),n("FormItem",{staticClass:"content-from-input",attrs:{prop:"code"}},[n("Input",{staticClass:"content-from-input-input",attrs:{type:"text",placeholder:"请输入验证码"},model:{value:t.formItem.code,callback:function(e){t.$set(t.formItem,"code",e)},expression:"formItem.code"}}),n("Button",{staticClass:"content-from-input-btn",attrs:{type:"primary",ghost:"",disabled:t.disabled},on:{click:t.getCode}},[n("span",{staticClass:"font-getcode"},[t._v(t._s(t.changeCode))])])],1)],1),n("Button",{staticClass:"content-from-btn",attrs:{type:"primary"},on:{click:function(e){return t.handleSubmit(2)}}},[t._v("登录")]),t._m(3)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:3==t.changeIndex,expression:"changeIndex == 3"}],staticClass:"content-from"},[n("div",{staticClass:"content-from-title"},[t._v("手机登录")]),n("div")])])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-top"},[a("div",{staticClass:"login-log"},[a("img",{staticClass:"img-show",attrs:{src:n("66ec"),alt:"正在加载"}})]),a("div",{staticClass:"login-title"},[t._v("供应链管理系统")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content-img"},[a("img",{staticClass:"content-img-show",attrs:{src:n("b314"),alt:"正在加载"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-from-font"},[n("span",[t._v("忘记密码？")]),n("span",{staticClass:"clear-fix"},[t._v("去注册")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content-from-font"},[n("span",[t._v("忘记密码？")]),n("span",{staticClass:"clear-fix"},[t._v("去注册")])])}],s=n("b962"),i=n("2934"),c=n("4ec3"),r=function(t){return Object(i["c"])("".concat(c["e"],"/auth/login"),t)},l=function(t){return Object(i["a"])("".concat(c["e"],"/auth/account"),t)},d=n("e56e"),u={props:["redirect"],data:function(){return{formInline:{accountName:"",loginPwd:""},ruleInline:{accountName:[s["a"].required("账号")[0]],loginPwd:[s["a"].required("密码")[0]]},formItem:{phonenumber:"",code:"",areaCode:""},changeIndex:"1",changeCode:"获取验证码",disabled:!1,resend:60}},created:function(){var t=this;Object(d["d"])().then((function(e){e.data?window.localStorage.setItem("dictionary",JSON.stringify(e.data)):t.$Message.error({content:"无法获取字典，请联系管理员"})}))},methods:{accountSwitch:function(t){this.changeIndex=t},getCode:function(){this.codeCountdown()},codeCountdown:function(){var t=this;if(0===this.resend)this.resend=60;else{var e=function(){t.resend>0&&(t.resend--,t.changeCode="倒计时("+t.resend+")",t.disabled=!0),0===t.resend&&(t.disabled=!1,t.changeCode="获取验证码")};t.changeCode="倒计时("+t.resend+")",t.disabled=!0,setInterval((function(){e()}),1e3)}},handleSubmit:function(t){var e=this;if(1==t){var n=this.formInline;this.$refs["formInline"].validate((function(t){t&&r({data:n}).then((function(t){200==t.code?(window.localStorage.setItem("accessToken",t.data),l().then((function(t){if(200==t.code){var n={accountEmail:t.data.accountEmail,accountId:t.data.accountId,accountName:t.data.accountName,accountTel:t.data.accountTel,appCode:t.data.appCode,functions:t.data.functions,organizationId:t.data.organizationId,organizationName:t.data.organizationName,roles:t.data.roles,roleName:t.data.roleName},a=t.data.menus;window.localStorage.setItem("user",JSON.stringify(n)),window.localStorage.setItem("menu",JSON.stringify(a)),window.sessionStorage.removeItem("tabMenuArr"),e.$router.push({path:e.redirect?window.decodeURIComponent(e.redirect):"/logisstics-commission/home"})}else e.$router.push({path:"/login"})}))):(e.$Message.error(err),e.$router.push({path:"/login"}))}))}))}}}},m=u,f=(n("091e"),n("2877")),h=Object(f["a"])(m,a,o,!1,null,"76fedfd4",null);e["default"]=h.exports},"66ec":function(t,e,n){t.exports=n.p+"img/log.1b1aee0a.png"},b314:function(t,e,n){t.exports=n.p+"img/log-img.8d022c54.png"}}]);