(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39aaf166"],{"125b":function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"a",(function(){return c})),e.d(a,"c",(function(){return r}));var n=e("2934"),o=e("4ec3"),i=function(t){return Object(n["a"])("".concat(o["i"],"/organizationInfo/getOrganizationList"),t)},c=function(t){return Object(n["c"])("".concat(o["i"],"/organizationInfo/addOrganization"),t)},r=function(t){return Object(n["c"])("".concat(o["i"],"/organizationInfo/modifyOrganization"),t)}},5044:function(t,a,e){},"7b46":function(t,a,e){"use strict";a["a"]={props:{page:{default:1}},data:function(){return{total:0,perpage:15}},created:function(){this.dataInit("judgment")},watch:{$route:function(){this.dataInit()}},methods:{paginatorInit:function(t,a){this.perpage=t,this.total=a}}}},f6db:function(t,a,e){"use strict";var n=e("5044"),o=e.n(n);o.a},f9b9:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("adt-search-folder",{attrs:{searchRouter:{query:{accountName:t.search.accountName,organizationId:t.search.organizationId,phoneNumber:t.search.phoneNumber}}},on:{"on-triggerFolder":t.searchChange}},[e("template",{slot:"always-show"},[e("Col",{staticClass:"form-item",attrs:{span:"6"}},[e("span",[t._v(" 账户名称：")]),e("Input",{attrs:{clearable:""},model:{value:t.search.accountName,callback:function(a){t.$set(t.search,"accountName",a)},expression:"search.accountName"}})],1),e("Col",{staticClass:"form-item",attrs:{span:"6"}},[e("span",[t._v(" 部门ID：")]),e("Input",{attrs:{clearable:""},model:{value:t.search.organizationId,callback:function(a){t.$set(t.search,"organizationId",a)},expression:"search.organizationId"}})],1),e("Col",{staticClass:"form-item",attrs:{span:"6"}},[e("span",[t._v(" 手机号码：")]),e("Input",{attrs:{clearable:""},model:{value:t.search.phoneNumber,callback:function(a){t.$set(t.search,"phoneNumber",a)},expression:"search.phoneNumber"}})],1)],1)],2),e("div",{staticClass:"btns-paginator"},[e("AdtButton",{staticClass:"btn-operating",attrs:{allDelShow:!0,delUrl:t.delUrl,selectList:t.selectList}},[e("Button",{on:{click:function(a){return t.add()}}},[t._v("新增账户 "),e("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_tianjia"}})])])],1),e("AdtMyModal",{attrs:{title:t.modelTitle,okText:"保存",cancelText:"取消",showModal:t.isModalShow},on:{"on-visible-change":t.addvisibleChange,"on-ok":function(a){return t.save()},"on-cancel":function(a){return t.cancel()}}},[e("Form",{ref:"formItemData",attrs:{model:t.formItem,rules:t.formItemRule,"label-width":100,"label-colon":""}},[e("FormItem",{attrs:{label:"邮箱",prop:"accountEmail"}},[e("Input",{model:{value:t.formItem.accountEmail,callback:function(a){t.$set(t.formItem,"accountEmail",a)},expression:"formItem.accountEmail"}})],1),e("FormItem",{attrs:{label:"账户名",prop:"accountName"}},[e("Input",{model:{value:t.formItem.accountName,callback:function(a){t.$set(t.formItem,"accountName",a)},expression:"formItem.accountName"}})],1),e("FormItem",{attrs:{label:"密码",prop:"loginPwd"}},[e("Input",{model:{value:t.formItem.loginPwd,callback:function(a){t.$set(t.formItem,"loginPwd",a)},expression:"formItem.loginPwd"}})],1),e("FormItem",{attrs:{label:"手机号码",prop:"phoneNumber"}},[e("phone-input",{attrs:{prefix:t.formItem.internationalPhonePrefix,suffix:t.formItem.phoneNumber,width:"323"},on:{prefixChange:function(a){t.formItem.internationalPhonePrefix=arguments[0]},suffixChange:function(a){t.formItem.phoneNumber=arguments[0]}}})],1),e("FormItem",{attrs:{label:"部门ID",prop:"organizationId"}},[e("Select",{model:{value:t.formItem.organizationId,callback:function(a){t.$set(t.formItem,"organizationId",a)},expression:"formItem.organizationId"}},t._l(t.departmentId,(function(a,n){return e("Option",{key:n,attrs:{value:a.statusValue}},[t._v(t._s(a.statusValue))])})),1)],1),e("FormItem",{attrs:{label:"账户状态",prop:"accountStatus"}},[e("Select",{model:{value:t.formItem.accountStatus,callback:function(a){t.$set(t.formItem,"accountStatus",a)},expression:"formItem.accountStatus"}},t._l(t.formStatus,(function(a,n){return e("Option",{key:n,attrs:{value:a.statusKey}},[t._v(t._s(a.statusValue))])})),1)],1)],1)],1),e("adt-paginator",{staticClass:"pagination",attrs:{currentPage:~~t.page,total:~~t.total,path:"/authority-manage/user-manage"},on:{getPages:t.getPages}})],1),e("div",{staticClass:"public-table-data"},[e("Table",{attrs:{columns:t.tableColumns,data:t.tableData,stripe:""},on:{"on-selection-change":t.check},scopedSlots:t._u([{key:"action",fn:function(a){var n=a.row;a.index;return[e("svg",{staticClass:"icon-action iconfont",attrs:{"aria-hidden":"true"},on:{click:function(a){return t.edit(n)}}},[e("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_caozuo-bianji"}})]),e("svg",{staticClass:"icon-action iconfont",attrs:{"aria-hidden":"true"},on:{click:function(a){return t.remove(n)}}},[e("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_caozuo-shanchu"}})])]}}])})],1),e("adt-reconfirm-modal",{attrs:{showModal:t.isActionDel},on:{"on-visible-change":t.visibleChange,"on-ok":function(a){return t.allDelClick()}}})],1)},o=[],i=(e("4160"),e("ac1f"),e("841c"),e("159b"),e("7b46")),c=e("2934"),r=e("4ec3"),s=function(t){return Object(c["c"])("".concat(r["i"],"/account/accountAdd"),t)},u=function(t){return Object(c["c"])("".concat(r["i"],"/account/accountQueryList"),t)},l=function(t){return Object(c["a"])("".concat(r["i"],"/account/accountDeleteById"),t)},m=function(t){return Object(c["c"])("".concat(r["i"],"/account/accountDeletes"),t)},d=function(t){return Object(c["c"])("".concat(r["i"],"/account/accountUpdate"),t)},f=e("125b"),h=e("b962"),g={mixins:[i["a"]],data:function(){return{modelTitle:"",search:{},isActionDel:!1,isModalShow:!1,formItem:{accountEmail:"",accountName:"",loginPwd:"",phoneNumber:"",organizationId:"",accountStatus:""},formStatus:[{statusKey:"enable",statusValue:"可用"},{statusKey:"disable",statusValue:"禁用"}],formItemRule:{accountEmail:[h["a"].required("邮箱")[0],h["a"].email()[0]],accountName:[h["a"].required("账户名")[0]],loginPwd:[h["a"].required("密码")[0]],phoneNumber:[h["a"].required("手机号")[0],h["a"].phone()[0]],organizationId:[h["a"].select("部门ID")[0]],accountStatus:[h["a"].select("账户状态")[0]]},tableColumns:[{title:"选择",align:"center",type:"selection"},{title:"账户名",align:"center",key:"accountName"},{title:"部门ID",align:"center",key:"organizationId"},{title:"手机号码",align:"center",key:"phoneNumber"},{title:"邮箱",align:"center",key:"accountEmail"},{title:"账户状态",align:"center",key:"accountStatus"},{title:"账户类型",align:"center",key:"accountType"},{title:"创建人",align:"center",key:"createBy"},{title:"创建时间",align:"center",key:"createDatetime"},{title:"操作",align:"center",key:"operating",slot:"action"}],tableData:[],departmentId:[],internationalPhonePrefix:"",phoneNumber:"",distinguish:0,delUrl:m,selectList:{},passData:{}}},mounted:function(){this.getOrganizationListData()},methods:{addvisibleChange:function(t){this.isModalShow=t},visibleChange:function(t){this.isActionDel=t},getPages:function(t){this.page=t},dataInit:function(){this.getData()},getData:function(){var t=this,a={size:15,page:this.page,accountName:this.search.accountName,organizationId:this.search.organizationId,phoneNumber:this.search.phoneNumber};u({data:a}).then((function(a){200==a.code&&(t.tableData=a.data.content||[],t.total=a.data.totalElements)}))},searchChange:function(){},add:function(){this.isModalShow=!0,this.distinguish=1,this.modelTitle="新增账户"},getOrganizationListData:function(){var t=this;Object(f["b"])().then((function(a){200==a.code&&a.data.forEach((function(a){t.departmentId.push({statusValue:a.organizationId})}))}))},save:function(){var t=this;if(1==this.distinguish){var a={accountEmail:this.formItem.accountEmail,accountName:this.formItem.accountName,accountStatus:this.formItem.accountStatus,internationalPhonePrefix:this.formItem.internationalPhonePrefix,loginPwd:this.formItem.loginPwd,organizationId:this.formItem.organizationId,phoneNumber:this.formItem.phoneNumber};this.$refs["formItemData"].validate((function(e){e&&s({data:a}).then((function(a){200==a.code&&(t.$Message.info("保存成功"),t.isModalShow=!1,t.$refs.formItemData.resetFields(),t.getData())}))}))}if(2==this.distinguish){var e={accountId:this.accountId,accountEmail:this.formItem.accountEmail,accountName:this.formItem.accountName,accountStatus:this.formItem.accountStatus,internationalPhonePrefix:this.formItem.internationalPhonePrefix,loginPwd:this.formItem.loginPwd,organizationId:this.formItem.organizationId,phoneNumber:this.formItem.phoneNumber};this.$refs["formItemData"].validate((function(a){a&&d({data:e}).then((function(a){200==a.code&&200==a.code&&(t.$Message.info("保存成功"),t.isModalShow=!1)}))}))}},cancel:function(){this.isModalShow=!1,this.$refs.formItemData.resetFields(),this.getData()},edit:function(t){this.accountId=t.accountId,this.isModalShow=!0,this.formItem=t,this.distinguish=2,this.modelTitle="编辑账户"},remove:function(t){this.isActionDel=!0,this.passData={accountId:[t.accountId]}},allDelClick:function(){var t=this;l(this.passData).then((function(a){200==a.code&&(t.isActionDel=!1,t.$Message.info("删除成功"),t.getData())}))},check:function(t){var a=[];t.forEach((function(t){a.push(t.accountId)})),this.dictionarySeclect=a,this.selectList={accountIds:this.dictionarySeclect}}}},I=g,p=(e("f6db"),e("2877")),b=Object(p["a"])(I,n,o,!1,null,"03c237b7",null);a["default"]=b.exports}}]);