(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6813ea1f"],{1362:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ae-form"},[a("div",{staticClass:"public-form-box"},[a("div",{staticClass:"public-form-content"},[a("Form",{ref:"formValidate",attrs:{"label-position":"right","label-width":152,rules:e.formItemRule,model:e.formModel}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("Col",{attrs:{span:"8"}},[a("p",{staticClass:"item-form-title"},[e._v("发货人信息")]),a("FormItem",{attrs:{label:"发货人名称：",prop:"FattenName"}},[a("Input",{model:{value:e.formModel.FattenName,callback:function(t){e.$set(e.formModel,"FattenName",t)},expression:"formModel.FattenName"}})],1),a("FormItem",{attrs:{label:"代码："}},[a("Input",{model:{value:e.formModel.Fcode,callback:function(t){e.$set(e.formModel,"Fcode",t)},expression:"formModel.Fcode"}})],1),a("FormItem",{attrs:{label:"地址：",prop:"FattenAddr"}},[a("Input",{model:{value:e.formModel.FattenAddr,callback:function(t){e.$set(e.formModel,"FattenAddr",t)},expression:"formModel.FattenAddr"}})],1),a("FormItem",{attrs:{label:"电话：",prop:"FattenTel"}},[a("Input",{model:{value:e.formModel.FattenTel,callback:function(t){e.$set(e.formModel,"FattenTel",t)},expression:"formModel.FattenTel"}})],1),a("FormItem",{attrs:{label:"传真："}},[a("Input",{model:{value:e.formModel.FattenFax,callback:function(t){e.$set(e.formModel,"FattenFax",t)},expression:"formModel.FattenFax"}})],1),a("FormItem",{attrs:{label:"邮箱："}},[a("Input",{model:{value:e.formModel.FattenEmail,callback:function(t){e.$set(e.formModel,"FattenEmail",t)},expression:"formModel.FattenEmail"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("p",{staticClass:"item-form-title"},[e._v("收货人信息")]),a("FormItem",{attrs:{label:"收货人名称：",prop:"SattenName"}},[a("Input",{model:{value:e.formModel.SattenName,callback:function(t){e.$set(e.formModel,"SattenName",t)},expression:"formModel.SattenName"}})],1),a("FormItem",{attrs:{label:"代码："}},[a("Input",{model:{value:e.formModel.Scode,callback:function(t){e.$set(e.formModel,"Scode",t)},expression:"formModel.Scode"}})],1),a("FormItem",{attrs:{label:"地址：",prop:"SattenAddr"}},[a("Input",{model:{value:e.formModel.SattenAddr,callback:function(t){e.$set(e.formModel,"SattenAddr",t)},expression:"formModel.SattenAddr"}})],1),a("FormItem",{attrs:{label:"电话：",prop:"SattenTel"}},[a("Input",{model:{value:e.formModel.SattenTel,callback:function(t){e.$set(e.formModel,"SattenTel",t)},expression:"formModel.SattenTel"}})],1),a("FormItem",{attrs:{label:"传真："}},[a("Input",{model:{value:e.formModel.SattenFax,callback:function(t){e.$set(e.formModel,"SattenFax",t)},expression:"formModel.SattenFax"}})],1),a("FormItem",{attrs:{label:"邮箱："}},[a("Input",{model:{value:e.formModel.SattenEmail,callback:function(t){e.$set(e.formModel,"SattenEmail",t)},expression:"formModel.SattenEmail"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("p",{staticClass:"item-form-title"},[e._v("通知人信息")]),a("FormItem",{attrs:{label:"通知人名称：",prop:"TattenName"}},[a("Input",{model:{value:e.formModel.TattenName,callback:function(t){e.$set(e.formModel,"TattenName",t)},expression:"formModel.TattenName"}})],1),a("FormItem",{attrs:{label:"代码："}},[a("Input",{model:{value:e.formModel.Tcode,callback:function(t){e.$set(e.formModel,"Tcode",t)},expression:"formModel.Tcode"}})],1),a("FormItem",{attrs:{label:"地址：",prop:"TattenAddr"}},[a("Input",{model:{value:e.formModel.TattenAddr,callback:function(t){e.$set(e.formModel,"TattenAddr",t)},expression:"formModel.TattenAddr"}})],1),a("FormItem",{attrs:{label:"电话：",prop:"TattenTel"}},[a("Input",{model:{value:e.formModel.TattenTel,callback:function(t){e.$set(e.formModel,"TattenTel",t)},expression:"formModel.TattenTel"}})],1),a("FormItem",{attrs:{label:"传真："}},[a("Input",{model:{value:e.formModel.TattenFax,callback:function(t){e.$set(e.formModel,"TattenFax",t)},expression:"formModel.TattenFax"}})],1),a("FormItem",{attrs:{label:"邮箱：",prop:"TattenEmail"}},[a("Input",{model:{value:e.formModel.TattenEmail,callback:function(t){e.$set(e.formModel,"TattenEmail",t)},expression:"formModel.TattenEmail"}})],1)],1)],1),a("Col",{attrs:{span:"6"}},[a("p",{staticClass:"item-form-title"},[e._v("服务参数")]),a("FormItem",{attrs:{label:"运输类型：",prop:"trspType"}},[a("Select",{attrs:{clearable:""},model:{value:e.planForm.trspType,callback:function(t){e.$set(e.planForm,"trspType",t)},expression:"planForm.trspType"}},e._l(e.trspTypeList,(function(t,o){return a("Option",{key:o,attrs:{value:t.dictionaryKey}},[e._v(e._s(t.dictionaryValue))])})),1)],1),a("FormItem",{attrs:{label:"集装箱尺寸类型："}},[a("Select",{attrs:{clearable:""},model:{value:e.planForm.contaSize,callback:function(t){e.$set(e.planForm,"contaSize",t)},expression:"planForm.contaSize"}},e._l(e.contaSizeList,(function(t,o){return a("Option",{key:o,attrs:{value:t.dictionaryKey}},[e._v(e._s(t.dictionaryValue))])})),1)],1),a("FormItem",{attrs:{label:"集装箱来源："}},[a("Select",{attrs:{clearable:""},model:{value:e.planForm.containerSource,callback:function(t){e.$set(e.planForm,"containerSource",t)},expression:"planForm.containerSource"}},e._l(e.containerSourceList,(function(t,o){return a("Option",{key:o,attrs:{value:t.dictionaryKey}},[e._v(e._s(t.dictionaryValue))])})),1)],1),e._l(3,(function(t,o){return a("FormItem",{key:o,staticClass:"jz-meaningless"},[a("template",{slot:"label"},[e._v("无意义")]),a("Input",{attrs:{disabled:""}})],2)}))],2)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("p",{staticClass:"item-form-title"},[e._v("货物信息")]),a("div",{staticClass:"public-line"}),a("div",{staticClass:"scroll-box"},[a("cargo-info",{on:{cargoInfoItem:e.cargoInfoItem_m}},[a("template",{slot:"btns-end"},[a("span",[e._v("货物类型：")]),a("span",[a("Select",{attrs:{filterable:"",clearable:""},model:{value:e.planForm.cargoType,callback:function(t){e.$set(e.planForm,"cargoType",t)},expression:"planForm.cargoType"}},e._l(e.cargoTypeList,(function(t){return a("Option",{key:t.dictionaryKey,attrs:{value:t.dictionaryKey}},[e._v(e._s(t.dictionaryValue))])})),1)],1)])],2)],1)]),a("Col",{attrs:{span:"6"}},[a("p",{staticClass:"item-form-title"},[e._v("运输要求")]),a("FormItem",{attrs:{label:"主要运输方式："}},[a("Select",{attrs:{clearable:""},model:{value:e.planForm.trspMode,callback:function(t){e.$set(e.planForm,"trspMode",t)},expression:"planForm.trspMode"}},e._l(e.trspModeList,(function(t,o){return a("Option",{key:o,attrs:{value:t.dictionaryKey}},[e._v(e._s(t.dictionaryValue))])})),1)],1),a("FormItem",{attrs:{label:"物流类型："}},[a("Select",{attrs:{clearable:""},model:{value:e.planForm.logisticsType,callback:function(t){e.$set(e.planForm,"logisticsType",t)},expression:"planForm.logisticsType"}},e._l(e.logisticsTypeList,(function(t,o){return a("Option",{key:o,attrs:{value:t.dictionaryKey}},[e._v(e._s(t.dictionaryValue))])})),1)],1),a("FormItem",{attrs:{label:"提箱类型："}},[a("Select",{attrs:{clearable:""},model:{value:e.planForm.suitcaseType,callback:function(t){e.$set(e.planForm,"suitcaseType",t)},expression:"planForm.suitcaseType"}},e._l(e.suitcaseTypeList,(function(t,o){return a("Option",{key:o,attrs:{value:t.dictionaryKey}},[e._v(e._s(t.dictionaryValue))])})),1)],1),a("FormItem",{attrs:{label:"集装箱数量："}},[a("Input",{model:{value:e.planForm.suitcaseQty,callback:function(t){e.$set(e.planForm,"suitcaseQty",t)},expression:"planForm.suitcaseQty"}})],1),a("FormItem",{attrs:{label:"货物适宜温度："}},[a("Input",{model:{value:e.planForm.setTemperatureAt,callback:function(t){e.$set(e.planForm,"setTemperatureAt",t)},expression:"planForm.setTemperatureAt"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("℃")])])],1),a("FormItem",{attrs:{label:"出口报关地："}},[a("Cascader",{attrs:{data:e.cityList},model:{value:e.planForm.exPort,callback:function(t){e.$set(e.planForm,"exPort",t)},expression:"planForm.exPort"}})],1),a("FormItem",{attrs:{label:"进口报关地："}},[a("Cascader",{attrs:{data:e.cityList},model:{value:e.planForm.imPort,callback:function(t){e.$set(e.planForm,"imPort",t)},expression:"planForm.imPort"}})],1),a("FormItem",{attrs:{label:"最迟启运时间："}},[a("DatePicker",{attrs:{type:"datetime",placeholder:"Select date"},model:{value:e.formModel.lastStartTime,callback:function(t){e.$set(e.formModel,"lastStartTime",t)},expression:"formModel.lastStartTime"}})],1),a("FormItem",{attrs:{label:"最低时长要求："}},[a("Input",{model:{value:e.planForm.lowestTimeReq,callback:function(t){e.$set(e.planForm,"lowestTimeReq",t)},expression:"planForm.lowestTimeReq"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("天")])])],1),a("FormItem",{attrs:{label:"最高费用要求："}},[a("Input",{model:{value:e.planForm.highestCostReq,callback:function(t){e.$set(e.planForm,"highestCostReq",t)},expression:"planForm.highestCostReq"}})],1),a("FormItem",{attrs:{label:"预计货好时间：",prop:"cargoReadyTime"}},[a("DatePicker",{attrs:{type:"datetime",placeholder:"Select date"},model:{value:e.formModel.cargoReadyTime,callback:function(t){e.$set(e.formModel,"cargoReadyTime",t)},expression:"formModel.cargoReadyTime"}})],1),a("FormItem",{attrs:{label:"最晚到达时间："}},[a("DatePicker",{attrs:{type:"datetime",placeholder:"Select date"},model:{value:e.formModel.lastArriveTime,callback:function(t){e.$set(e.formModel,"lastArriveTime",t)},expression:"formModel.lastArriveTime"}})],1),a("FormItem",{attrs:{label:"合同编号："}},[a("Input",{model:{value:e.formModel.contractCode,callback:function(t){e.$set(e.formModel,"contractCode",t)},expression:"formModel.contractCode"}})],1),a("FormItem",{attrs:{label:"备注："}},[a("Input",{model:{value:e.formModel.remark,callback:function(t){e.$set(e.formModel,"remark",t)},expression:"formModel.remark"}})],1)],1)],1)],1)],1)])])},r=[],l=(a("a15b"),a("d81d"),a("5530")),n=a("15fd"),s=a("77ab"),i=a("b962"),m=a("c1df"),c=a.n(m),d=a("158d"),p=a("8f27"),u=a("c9c1"),f={name:"ae-form",mixins:[p["a"],u["a"]],props:{planData:{type:Object,default:function(){return{}}}},components:{CargoInfo:d["a"]},data:function(){return{trspTypeList:this.$getDictionary("TRANSPORT_TYPE"),contaSizeList:this.$getDictionary("CONTAINER_SIZE_TYPE"),containerSourceList:this.$getDictionary("CONTAINER_SOURCE"),trspModeList:this.$getDictionary("TRANSPORT_MODE"),logisticsTypeList:this.$getDictionary("LOGISTICS_TYPE"),suitcaseTypeList:this.$getDictionary("SUITCASE_TYPE"),cargoTypeList:this.$getDictionary("GOODS_TYPE"),formModel:{},CargoInfoList:[],planForm:{cargoType:"G",trspType:"",contaSize:"",containerSource:"",trspMode:"1",logisticsType:"I",suitcaseType:"Y",suitcaseQty:null,setTemperatureAt:null,lowestTimeReq:null,highestCostReq:""},formItemRule:{FattenName:[i["a"].required("名称")[0]],FattenAddr:[i["a"].required("地址")[0]],FattenTel:[i["a"].required("电话")[0]],SattenName:[i["a"].required("名称")[0]],SattenAddr:[i["a"].required("地址")[0]],SattenTel:[i["a"].required("电话")[0]],TattenName:[i["a"].required("名称")[0]],TattenAddr:[i["a"].required("地址")[0]],TattenEmail:[i["a"].required("邮箱")[0]],cargoReadyTime:[{required:!0,type:"date",message:"",trigger:"change"}],TattenTel:[i["a"].required("电话")[0]],connum:[i["a"].required("")[0],i["a"].number()[0]]}}},created:function(){this.initdataplan(),this.getCity_m()},methods:{hjz:function(e){return e.join(",")},initdataplan:function(){var e=this.planData,t=(e.routeLists,Object(n["a"])(e,["routeLists"])),a=Object(l["a"])(Object(l["a"])({},t),this.planForm);this.planForm=a},_add:function(){var e=this;if(this.CargoInfoList.length<=0)this.$Message.error("货物信息必填");else{var t=this.CargoInfoList.map((function(t){return{cargoName:t.cargoName,cargoType:e.planForm.cargoType,cargoVol:+t.cargoVol||0,cargoQty:+t.cargoQty||0,grossWeight:+t.grossWeight||0,weightUnit:"kg",hsCode:t.hsCode,markNo:t.markNo,netWeight:+t.netWeight,vodUnit:"m³",suitcaseQty:0,entrustPackagingReqList:[{grossWeight:+t.grossWeight0||0,netWeight:+t.netWeight0||0,packPcode:"0",packQty:+t.packQty0||0,packType:t.packType0,packVol:+t.packVol0||0},{grossWeight:+t.grossWeight1||0,netWeight:+t.netWeight1||0,packPcode:"1",packQty:+t.packQty1||0,packType:t.packType1,packVol:+t.packVol1||0}]}})),a=c()(this.formModel.cargoReadyTime).valueOf(),o=c()(this.formModel.lastStartTime).valueOf(),r=c()(this.formModel.lastArriveTime).valueOf(),l={contactReqList:[{attenAddr:this.formModel.FattenAddr,attenEmail:this.formModel.FattenEmail||null,attenFax:this.formModel.FattenFax,attenName:this.formModel.FattenName,attenTel:this.formModel.FattenTel,linkType:"发货人",code:this.formModel.Fcode},{attenAddr:this.formModel.SattenAddr,attenEmail:this.formModel.SattenEmail||null,attenFax:this.formModel.SattenFax,attenName:this.formModel.SattenName,attenTel:this.formModel.SattenTel,linkType:"收货人",code:this.formModel.Scode},{attenAddr:this.formModel.TattenAddr,attenEmail:this.formModel.TattenEmail||null,attenFax:this.formModel.TattenFax,attenName:this.formModel.TattenName,attenTel:this.formModel.TattenTel,linkType:"通知人",code:this.formModel.Tcode}],entrustCargoReq:t,transportationAskReq:{cargoReadyTime:a,contaSize:this.planForm.contaSize,containerSource:this.planForm.containerSource,curr:this.formModel.curr,exPort:this.planForm.exPort?this.planForm.exPort.join(";"):"",highestCostReq:+this.planForm.highestCostReq||0,imPort:this.planForm.imPort?this.planForm.imPort.join(";"):"",lastStartTime:o,logisticsType:this.planForm.logisticsType,lowestTimeReq:+this.planForm.lowestTimeReq||0,lowestTimeUnit:"天",setTemperatureAt:+this.planForm.setTemperatureAt||0,setTemperatureUnit:"°C",suitcaseQty:+this.planForm.suitcaseQty||0,suitcaseType:this.planForm.suitcaseType,trspMode:this.planForm.trspMode,trspType:this.planForm.trspType,remark:this.formModel.remark,lastArriveTime:r},trsspmPort:this.planData.routeLists.map((function(e){return e.departurePort})),contractCode:this.formModel.contractCode,departurePort:this.planData.routeLists[0].departurePort,destinationPort:this.planData.routeLists[this.planData.routeLists.length-1].destinationPort,freightReqCode:this.planData.freightReqCode,logisticsSchemeCode:this.planData.logisticsSchemeCode,vodUnit:"m³",weightUnit:"kg"};Object(s["G"])({data:l}).then((function(t){e.$Message.success("新增成功!"),e.$router.push("/logisstics-commission/one-logistics/1")})).catch((function(e){}))}}}},F=f,T=(a("2aa9"),a("2877")),h=Object(T["a"])(F,o,r,!1,null,"3eea3fdd",null);t["a"]=h.exports},"2aa9":function(e,t,a){"use strict";var o=a("eabb"),r=a.n(o);r.a},eabb:function(e,t,a){}}]);