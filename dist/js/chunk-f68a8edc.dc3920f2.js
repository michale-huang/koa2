(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f68a8edc"],{"16cf":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"template-manage"},[a("adt-search-folder",{staticClass:"query-tit",attrs:{searchRouter:{query:{classificationName:t.searchData.name}}}},[a("template",{slot:"table-btn-group"},[a("Form",{ref:"templateForm",attrs:{model:t.searchData,rules:t.rules,"label-width":80}},[a("FormItem",{attrs:{label:"模版名称：",prop:"name"}},[a("Input",{attrs:{type:"text",clearable:""},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}})],1)],1)],1)],2),a("div",{staticClass:"content"},[a("div",{staticClass:"btns-paginator"},[a("adt-button",[a("Button",{on:{click:t.addTemplate}},[t._v("新增模版"),a("Icon",{attrs:{type:"ios-add-circle-outline"}})],1)],1),a("adt-paginator",{attrs:{currentPage:~~t.templatePage,total:~~t.templateTotal,path:"/template-manage"}})],1),[a("Table",{attrs:{columns:t.columns,data:t.templateList},scopedSlots:t._u([{key:"action",fn:function(e){var i=e.row,n=e.index;return[a("Icon",{attrs:{type:"ios-options-outline"},on:{click:function(e){return t.configShow(i)}}}),a("Icon",{attrs:{type:"ios-brush-outline"},on:{click:function(e){return t.modifyShow(i,n)}}}),a("Icon",{attrs:{type:"ios-close"},on:{click:function(e){return t.deleteShow(i)}}})]}}])})]],2),[a("adt-my-modal",{attrs:{title:"配置模版",width:"90%",showModal:t.isConfigShow},on:{"on-visible-change":t.configVisible,"on-ok":t.configConfirm,"on-cancel":t.configCancel}},[a("div",{staticClass:"modal-title"},[a("span",{staticClass:"template-name"},[t._v("模版名称：物流设置服务 ")]),a("span",[t._v("模版编号：123098787")]),a("adt-paginator",{staticStyle:{display:"inline-block",float:"right"},attrs:{currentPage:~~t.configPage,total:~~t.configTotal,path:"/template-manage"}})],1),a("div",{staticClass:"relevance-data"},[a("Table",{attrs:{size:"small",columns:t.columnsConfig,data:t.configData,height:"400"},scopedSlots:t._u([{key:"relationData",fn:function(e){e.row,e.index;return[a("Select",{staticStyle:{width:"80px",textAlign:"left"},model:{value:t.moreData,callback:function(e){t.moreData=e},expression:"moreData"}},t._l(t.relationData,(function(e,i){return a("Option",{key:i,staticStyle:{textAlign:"left"},attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)]}},{key:"isMore",fn:function(e){e.row,e.index;return[a("Select",{staticStyle:{width:"80px",textAlign:"left"},model:{value:t.moreData,callback:function(e){t.moreData=e},expression:"moreData"}},t._l(t.relationData,(function(e,i){return a("Option",{key:i,staticStyle:{textAlign:"left"},attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)]}},{key:"isShow",fn:function(e){e.row,e.index;return[a("Select",{staticStyle:{width:"80px",textAlign:"left"},model:{value:t.moreData,callback:function(e){t.moreData=e},expression:"moreData"}},t._l(t.relationData,(function(e,i){return a("Option",{key:i,staticStyle:{textAlign:"left"},attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)]}},{key:"isEdit",fn:function(e){e.row,e.index;return[a("Select",{staticStyle:{width:"80px",textAlign:"left"},model:{value:t.moreData,callback:function(e){t.moreData=e},expression:"moreData"}},t._l(t.relationData,(function(e,i){return a("Option",{key:i,staticStyle:{textAlign:"left"},attrs:{value:e.value}},[t._v(t._s(e.value))])})),1)]}}])},[a("template",{slot:"message"},[a("Input",{staticStyle:{width:"112px"},attrs:{placeholder:"请输入提示信息"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),a("template",{slot:"sort"},[a("Input",{staticStyle:{width:"40px"},attrs:{placeholder:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],2)],1)])],[a("adt-my-modal",{attrs:{title:"新增模版",width:"30%",showModal:t.isAddTemplateShow},on:{"on-visible-change":t.templateVisible,"on-ok":t.templateConfirm,"on-cancel":t.templateCancel}},[a("div",{staticClass:"template-modal"},[a("Form",{ref:"templateRef",attrs:{model:t.templateData,"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"模版编码：",prop:"classificationCode"}},[a("Input",{model:{value:t.templateData.classificationCode,callback:function(e){t.$set(t.templateData,"classificationCode",e)},expression:"templateData.classificationCode"}})],1),a("FormItem",{attrs:{label:"模版名称："}},[a("div",{staticClass:"template-name"},t._l(t.templateData.nameAndLang,(function(e,i){return a("FormItem",{key:i,attrs:{label:e.dictionaryValue,prop:"classificationName"}},[a("Input",{model:{value:e.classificationName,callback:function(a){t.$set(e,"classificationName",a)},expression:"item.classificationName"}})],1)})),1)]),a("FormItem",{attrs:{label:"页面组建：",prop:"pageBuild"}},[a("Select",{staticStyle:{width:"162px"},model:{value:t.templateData.pageBuild,callback:function(e){t.$set(t.templateData,"pageBuild",e)},expression:"templateData.pageBuild"}},t._l(t.templateData.compont,(function(e){return a("Option",{key:e.dictionaryValue,attrs:{value:e.dictionaryValue}},[t._v(t._s(e.dictionaryValue))])})),1)],1)],1)],1)])],[a("adt-my-modal",{attrs:{title:"修改模版",width:"30%",showModal:t.isModifyTemplateShow},on:{"on-visible-change":t.modifyVisible,"on-ok":t.modifyConfirm,"on-cancel":t.modifyCancel}},[a("div",{staticClass:"template-modal"},[a("Form",{ref:"templateRef",attrs:{model:t.templateData,"label-position":"left","label-width":100}},[a("FormItem",{attrs:{label:"模版编码：",prop:"classificationCode"}},[a("Input",{attrs:{disabled:""},model:{value:t.templateData.classificationCode,callback:function(e){t.$set(t.templateData,"classificationCode",e)},expression:"templateData.classificationCode"}})],1),a("FormItem",{attrs:{label:"模版名称："}},[a("div",{staticClass:"template-name"},t._l(t.templateData.nameAndLang,(function(e,i){return a("FormItem",{key:i,attrs:{label:e.dictionaryValue,prop:"classificationName"}},[a("Input",{model:{value:e.classificationName,callback:function(a){t.$set(e,"classificationName",a)},expression:"item.classificationName"}})],1)})),1)]),a("FormItem",{attrs:{label:"页面组建：",prop:"pageBuild"}},[a("Select",{staticStyle:{width:"162px"},model:{value:t.templateData.pageBuild,callback:function(e){t.$set(t.templateData,"pageBuild",e)},expression:"templateData.pageBuild"}},t._l(t.templateData.compont,(function(e){return a("Option",{key:e.dictionaryValue,attrs:{value:e.dictionaryValue}},[t._v(t._s(e.dictionaryValue))])})),1)],1)],1)],1)])],a("adt-reconfirm-modal",{attrs:{showModal:t.isDelTemplateShow},on:{"on-visible-change":t.delTemplateVisible,"on-ok":t.delTemplateData}})],2)},n=[],l=(a("4160"),a("b0c0"),a("159b"),a("c621")),o=a("e56e"),c=a("7b46"),s={mixins:[c["a"]],name:"templateManage",data:function(){return{templatePage:1,templateTotal:1,configPage:1,configTotal:1,languageType:[],value:"",moreData:"",relationData:[{value:"是"},{value:"否"}],isDelTemplateShow:!1,isConfigShow:!1,isAddTemplateShow:!1,isModifyTemplateShow:!1,searchData:{name:""},templateData:{classificationCode:"",name:"",nameAndLang:[],pageBuild:"",compont:[],note:""},rules:{name:[{validator:"",trigger:"blur"}]},columns:[{title:"模版编码",width:400,key:"classificationCode",align:"center"},{title:"模版名称",key:"classificationName",width:500,align:"center"},{title:"操作",slot:"action",align:"center"}],columnsConfig:[{type:"selection",width:54,align:"center"},{title:"数据项编码",key:"name",align:"center"},{title:"数据项名称",key:"label",align:"center"},{title:"备注",key:"note",align:"note"},{title:"是否多条数据项",key:"isMore",align:"center",slot:"isMore"},{title:"关联数据项",key:"relationData",align:"center",slot:"relationData"},{title:"是否展示",key:"isShow",align:"center",slot:"isShow"},{title:"是否编辑",key:"isEdit",align:"center",slot:"isEdit"},{title:"提示信息",key:"message",align:"center",slot:"message"},{title:"排序值",key:"sort",align:"center",slot:"sort"}],configData:[],templateList:[],deleteData:""}},mounted:function(){this.templateDataQuery(),this.initdict()},methods:{dataInit:function(){this.templateDataQuery()},templateDataQuery:function(){var t=this,e={page:this.templatePage,size:this.perpage,direction:"",properties:"",classificationCode:"",classificationName:this.searchData.name};Object(l["g"])({data:e}).then((function(e){t.templateList=e.data.content,t.templateTotal=e.data.totalElements}))},initdict:function(){var t=this,e={dictionaryTypeKey:"LANGUAGE_TYPE"};Object(o["e"])(e).then((function(e){t.languageType=e.data,e.data&&e.data.length>0&&e.data.forEach((function(t){t["il8nLangCode"]=t.dictionaryKey,t["classificationName"]=""})),t.templateData.nameAndLang=e.data}));var a={dictionaryTypeKey:"WEB_COMPONT"};Object(o["e"])(a).then((function(e){t.templateData.compont=e.data}))},addTemplate:function(){this.initdict(),this.isAddTemplateShow=!0},configVisible:function(t){this.isConfigShow=t},templateVisible:function(t){this.isAddTemplateShow=t},modifyVisible:function(t){this.isModifyTemplateShow=t},delTemplateVisible:function(t){this.isDelTemplateShow=t},configConfirm:function(){},configCancel:function(){this.isConfigShow=!1},templateConfirm:function(){this.templateData.classificationCode,this.templateData.nameAndLang,this.templateData.compont.dictionaryValue,this.templateData.note},templateCancel:function(){this.$refs.templateRef.resetFields(),this.isAddTemplateShow=!1},modifyConfirm:function(){var t=this,e={classificationCode:this.templateData.classificationCode,nameAndLang:this.templateData.nameAndLang,compont:this.templateData.compont.dictionaryValue,note:this.templateData.note};Object(l["b"])({data:e}).then((function(e){t.$refs.templateRef.resetFields(),t.isModifyTemplateShow=!1,t.templateDataQuery()}))},modifyCancel:function(){this.$refs.templateRef.resetFields(),this.isModifyTemplateShow=!1},configShow:function(t){var e=this;this.isConfigShow=!0;var a={page:this.page,size:this.perpage,direction:"",properties:"",classificationCode:t.classificationCode};Object(l["h"])({data:a}).then((function(t){t.data.content.forEach((function(t){})),e.configData=t.data.content,e.configTotal=t.data.totalElements}))},modifyShow:function(t){var e=this,a={classificationCode:t.classificationCode};Object(l["a"])(a).then((function(t){e.templateData.classificationCode=t.data.classificationCode,e.templateData.compont=t.data.compont,e.templateData.note=t.data.note;var a={};t.data.nameAndLang&&t.data.nameAndLang.length>0&&t.data.nameAndLang.forEach((function(t){a[t.il8nLangCode]=null==t.classificationName?"":t.classificationName})),e.languageType&&e.languageType.length>0&&e.languageType.forEach((function(t){t["il8nLangCode"]=t.dictionaryKey,t["classificationName"]=a[t.dictionaryKey]})),e.templateData.nameAndLang=e.languageType})),this.isModifyTemplateShow=!0;var i={dictionaryTypeKey:"WEB_COMPONT"};Object(o["e"])(i).then((function(t){e.templateData.compont=t.data}))},delTemplateData:function(t){var e=this,a={classificationCode:this.deleteData};Object(l["i"])(a).then((function(t){e.$Message.info(t.message),e.isDelTemplateShow=!1,e.templateDataQuery()}))},deleteShow:function(t){this.isDelTemplateShow=!0,this.deleteData=t.classificationCode}}},r=s,m=(a("9828"),a("2877")),u=Object(m["a"])(r,i,n,!1,null,"2e797f75",null);e["default"]=u.exports},"5dce":function(t,e,a){},"7b46":function(t,e,a){"use strict";e["a"]={props:{page:{default:1}},data:function(){return{total:0,perpage:15}},created:function(){this.dataInit("judgment")},watch:{$route:function(){this.dataInit()}},methods:{paginatorInit:function(t,e){this.perpage=t,this.total=e}}}},9828:function(t,e,a){"use strict";var i=a("5dce"),n=a.n(i);n.a},c621:function(t,e,a){"use strict";a.d(e,"g",(function(){return l})),a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return c})),a.d(e,"i",(function(){return s})),a.d(e,"h",(function(){return r})),a.d(e,"e",(function(){return m})),a.d(e,"c",(function(){return u})),a.d(e,"d",(function(){return d})),a.d(e,"j",(function(){return p})),a.d(e,"f",(function(){return f}));var i=a("2934"),n=a("4ec3"),l=function(t){return Object(i["c"])("".concat(n["h"],"/templateBasicClassification/templateBasicClassificationQuery"),t)},o=function(t){return Object(i["a"])("".concat(n["h"],"/templateBasicClassification/templateBasicClassificationQuery"),t)},c=function(t){return Object(i["c"])("".concat(n["h"],"/templateBasicClassification/templateBasicClassifitionUpdate"),t)},s=function(t){return Object(i["a"])("".concat(n["h"],"/templateBasicClassification/templateBasicDel"),t)},r=function(t){return Object(i["c"])("".concat(n["h"],"/templateBasicClassification/templateRelDataQuery"),t)},m=function(t){return Object(i["c"])("".concat(n["h"],"/templateData/templateDataQuery"),t)},u=function(t){return Object(i["c"])("".concat(n["h"],"/templateData/templateDataAdd"),t)},d=function(t){return Object(i["a"])("".concat(n["h"],"/templateData/templateDataDel"),t)},p=function(t){return Object(i["a"])("".concat(n["h"],"/templateData/templateDataQuery"),t)},f=function(t){return Object(i["c"])("".concat(n["h"],"/templateData/templateDataUpdate"),t)}}}]);