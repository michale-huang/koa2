(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80e9d032"],{"01ef9":function(e,t,a){"use strict";a("99af"),a("d81d"),a("a434"),a("a9e3"),a("d3b7"),a("ac1f"),a("841c"),a("498a");var i=a("5530"),n=a("b85c"),s=a("b620"),o=a("7b46"),r=a("b962"),c=a("90fe"),h=a("77ab");t["a"]={mixins:[o["a"]],components:{AdtListItem:s["a"]},data:function(){return{productStatus:this.$getDictionary("PRODUCT_STATUS"),size:6,resetCheckStatus:!1,titleNames:["运输产品","场所产品"],isManager:this.$isManager,isExamineModalShow:!1,examineInfo:{},isModalShow:!1,isCancelDiscountModalShow:!1,isSxModalShow:!1,sxMessage:"",examineType:1,examineModalTitle:"有效审核",discountData:{discount:""},isDeleteModalShow:!1,ruleValidate:{discount:[r["a"].required("优惠折扣比")[0]]},requestData:[],selectList:[],deleteId:"",listData:[],agree:"1",reason:""}},methods:{timestampFormat:function(e){return Object(c["e"])(e,!0)},dataInit:function(){this.getData()},auditStatus:function(e){this.search.serverStatus===e?this.search.serverStatus="":this.search.serverStatus=e},visibleChange:function(e){this.isModalShow=e},cancelDiscountVisibleChange:function(e){this.isCancelDiscountModalShow=e},examineVisibleChange:function(e){this.isExamineModalShow=e},sxVisibleChange:function(e){this.isSxModalShow=e},deleteVisibleChange:function(e){this.isDeleteModalShow=e},remove:function(e){this.deleteId=e.id},confirmDelete:function(){},setDiscount:function(e){var t=this.handleRequestData(e);t.length&&(this.isModalShow=!0)},cancelDiscount:function(e){var t=this.handleRequestData(e);t.length&&(this.isCancelDiscountModalShow=!0)},confirmSetDiscount:function(e){var t=this;this.$refs.formValidate.validate((function(a){if(a){var i=Number(t.discountData.discount);if(!i)return void t.$Message.warning("请输入数字！");if(i<1||i>99)return void t.$Message.warning("优惠折扣比要在1~99之间！");e({data:{serverCodes:t.requestData,prefDiscount:i}}).then((function(e){t.$Message.info(e.message),t.getData()}))}}))},confirmCancelDiscount:function(e){var t=this;e().then((function(e){t.$Message.info(e.message),t.getData()}))},validApply:function(e,t){for(var a=this,i=arguments.length,n=new Array(i>2?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];var o=this.handleRequestData.apply(this,[t].concat(n));o.length&&e({data:o}).then((function(e){a.$Message.info(e.message),a.getData()}))},invalidApply:function(e,t){for(var a=this,i=arguments.length,n=new Array(i>2?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];var o=this.handleRequestData.apply(this,[t].concat(n));o.length&&e({data:o}).then((function(e){a.$Message.info(e.message),a.getData()}))},handleRequestData:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];var s=a.length?a:["serverCode","serverStatus","version"];if(this.requestData=[],e)return this.requestData.push(h(e)),this.requestData;if(this.selectList.length){var o,r=Object(n["a"])(this.selectList);try{for(r.s();!(o=r.n()).done;){var c=o.value;this.requestData.push(h(c))}}catch(u){r.e(u)}finally{r.f()}}else this.$Message.warning("请先选择产品");return this.requestData;function h(e){var t,a={},i=Object(n["a"])(s);try{for(i.s();!(t=i.n()).done;){var o=t.value;"string"===typeof o?a[o]=e[o]:a[o.param]=o.handleFun?o.handleFun(e[o.field]):e[o.field]}}catch(u){i.e(u)}finally{i.f()}return a}},examine:function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),i=1;i<t;i++)a[i-1]=arguments[i];var s=a.length?a:["serverCode","serverStatus","version"];e.useStatus&&"disable"!==e.useStatus.trim()?(this.examineType=0,this.examineModalTitle="失效审核"):(this.examineType=1,this.examineModalTitle="有效审核");var o,r=Object(n["a"])(s);try{for(r.s();!(o=r.n()).done;){var c=o.value;this.examineInfo[c]=e[c]}}catch(h){r.e(h)}finally{r.f()}this.isExamineModalShow=!0},examineSave:function(e,t,a,n){var s=this,o=Object(i["a"])({},this.examineInfo);if(1===this.examineType)if("1"===this.agree)e({data:o}).then((function(e){r(e)}));else{if(!this.reason)return void this.$Message.warning("请填写不同意原因！");o.remark=this.reason,t({data:o}).then((function(e){r(e)}))}else if("1"===this.agree)a({data:o}).then((function(e){r(e)}));else{if(!this.reason)return void this.$Message.warning("请填写输入驳回原因！");o.remark=this.reason,n({data:o}).then((function(e){r(e)}))}function r(e,t){e.data||0!==s.examineType?(s.$Message.info(e.message),s.isExamineModalShow=!1,s.getData()):(s.isSxModalShow=!0,s.sxMessage="产品编号：".concat(o.serverCode," 产品已经与方案绑定，失效申请需要调度审核，确定提交调动审核？"))}},confirmSx:function(e){var t=this;e(this.examineInfo).then((function(e){t.$Message.info(e.message),t.isExamineModalShow=!1,t.isSxModalShow=!1}))},goToOtherProductList:function(e){switch(e){case 0:this.$router.push("/product-editor/transport-list/1");break;case 1:this.$router.push("/product-editor/site-list/1");break;case 2:this.$router.push("/product-editor/customs-list/1");break;case 3:this.$router.push("/product-editor/cpa-list/1");break}},checkData:function(e,t){if(t)this.selectList.push(e);else for(var a in this.selectList)this.selectList[a].serverCode===e.serverCode&&this.selectList.splice(a,1)},_handelDir:function(e){return new Promise((function(t){var a=e[e.length-1];Object(h["e"])({city:a}).then((function(e){var a=e.data,i=a&&a.length?a[0]:[],n=i.map((function(e){return{value:e.sttnCode,label:e.sttnName}}));t(n)}))}))}}}},"498a":function(e,t,a){"use strict";var i=a("23e7"),n=a("58a8").trim,s=a("c8d2");i({target:"String",proto:!0,forced:s("trim")},{trim:function(){return n(this)}})},"7b46":function(e,t,a){"use strict";t["a"]={props:{page:{default:1}},data:function(){return{total:0,perpage:15}},created:function(){this.dataInit("judgment")},watch:{$route:function(){this.dataInit()}},methods:{paginatorInit:function(e,t){this.perpage=e,this.total=t}}}},b620:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.showCheckbox?a("Checkbox",{staticClass:"card-check",on:{"on-change":function(t){return e.checkChange(e.logistics,e.isCheck)}},model:{value:e.isCheck,callback:function(t){e.isCheck=t},expression:"isCheck"}}):e._e(),a("Card",{class:{"card-margin":1==e.showCheckbox}},[e._t("tab-title"),e._t("tab-operat"),a("Divider"),e._t("tab-content"),e._t("tab-bottom")],2)],1)},n=[],s={name:"adt-list-item",props:{showCheckbox:{type:Boolean,default:!1},logistics:{type:Object,default:function(){}},resetCheckStatus:{type:Boolean,default:!1}},data:function(){return{showModal:!1,isCheck:!1}},watch:{resetCheckStatus:function(){this.isCheck=!1}},methods:{checkChange:function(e,t){this.$emit("checkData",e,t)}}},o=s,r=a("2877"),c=Object(r["a"])(o,i,n,!1,null,null,null);t["a"]=c.exports},c8d2:function(e,t,a){var i=a("d039"),n=a("5899"),s="​᠎";e.exports=function(e){return i((function(){return!!n[e]()||s[e]()!=s||n[e].name!==e}))}}}]);