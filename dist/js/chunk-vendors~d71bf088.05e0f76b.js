(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors~d71bf088"],{"0e0f":function(e,t,o){var i=o("5f14"),a=o("6d8b");function n(e,t){e.eachSeriesByType("sankey",(function(e){var t=e.getGraph(),o=t.nodes;if(o.length){var n=1/0,r=-1/0;a.each(o,(function(e){var t=e.getLayout().value;t<n&&(n=t),t>r&&(r=t)})),a.each(o,(function(t){var o=new i({type:"color",mappingMethod:"linear",dataExtent:[n,r],visual:e.get("color")}),a=o.mapValueToVisual(t.getLayout().value),l=t.getModel().get("itemStyle.color");null!=l?t.setVisual("color",l):t.setVisual("color",a)}))}}))}e.exports=n},"15af":function(e,t,o){var i=o("3eba");o("cb69"),o("abff");var a=o("7f96"),n=o("87c3");o("01ed"),i.registerVisual(a("scatter","circle")),i.registerLayout(n("scatter"))},2163:function(e,t,o){var i=o("4f85"),a=o("06c7"),n=o("eda2"),r=n.encodeHTML,l=o("4319"),s=i.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},o=e.leaves||{},i=new l(o,this,this.ecModel),n=a.createTree(t,this,r);function r(e){e.wrapMethod("getItemModel",(function(e,t){var o=n.getNodeByDataIndex(t);return o.children.length&&o.isExpand||(e.parentModel=i),e}))}var s=0;n.eachNode("preorder",(function(e){e.depth>s&&(s=e.depth)}));var d=e.expandAndCollapse,u=d&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return n.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=u})),n.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){var t=this.getData().tree,o=t.root.children[0],i=t.getNodeByDataIndex(e),a=i.getValue(),n=i.name;while(i&&i!==o)n=i.parentNode.name+"."+n,i=i.parentNode;return r(n+(isNaN(a)||null==a?"":" : "+a))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});e.exports=s},"22da":function(e,t,o){var i=o("f934");function a(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var t,o,i=[e];while(t=i.pop())if(o=t.children,t.isExpand&&o.length)for(var a=o.length,n=a-1;n>=0;n--){var r=o[n];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:n,thread:null},i.push(r)}}function n(e,t){var o=e.isExpand?e.children:[],i=e.parentNode.children,a=e.hierNode.i?i[e.hierNode.i-1]:null;if(o.length){u(e);var n=(o[0].hierNode.prelim+o[o.length-1].hierNode.prelim)/2;a?(e.hierNode.prelim=a.hierNode.prelim+t(e,a),e.hierNode.modifier=e.hierNode.prelim-n):e.hierNode.prelim=n}else a&&(e.hierNode.prelim=a.hierNode.prelim+t(e,a));e.parentNode.hierNode.defaultAncestor=h(e,a,e.parentNode.hierNode.defaultAncestor||i[0],t)}function r(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function l(e){return arguments.length?e:y}function s(e,t){var o={};return e-=Math.PI/2,o.x=t*Math.cos(e),o.y=t*Math.sin(e),o}function d(e,t){return i.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function u(e){var t=e.children,o=t.length,i=0,a=0;while(--o>=0){var n=t[o];n.hierNode.prelim+=i,n.hierNode.modifier+=i,a+=n.hierNode.change,i+=n.hierNode.shift+a}}function h(e,t,o,i){if(t){var a=e,n=e,r=n.parentNode.children[0],l=t,s=a.hierNode.modifier,d=n.hierNode.modifier,u=r.hierNode.modifier,h=l.hierNode.modifier;while(l=c(l),n=g(n),l&&n){a=c(a),r=g(r),a.hierNode.ancestor=e;var y=l.hierNode.prelim+h-n.hierNode.prelim-d+i(l,n);y>0&&(f(p(l,e,o),e,y),d+=y,s+=y),h+=l.hierNode.modifier,d+=n.hierNode.modifier,s+=a.hierNode.modifier,u+=r.hierNode.modifier}l&&!c(a)&&(a.hierNode.thread=l,a.hierNode.modifier+=h-s),n&&!g(r)&&(r.hierNode.thread=n,r.hierNode.modifier+=d-u,o=e)}return o}function c(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function g(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function p(e,t,o){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:o}function f(e,t,o){var i=o/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=i,t.hierNode.shift+=o,t.hierNode.modifier+=o,t.hierNode.prelim+=o,e.hierNode.change+=i}function y(e,t){return e.parentNode===t.parentNode?1:2}t.init=a,t.firstWalk=n,t.secondWalk=r,t.separation=l,t.radialCoordinate=s,t.getViewRect=d},"255c":function(e,t,o){var i=o("3eba"),a=o("d4d1"),n=a.Polygon,r=o("2306"),l=o("6d8b"),s=l.bind,d=l.extend,u=o("80f0"),h=i.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,o){var i=e.getData(),a=this.group,l=e.getLayerSeries(),h=i.getLayout("layoutInfo"),g=h.rect,p=h.boundaryGap;function f(e){return e.name}a.attr("position",[0,g.y+p[0]]);var y=new u(this._layersSeries||[],l,f,f),v={};function m(t,o,s){var u=this._layers;if("remove"!==t){for(var h,g,p,f=[],y=[],m=l[o].indices,x=0;x<m.length;x++){var w=i.getItemLayout(m[x]),b=w.x,I=w.y0,_=w.y;f.push([b,I]),y.push([b,I+_]),h=i.getItemVisual(m[x],"color")}var N=i.getItemLayout(m[0]),L=i.getItemModel(m[x-1]),M=L.getModel("label"),S=M.get("margin");if("add"===t){var D=v[o]=new r.Group;g=new n({shape:{points:f,stackedOnPoints:y,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),p=new r.Text({style:{x:N.x-S,y:N.y0+N.y/2}}),D.add(g),D.add(p),a.add(D),g.setClipPath(c(g.getBoundingRect(),e,(function(){g.removeClipPath()})))}else{D=u[s];g=D.childAt(0),p=D.childAt(1),a.add(D),v[o]=D,r.updateProps(g,{shape:{points:f,stackedOnPoints:y}},e),r.updateProps(p,{style:{x:N.x-S,y:N.y0+N.y/2}},e)}var T=L.getModel("emphasis.itemStyle"),A=L.getModel("itemStyle");r.setTextStyle(p.style,M,{text:M.get("show")?e.getFormattedLabel(m[x-1],"normal")||i.getName(m[x-1]):null,textVerticalAlign:"middle"}),g.setStyle(d({fill:h},A.getItemStyle(["color"]))),r.setHoverStyle(g,T.getItemStyle())}else a.remove(u[o])}y.add(s(m,this,"add")).update(s(m,this,"update")).remove(s(m,this,"remove")).execute(),this._layersSeries=l,this._layers=v},dispose:function(){}});function c(e,t,o){var i=new r.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return r.initProps(i,{shape:{width:e.width+20,height:e.height+20}},t,o),i}e.exports=h},"311a":function(e,t,o){var i=o("3eba");o("d01c"),o("5b69"),o("bdc0");var a=o("81ac"),n=o("0e0f");i.registerLayout(a),i.registerVisual(n)},"340d":function(e,t,o){var i=o("6d8b"),a=o("e887"),n=o("4e47"),r=o("80f0"),l=o("eda2"),s=l.windowOpen,d="sunburstRootToNode",u=a.extend({type:"sunburst",init:function(){},render:function(e,t,o,a){var l=this;this.seriesModel=e,this.api=o,this.ecModel=t;var s=e.getData(),d=s.tree.root,u=e.getViewRoot(),h=this.group,c=e.get("renderLabelForZeroData"),g=[];u.eachNode((function(e){g.push(e)}));var p=this._oldChildren||[];if(v(g,p),w(d,u),a&&a.highlight&&a.highlight.piece){var f=e.getShallow("highlightPolicy");a.highlight.piece.onEmphasis(f)}else if(a&&a.unhighlight){var y=this.virtualPiece;!y&&d.children.length&&(y=d.children[0].piece),y&&y.onNormal()}function v(e,t){function o(e){return e.getId()}function a(o,i){var a=null==o?null:e[o],n=null==i?null:t[i];m(a,n)}0===e.length&&0===t.length||new r(t,e,o,o).add(a).update(a).remove(i.curry(a,null)).execute()}function m(o,i){if(c||!o||o.getValue()||(o=null),o!==d&&i!==d)if(i&&i.piece)o?(i.piece.updateData(!1,o,"normal",e,t),s.setItemGraphicEl(o.dataIndex,i.piece)):x(i);else if(o){var a=new n(o,e,t);h.add(a),s.setItemGraphicEl(o.dataIndex,a)}}function x(e){e&&e.piece&&(h.remove(e.piece),e.piece=null)}function w(o,i){if(i.depth>0){l.virtualPiece?l.virtualPiece.updateData(!1,o,"normal",e,t):(l.virtualPiece=new n(o,e,t),h.add(l.virtualPiece)),i.piece._onclickEvent&&i.piece.off("click",i.piece._onclickEvent);var a=function(e){l._rootToNode(i.parentNode)};i.piece._onclickEvent=a,l.virtualPiece.on("click",a)}else l.virtualPiece&&(h.remove(l.virtualPiece),l.virtualPiece=null)}this._initEvents(),this._oldChildren=g},dispose:function(){},_initEvents:function(){var e=this,t=function(t){var o=!1,i=e.seriesModel.getViewRoot();i.eachNode((function(i){if(!o&&i.piece&&i.piece.childAt(0)===t.target){var a=i.getModel().get("nodeClick");if("rootToNode"===a)e._rootToNode(i);else if("link"===a){var n=i.getModel(),r=n.get("link");if(r){var l=n.get("target",!0)||"_blank";s(r,l)}}o=!0}}))};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:d,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var o=t.getData(),i=o.getItemLayout(0);if(i){var a=e[0]-i.cx,n=e[1]-i.cy,r=Math.sqrt(a*a+n*n);return r<=i.r&&r>=i.r0}}}),h=u;e.exports=h},4411:function(e,t,o){for(var i=o("3eba"),a=o("55ac"),n=function(){},r=["treemapZoomToNode","treemapRender","treemapMove"],l=0;l<r.length;l++)i.registerAction({type:r[l],update:"updateView"},n);i.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){function o(t,o){var i=["treemapZoomToNode","treemapRootToNode"],n=a.retrieveTargetInfo(e,i,t);if(n){var r=t.getViewRoot();r&&(e.direction=a.aboveViewRoot(r,n.node)?"rollUp":"drillDown"),t.resetViewRoot(n.node)}}t.eachComponent({mainType:"series",subType:"treemap",query:e},o)}))},"44fb":function(e,t,o){var i=o("3eba"),a=o("55ac"),n="sunburstRootToNode";i.registerAction({type:n,update:"updateView"},(function(e,t){function o(t,o){var i=a.retrieveTargetInfo(e,[n],t);if(i){var r=t.getViewRoot();r&&(e.direction=a.aboveViewRoot(r,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node)}}t.eachComponent({mainType:"series",subType:"sunburst",query:e},o)}));var r="sunburstHighlight";i.registerAction({type:r,update:"updateView"},(function(e,t){function o(t,o){var i=a.retrieveTargetInfo(e,[r],t);i&&(e.highlight=i.node)}t.eachComponent({mainType:"series",subType:"sunburst",query:e},o)}));var l="sunburstUnhighlight";i.registerAction({type:l,update:"updateView"},(function(e,t){function o(t,o){e.unhighlight=!0}t.eachComponent({mainType:"series",subType:"sunburst",query:e},o)}))},"4e47":function(e,t,o){var i=o("6d8b"),a=o("2306"),n={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},r=2,l=4;function s(e,t,o){a.Group.call(this);var i=new a.Sector({z2:r});i.seriesIndex=t.seriesIndex;var n=new a.Text({z2:l,silent:e.getModel("label").get("silent")});function s(){n.ignore=n.hoverIgnore}function d(){n.ignore=n.normalIgnore}this.add(i),this.add(n),this.updateData(!0,e,"normal",t,o),this.on("emphasis",s).on("normal",d).on("mouseover",s).on("mouseout",d)}var d=s.prototype;d.updateData=function(e,t,o,n,r){this.node=t,t.piece=this,n=n||this._seriesModel,r=r||this._ecModel;var l=this.childAt(0);l.dataIndex=t.dataIndex;var s=t.getModel(),d=t.getLayout(),u=i.extend({},d);u.label=null;var c=h(t,n,r);p(t,n,c);var g,f=s.getModel("itemStyle").getItemStyle();if("normal"===o)g=f;else{var y=s.getModel(o+".itemStyle").getItemStyle();g=i.merge(y,f)}g=i.defaults({lineJoin:"bevel",fill:g.fill||c},g),e?(l.setShape(u),l.shape.r=d.r0,a.updateProps(l,{shape:{r:d.r}},n,t.dataIndex),l.useStyle(g)):"object"===typeof g.fill&&g.fill.type||"object"===typeof l.style.fill&&l.style.fill.type?(a.updateProps(l,{shape:u},n),l.useStyle(g)):a.updateProps(l,{shape:u,style:g},n),this._updateLabel(n,c,o);var v=s.getShallow("cursor");if(v&&l.attr("cursor",v),e){var m=n.getShallow("highlightPolicy");this._initEvents(l,t,n,m)}this._seriesModel=n||this._seriesModel,this._ecModel=r||this._ecModel,a.setHoverStyle(this)},d.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode((function(o){o.piece&&(t.node===o?o.piece.updateData(!1,o,"emphasis"):g(o,t.node,e)?o.piece.childAt(0).trigger("highlight"):e!==n.NONE&&o.piece.childAt(0).trigger("downplay"))}))},d.onNormal=function(){this.node.hostTree.root.eachNode((function(e){e.piece&&e.piece.updateData(!1,e,"normal")}))},d.onHighlight=function(){this.updateData(!1,this.node,"highlight")},d.onDownplay=function(){this.updateData(!1,this.node,"downplay")},d._updateLabel=function(e,t,o){var n=this.node.getModel(),r=n.getModel("label"),l="normal"===o||"emphasis"===o?r:n.getModel(o+".label"),s=n.getModel("emphasis.label"),d=l.get("formatter"),u=d?o:"normal",h=i.retrieve(e.getFormattedLabel(this.node.dataIndex,u,null,null,"label"),this.node.name);!1===S("show")&&(h="");var c=this.node.getLayout(),g=l.get("minAngle");null==g&&(g=r.get("minAngle")),g=g/180*Math.PI;var p=c.endAngle-c.startAngle;null!=g&&Math.abs(p)<g&&(h="");var f=this.childAt(1);a.setLabelStyle(f.style,f.hoverStyle||{},r,s,{defaultText:l.getShallow("show")?h:null,autoColor:t,useInsideStyle:!0});var y,v=(c.startAngle+c.endAngle)/2,m=Math.cos(v),x=Math.sin(v),w=S("position"),b=S("distance")||0,I=S("align");"outside"===w?(y=c.r+b,I=v>Math.PI/2?"right":"left"):I&&"center"!==I?"left"===I?(y=c.r0+b,v>Math.PI/2&&(I="right")):"right"===I&&(y=c.r-b,v>Math.PI/2&&(I="left")):(y=(c.r+c.r0)/2,I="center"),f.attr("style",{text:h,textAlign:I,textVerticalAlign:S("verticalAlign")||"middle",opacity:S("opacity")});var _=y*m+c.cx,N=y*x+c.cy;f.attr("position",[_,N]);var L=S("rotate"),M=0;function S(e){var t=l.get(e);return null==t?r.get(e):t}"radial"===L?(M=-v,M<-Math.PI/2&&(M+=Math.PI)):"tangential"===L?(M=Math.PI/2-v,M>Math.PI/2?M-=Math.PI:M<-Math.PI/2&&(M+=Math.PI)):"number"===typeof L&&(M=L*Math.PI/180),f.attr("rotation",M)},d._initEvents=function(e,t,o,i){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var a=this,n=function(){a.onEmphasis(i)},r=function(){a.onNormal()},l=function(){a.onDownplay()},s=function(){a.onHighlight()};o.isAnimationEnabled()&&e.on("mouseover",n).on("mouseout",r).on("emphasis",n).on("normal",r).on("downplay",l).on("highlight",s)},i.inherits(s,a.Group);var u=s;function h(e,t,o){var i=e.getVisual("color"),a=e.getVisual("visualMeta");a&&0!==a.length||(i=null);var n=e.getModel("itemStyle").get("color");if(n)return n;if(i)return i;if(0===e.depth)return o.option.color[0];var r=o.option.color.length;return n=o.option.color[c(e)%r],n}function c(e){var t=e;while(t.depth>1)t=t.parentNode;var o=e.getAncestors()[0];return i.indexOf(o.children,t)}function g(e,t,o){return o!==n.NONE&&(o===n.SELF?e===t:o===n.ANCESTOR?e===t||e.isAncestorOf(t):e===t||e.isDescendantOf(t))}function p(e,t,o){var i=t.getData();i.setItemVisual(e.dataIndex,"color",o)}e.exports=u},"527a":function(e,t,o){var i=o("6d8b"),a=o("3842");function n(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),o=e.coordinateSystem,i={},n=o.getRect();i.rect=n;var l=e.get("boundaryGap"),s=o.getAxis();if(i.boundaryGap=l,"horizontal"===s.orient){l[0]=a.parsePercent(l[0],n.height),l[1]=a.parsePercent(l[1],n.height);var d=n.height-l[0]-l[1];r(t,e,d)}else{l[0]=a.parsePercent(l[0],n.width),l[1]=a.parsePercent(l[1],n.width);var u=n.width-l[0]-l[1];r(t,e,u)}t.setLayout("layoutInfo",i)}))}function r(e,t,o){if(e.count())for(var a,n=t.coordinateSystem,r=t.getLayerSeries(),s=e.mapDimension("single"),d=e.mapDimension("value"),u=i.map(r,(function(t){return i.map(t.indices,(function(t){var o=n.dataToPoint(e.get(s,t));return o[1]=e.get(d,t),o}))})),h=l(u),c=h.y0,g=o/h.max,p=r.length,f=r[0].indices.length,y=0;y<f;++y){a=c[y]*g,e.setItemLayout(r[0].indices[y],{layerIndex:0,x:u[0][y][0],y0:a,y:u[0][y][1]*g});for(var v=1;v<p;++v)a+=u[v-1][y][1]*g,e.setItemLayout(r[v].indices[y],{layerIndex:v,x:u[v][y][0],y0:a,y:u[v][y][1]*g})}}function l(e){for(var t=e.length,o=e[0].length,i=[],a=[],n=0,r={},l=0;l<o;++l){for(var s=0,d=0;s<t;++s)d+=e[s][l][1];d>n&&(n=d),i.push(d)}for(var u=0;u<o;++u)a[u]=(n-i[u])/2;n=0;for(var h=0;h<o;++h){var c=i[h]+a[h];c>n&&(n=c)}return r.y0=a,r.max=n,r}e.exports=n},"5b69":function(e,t,o){var i=o("2306"),a=o("3eba"),n=o("6d8b"),r=["itemStyle","opacity"],l=["emphasis","itemStyle","opacity"],s=["lineStyle","opacity"],d=["emphasis","lineStyle","opacity"];function u(e,t){return e.getVisual("opacity")||e.getModel().get(t)}function h(e,t,o){var i=e.getGraphicEl(),a=u(e,t);null!=o&&(null==a&&(a=1),a*=o),i.downplay&&i.downplay(),i.traverse((function(e){"group"!==e.type&&e.setStyle("opacity",a)}))}function c(e,t){var o=u(e,t),i=e.getGraphicEl();i.traverse((function(e){"group"!==e.type&&e.setStyle("opacity",o)})),i.highlight&&i.highlight()}var g=i.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(e,t){var o=t.extent;e.moveTo(t.x1,t.y1),e.bezierCurveTo(t.cpx1,t.cpy1,t.cpx2,t.cpy2,t.x2,t.y2),"vertical"===t.orient?(e.lineTo(t.x2+o,t.y2),e.bezierCurveTo(t.cpx2+o,t.cpy2,t.cpx1+o,t.cpy1,t.x1+o,t.y1)):(e.lineTo(t.x2,t.y2+o),e.bezierCurveTo(t.cpx2,t.cpy2+o,t.cpx1,t.cpy1+o,t.x1,t.y1+o)),e.closePath()},highlight:function(){this.trigger("emphasis")},downplay:function(){this.trigger("normal")}}),p=a.extendChartView({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(e,t,o){var a=this,n=e.getGraph(),r=this.group,l=e.layoutInfo,s=l.width,d=l.height,u=e.getData(),h=e.getData("edge"),c=e.get("orient");this._model=e,r.removeAll(),r.attr("position",[l.x,l.y]),n.eachEdge((function(t){var o=new g;o.dataIndex=t.dataIndex,o.seriesIndex=e.seriesIndex,o.dataType="edge";var a,n,l,u,p,f,y,v,m=t.getModel("lineStyle"),x=m.get("curveness"),w=t.node1.getLayout(),b=t.node1.getModel(),I=b.get("localX"),_=b.get("localY"),N=t.node2.getLayout(),L=t.node2.getModel(),M=L.get("localX"),S=L.get("localY"),D=t.getLayout();switch(o.shape.extent=Math.max(1,D.dy),o.shape.orient=c,"vertical"===c?(a=(null!=I?I*s:w.x)+D.sy,n=(null!=_?_*d:w.y)+w.dy,l=(null!=M?M*s:N.x)+D.ty,u=null!=S?S*d:N.y,p=a,f=n*(1-x)+u*x,y=l,v=n*x+u*(1-x)):(a=(null!=I?I*s:w.x)+w.dx,n=(null!=_?_*d:w.y)+D.sy,l=null!=M?M*s:N.x,u=(null!=S?S*d:N.y)+D.ty,p=a*(1-x)+l*x,f=n,y=a*x+l*(1-x),v=u),o.setShape({x1:a,y1:n,x2:l,y2:u,cpx1:p,cpy1:f,cpx2:y,cpy2:v}),o.setStyle(m.getItemStyle()),o.style.fill){case"source":o.style.fill=t.node1.getVisual("color");break;case"target":o.style.fill=t.node2.getVisual("color");break}i.setHoverStyle(o,t.getModel("emphasis.lineStyle").getItemStyle()),r.add(o),h.setItemGraphicEl(t.dataIndex,o)})),n.eachNode((function(t){var o=t.getLayout(),a=t.getModel(),n=a.get("localX"),l=a.get("localY"),h=a.getModel("label"),c=a.getModel("emphasis.label"),g=new i.Rect({shape:{x:null!=n?n*s:o.x,y:null!=l?l*d:o.y,width:o.dx,height:o.dy},style:a.getModel("itemStyle").getItemStyle()}),p=t.getModel("emphasis.itemStyle").getItemStyle();i.setLabelStyle(g.style,p,h,c,{labelFetcher:e,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),g.setStyle("fill",t.getVisual("color")),i.setHoverStyle(g,p),r.add(g),u.setItemGraphicEl(t.dataIndex,g),g.dataType="node"})),u.eachItemGraphicEl((function(t,i){var n=u.getItemModel(i);n.get("draggable")&&(t.drift=function(t,n){a._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=n,this.dirty(),o.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:u.getRawIndex(i),localX:this.shape.x/s,localY:this.shape.y/d})},t.ondragend=function(){a._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move"),t.highlight=function(){this.trigger("emphasis")},t.downplay=function(){this.trigger("normal")},t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),n.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){a._focusAdjacencyDisabled||(a._clearTimer(),o.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,dataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){a._focusAdjacencyDisabled||a._dispatchUnfocus(o)}))})),h.eachItemGraphicEl((function(t,i){var n=h.getItemModel(i);t.focusNodeAdjHandler&&t.off("mouseover",t.focusNodeAdjHandler),t.unfocusNodeAdjHandler&&t.off("mouseout",t.unfocusNodeAdjHandler),n.get("focusNodeAdjacency")&&(t.on("mouseover",t.focusNodeAdjHandler=function(){a._focusAdjacencyDisabled||(a._clearTimer(),o.dispatchAction({type:"focusNodeAdjacency",seriesId:e.id,edgeDataIndex:t.dataIndex}))}),t.on("mouseout",t.unfocusNodeAdjHandler=function(){a._focusAdjacencyDisabled||a._dispatchUnfocus(o)}))})),!this._data&&e.get("animation")&&r.setClipPath(f(r.getBoundingRect(),e,(function(){r.removeClipPath()}))),this._data=e.getData()},dispose:function(){this._clearTimer()},_dispatchUnfocus:function(e){var t=this;this._clearTimer(),this._unfocusDelayTimer=setTimeout((function(){t._unfocusDelayTimer=null,e.dispatchAction({type:"unfocusNodeAdjacency",seriesId:t._model.id})}),500)},_clearTimer:function(){this._unfocusDelayTimer&&(clearTimeout(this._unfocusDelayTimer),this._unfocusDelayTimer=null)},focusNodeAdjacency:function(e,t,o,i){var a=e.getData(),u=a.graph,g=i.dataIndex,p=a.getItemModel(g),f=i.edgeDataIndex;if(null!=g||null!=f){var y=u.getNodeByIndex(g),v=u.getEdgeByIndex(f);if(u.eachNode((function(e){h(e,r,.1)})),u.eachEdge((function(e){h(e,s,.1)})),y){c(y,l);var m=p.get("focusNodeAdjacency");"outEdges"===m?n.each(y.outEdges,(function(e){e.dataIndex<0||(c(e,d),c(e.node2,l))})):"inEdges"===m?n.each(y.inEdges,(function(e){e.dataIndex<0||(c(e,d),c(e.node1,l))})):"allEdges"===m&&n.each(y.edges,(function(e){e.dataIndex<0||(c(e,d),e.node1!==y&&c(e.node1,l),e.node2!==y&&c(e.node2,l))}))}v&&(c(v,d),c(v.node1,l),c(v.node2,l))}},unfocusNodeAdjacency:function(e,t,o,i){var a=e.getGraph();a.eachNode((function(e){h(e,r)})),a.eachEdge((function(e){h(e,s)}))}});function f(e,t,o){var a=new i.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return i.initProps(a,{shape:{width:e.width+20}},t,o),a}e.exports=p},"6c12f":function(e,t,o){var i=o("3eba");o("2cfc"),o("adf4"),o("255c");var a=o("527a"),n=o("71b2"),r=o("d3f4");i.registerLayout(a),i.registerVisual(n),i.registerProcessor(r("themeRiver"))},"6cd8":function(e,t,o){var i=o("6d8b"),a=o("2306"),n=o("1418"),r=o("22da"),l=r.radialCoordinate,s=o("3eba"),d=o("e263"),u=o("6cc5"),h=o("01ef"),c=o("4a01"),g=o("c526"),p=g.onIrrelevantElement,f=o("4e08"),y=(f.__DEV__,o("3842")),v=y.parsePercent,m=a.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(e,t){var o=t.childPoints,i=o.length,a=t.parentPoint,n=o[0],r=o[i-1];if(1===i)return e.moveTo(a[0],a[1]),void e.lineTo(n[0],n[1]);var l=t.orient,s="TB"===l||"BT"===l?0:1,d=1-s,u=v(t.forkPosition,1),h=[];h[s]=a[s],h[d]=a[d]+(r[d]-a[d])*u,e.moveTo(a[0],a[1]),e.lineTo(h[0],h[1]),e.moveTo(n[0],n[1]),h[s]=n[s],e.lineTo(h[0],h[1]),h[s]=r[s],e.lineTo(h[0],h[1]),e.lineTo(r[0],r[1]);for(var c=1;c<i-1;c++){var g=o[c];e.moveTo(g[0],g[1]),h[s]=g[s],e.lineTo(h[0],h[1])}}}),x=s.extendChartView({type:"tree",init:function(e,t){this._oldTree,this._mainGroup=new a.Group,this._controller=new c(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,o,i){var a=e.getData(),n=e.layoutInfo,r=this._mainGroup,l=e.get("layout");"radial"===l?r.attr("position",[n.x+n.width/2,n.y+n.height/2]):r.attr("position",[n.x,n.y]),this._updateViewCoordSys(e,n,l),this._updateController(e,t,o);var s=this._data,d={expandAndCollapse:e.get("expandAndCollapse"),layout:l,edgeShape:e.get("edgeShape"),edgeForkPosition:e.get("edgeForkPosition"),orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};a.diff(s).add((function(t){w(a,t)&&I(a,t,null,r,e,d)})).update((function(t,o){var i=s.getItemGraphicEl(o);w(a,t)?I(a,t,i,r,e,d):i&&N(s,o,i,r,e,d)})).remove((function(t){var o=s.getItemGraphicEl(t);o&&N(s,t,o,r,e,d)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===d.expandAndCollapse&&a.eachItemGraphicEl((function(t,i){t.off("click").on("click",(function(){o.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:i})}))})),this._data=a},_updateViewCoordSys:function(e){var t=e.getData(),o=[];t.each((function(e){var i=t.getItemLayout(e);!i||isNaN(i.x)||isNaN(i.y)||o.push([+i.x,+i.y])}));var i=[],a=[];d.fromPoints(o,i,a);var n=this._min,r=this._max;a[0]-i[0]===0&&(i[0]=n?n[0]:i[0]-1,a[0]=r?r[0]:a[0]+1),a[1]-i[1]===0&&(i[1]=n?n[1]:i[1]-1,a[1]=r?r[1]:a[1]+1);var l=e.coordinateSystem=new u;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(i[0],i[1],a[0]-i[0],a[1]-i[1]),l.setCenter(e.get("center")),l.setZoom(e.get("zoom")),this.group.attr({position:l.position,scale:l.scale}),this._viewCoordSys=l,this._min=i,this._max=a},_updateController:function(e,t,o){var i=this._controller,a=this._controllerHost,n=this.group;i.setPointerChecker((function(t,i,a){var r=n.getBoundingRect();return r.applyTransform(n.transform),r.contain(i,a)&&!p(t,o,e)})),i.enable(e.get("roam")),a.zoomLimit=e.get("scaleLimit"),a.zoom=e.coordinateSystem.getZoom(),i.off("pan").off("zoom").on("pan",(function(t){h.updateViewOnPan(a,t.dx,t.dy),o.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})}),this).on("zoom",(function(t){h.updateViewOnZoom(a,t.scale,t.originX,t.originY),o.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(e)}),this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),o=this._getNodeGlobalScale(e),i=[o,o];t.eachItemGraphicEl((function(e,t){e.attr("scale",i)}))},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var o=this._nodeScaleRatio,i=t.scale,a=i&&i[0]||1,n=t.getZoom(),r=(n-1)*o+1;return r/a},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function w(e,t){var o=e.getItemLayout(t);return o&&!isNaN(o.x)&&!isNaN(o.y)&&"none"!==e.getItemVisual(t,"symbol")}function b(e,t,o){return o.itemModel=t,o.itemStyle=t.getModel("itemStyle").getItemStyle(),o.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),o.lineStyle=t.getModel("lineStyle").getLineStyle(),o.labelModel=t.getModel("label"),o.hoverLabelModel=t.getModel("emphasis.label"),!1===e.isExpand&&0!==e.children.length?o.symbolInnerColor=o.itemStyle.fill:o.symbolInnerColor="#fff",o}function I(e,t,o,i,r,l){var s=!o,d=e.tree.getNodeByDataIndex(t),u=d.getModel(),h=(l=b(d,u,l),e.tree.root),c=d.parentNode===h?d:d.parentNode||d,g=e.getItemGraphicEl(c.dataIndex),p=c.getLayout(),f=g?{x:g.position[0],y:g.position[1],rawX:g.__radialOldRawX,rawY:g.__radialOldRawY}:p,y=d.getLayout();s?(o=new n(e,t,l),o.attr("position",[f.x,f.y])):o.updateData(e,t,l),o.__radialOldRawX=o.__radialRawX,o.__radialOldRawY=o.__radialRawY,o.__radialRawX=y.rawX,o.__radialRawY=y.rawY,i.add(o),e.setItemGraphicEl(t,o),a.updateProps(o,{position:[y.x,y.y]},r);var v=o.getSymbolPath();if("radial"===l.layout){var m,x,w=h.children[0],I=w.getLayout(),N=w.children.length;if(y.x===I.x&&!0===d.isExpand){var L={};L.x=(w.children[0].getLayout().x+w.children[N-1].getLayout().x)/2,L.y=(w.children[0].getLayout().y+w.children[N-1].getLayout().y)/2,m=Math.atan2(L.y-I.y,L.x-I.x),m<0&&(m=2*Math.PI+m),x=L.x<I.x,x&&(m-=Math.PI)}else m=Math.atan2(y.y-I.y,y.x-I.x),m<0&&(m=2*Math.PI+m),0===d.children.length||0!==d.children.length&&!1===d.isExpand?(x=y.x<I.x,x&&(m-=Math.PI)):(x=y.x>I.x,x||(m-=Math.PI));var M=x?"left":"right",S=l.labelModel.get("rotate"),D=S*(Math.PI/180);v.setStyle({textPosition:l.labelModel.get("position")||M,textRotation:null==S?-m:D,textOrigin:"center",verticalAlign:"middle"})}_(r,d,h,o,f,p,y,i,l)}function _(e,t,o,n,r,l,s,d,u){var h=u.edgeShape,c=n.__edge;if("curve"===h)t.parentNode&&t.parentNode!==o&&(c||(c=n.__edge=new a.BezierCurve({shape:L(u,r,r),style:i.defaults({opacity:0,strokeNoScale:!0},u.lineStyle)})),a.updateProps(c,{shape:L(u,l,s),style:i.defaults({opacity:1},u.lineStyle)},e));else if("polyline"===h&&"orthogonal"===u.layout&&t!==o&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var g=t.children,p=[],f=0;f<g.length;f++){var y=g[f].getLayout();p.push([y.x,y.y])}c||(c=n.__edge=new m({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:u.orient,forkPosition:u.edgeForkPosition},style:i.defaults({opacity:0,strokeNoScale:!0},u.lineStyle)})),a.updateProps(c,{shape:{parentPoint:[s.x,s.y],childPoints:p},style:i.defaults({opacity:1},u.lineStyle)},e)}d.add(c)}function N(e,t,o,i,n,r){var l,s=e.tree.getNodeByDataIndex(t),d=e.tree.root,u=s.getModel(),h=(r=b(s,u,r),s.parentNode===d?s:s.parentNode||s),c=r.edgeShape;while(l=h.getLayout(),null==l)h=h.parentNode===d?h:h.parentNode||h;a.updateProps(o,{position:[l.x+1,l.y+1]},n,(function(){i.remove(o),e.setItemGraphicEl(t,null)})),o.fadeOut(null,{keepLabel:!0});var g=e.getItemGraphicEl(h.dataIndex),p=g.__edge,f=o.__edge||(!1===h.isExpand||1===h.children.length?p:void 0);c=r.edgeShape;f&&("curve"===c?a.updateProps(f,{shape:L(r,l,l),style:{opacity:0}},n,(function(){i.remove(f)})):"polyline"===c&&"orthogonal"===r.layout&&a.updateProps(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},n,(function(){i.remove(f)})))}function L(e,t,o){var i,a,n,r,s,d,u,h,c=e.orient;if("radial"===e.layout){s=t.rawX,u=t.rawY,d=o.rawX,h=o.rawY;var g=l(s,u),p=l(s,u+(h-u)*e.curvature),f=l(d,h+(u-h)*e.curvature),y=l(d,h);return{x1:g.x,y1:g.y,x2:y.x,y2:y.y,cpx1:p.x,cpy1:p.y,cpx2:f.x,cpy2:f.y}}return s=t.x,u=t.y,d=o.x,h=o.y,"LR"!==c&&"RL"!==c||(i=s+(d-s)*e.curvature,a=u,n=d+(s-d)*e.curvature,r=h),"TB"!==c&&"BT"!==c||(i=s,a=u+(h-u)*e.curvature,n=d,r=h+(u-h)*e.curvature),{x1:s,y1:u,x2:d,y2:h,cpx1:i,cpy1:a,cpx2:n,cpy2:r}}e.exports=x},"6d9a":function(e,t){function o(e,t,o){var i,a=[e],n=[];while(i=a.pop())if(n.push(i),i.isExpand){var r=i.children;if(r.length)for(var l=0;l<r.length;l++)a.push(r[l])}while(i=n.pop())t(i,o)}function i(e,t){var o,i=[e];while(o=i.pop())if(t(o),o.isExpand){var a=o.children;if(a.length)for(var n=a.length-1;n>=0;n--)i.push(a[n])}}t.eachAfter=o,t.eachBefore=i},"71b2":function(e,t,o){var i=o("6d8b"),a=i.createHashMap;function n(e){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),o=e.getRawData(),i=e.get("color"),n=a();t.each((function(e){n.set(t.getRawIndex(e),e)})),o.each((function(a){var r=o.getName(a),l=i[(e.nameMap.get(r)-1)%i.length];o.setItemVisual(a,"color",l);var s=n.get(a);null!=s&&t.setItemVisual(s,"color",l)}))}))}e.exports=n},"81ac":function(e,t,o){var i=o("f934"),a=o("6d8b"),n=o("e0d3"),r=n.groupData;function l(e,t,o){e.eachSeriesByType("sankey",(function(e){var o=e.get("nodeWidth"),i=e.get("nodeGap"),n=s(e,t);e.layoutInfo=n;var r=n.width,l=n.height,h=e.getGraph(),c=h.nodes,g=h.edges;u(c);var p=a.filter(c,(function(e){return 0===e.getLayout().value})),f=0!==p.length?0:e.get("layoutIterations"),y=e.get("orient"),v=e.get("nodeAlign");d(c,g,o,i,r,l,f,y,v)}))}function s(e,t){return i.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function d(e,t,o,i,a,n,r,l,s){h(e,t,o,a,n,l,s),y(e,t,n,a,i,r,l),T(e,l)}function u(e){a.each(e,(function(e){var t=S(e.outEdges,M),o=S(e.inEdges,M),i=e.getValue()||0,a=Math.max(t,o,i);e.setLayout({value:a},!0)}))}function h(e,t,o,i,a,n,r){for(var l=[],s=[],d=[],u=[],h=0,c=0,p=0;p<t.length;p++)l[p]=1;for(p=0;p<e.length;p++)s[p]=e[p].inEdges.length,0===s[p]&&d.push(e[p]);var y=-1;while(d.length){for(var v=0;v<d.length;v++){var m=d[v],x=m.hostGraph.data.getRawDataItem(m.dataIndex),w=null!=x.depth&&x.depth>=0;w&&x.depth>y&&(y=x.depth),m.setLayout({depth:w?x.depth:h},!0),"vertical"===n?m.setLayout({dy:o},!0):m.setLayout({dx:o},!0);for(var b=0;b<m.outEdges.length;b++){var I=m.outEdges[b],_=t.indexOf(I);l[_]=0;var N=I.node2,L=e.indexOf(N);0===--s[L]&&u.indexOf(N)<0&&u.push(N)}}++h,d=u,u=[]}for(p=0;p<l.length;p++)if(1===l[p])throw new Error("Sankey is a DAG, the original data has cycle!");var M=y>h-1?y:h-1;r&&"left"!==r&&g(e,r,n,M);c="vertical"===n?(a-o)/M:(i-o)/M;f(e,c,n)}function c(e){var t=e.hostGraph.data.getRawDataItem(e.dataIndex);return null!=t.depth&&t.depth>=0}function g(e,t,o,i){if("right"===t){var n=[],r=e,l=0;while(r.length){for(var s=0;s<r.length;s++){var d=r[s];d.setLayout({skNodeHeight:l},!0);for(var u=0;u<d.inEdges.length;u++){var h=d.inEdges[u];n.indexOf(h.node1)<0&&n.push(h.node1)}}r=n,n=[],++l}a.each(e,(function(e){c(e)||e.setLayout({depth:Math.max(0,i-e.getLayout().skNodeHeight)},!0)}))}else"justify"===t&&p(e,i)}function p(e,t){a.each(e,(function(e){c(e)||e.outEdges.length||e.setLayout({depth:t},!0)}))}function f(e,t,o){a.each(e,(function(e){var i=e.getLayout().depth*t;"vertical"===o?e.setLayout({y:i},!0):e.setLayout({x:i},!0)}))}function y(e,t,o,i,a,n,r){var l=v(e,r);m(l,t,o,i,a,r),x(l,a,o,i,r);for(var s=1;n>0;n--)s*=.99,w(l,s,r),x(l,a,o,i,r),D(l,s,r),x(l,a,o,i,r)}function v(e,t){var o=[],i="vertical"===t?"y":"x",n=r(e,(function(e){return e.getLayout()[i]}));return n.keys.sort((function(e,t){return e-t})),a.each(n.keys,(function(e){o.push(n.buckets.get(e))})),o}function m(e,t,o,i,n,r){var l=1/0;a.each(e,(function(e){var t=e.length,s=0;a.each(e,(function(e){s+=e.getLayout().value}));var d="vertical"===r?(i-(t-1)*n)/s:(o-(t-1)*n)/s;d<l&&(l=d)})),a.each(e,(function(e){a.each(e,(function(e,t){var o=e.getLayout().value*l;"vertical"===r?(e.setLayout({x:t},!0),e.setLayout({dx:o},!0)):(e.setLayout({y:t},!0),e.setLayout({dy:o},!0))}))})),a.each(t,(function(e){var t=+e.getValue()*l;e.setLayout({dy:t},!0)}))}function x(e,t,o,i,n){var r="vertical"===n?"x":"y";a.each(e,(function(e){var a,l,s;e.sort((function(e,t){return e.getLayout()[r]-t.getLayout()[r]}));for(var d=0,u=e.length,h="vertical"===n?"dx":"dy",c=0;c<u;c++)l=e[c],s=d-l.getLayout()[r],s>0&&(a=l.getLayout()[r]+s,"vertical"===n?l.setLayout({x:a},!0):l.setLayout({y:a},!0)),d=l.getLayout()[r]+l.getLayout()[h]+t;var g="vertical"===n?i:o;if(s=d-t-g,s>0)for(a=l.getLayout()[r]-s,"vertical"===n?l.setLayout({x:a},!0):l.setLayout({y:a},!0),d=a,c=u-2;c>=0;--c)l=e[c],s=l.getLayout()[r]+l.getLayout()[h]+t-d,s>0&&(a=l.getLayout()[r]-s,"vertical"===n?l.setLayout({x:a},!0):l.setLayout({y:a},!0)),d=l.getLayout()[r]}))}function w(e,t,o){a.each(e.slice().reverse(),(function(e){a.each(e,(function(e){if(e.outEdges.length){var i=S(e.outEdges,b,o)/S(e.outEdges,M,o);if(isNaN(i)){var a=e.outEdges.length;i=a?S(e.outEdges,I,o)/a:0}if("vertical"===o){var n=e.getLayout().x+(i-L(e,o))*t;e.setLayout({x:n},!0)}else{var r=e.getLayout().y+(i-L(e,o))*t;e.setLayout({y:r},!0)}}}))}))}function b(e,t){return L(e.node2,t)*e.getValue()}function I(e,t){return L(e.node2,t)}function _(e,t){return L(e.node1,t)*e.getValue()}function N(e,t){return L(e.node1,t)}function L(e,t){return"vertical"===t?e.getLayout().x+e.getLayout().dx/2:e.getLayout().y+e.getLayout().dy/2}function M(e){return e.getValue()}function S(e,t,o){var i=0,a=e.length,n=-1;while(++n<a){var r=+t.call(e,e[n],o);isNaN(r)||(i+=r)}return i}function D(e,t,o){a.each(e,(function(e){a.each(e,(function(e){if(e.inEdges.length){var i=S(e.inEdges,_,o)/S(e.inEdges,M,o);if(isNaN(i)){var a=e.inEdges.length;i=a?S(e.inEdges,N,o)/a:0}if("vertical"===o){var n=e.getLayout().x+(i-L(e,o))*t;e.setLayout({x:n},!0)}else{var r=e.getLayout().y+(i-L(e,o))*t;e.setLayout({y:r},!0)}}}))}))}function T(e,t){var o="vertical"===t?"x":"y";a.each(e,(function(e){e.outEdges.sort((function(e,t){return e.node2.getLayout()[o]-t.node2.getLayout()[o]})),e.inEdges.sort((function(e,t){return e.node1.getLayout()[o]-t.node1.getLayout()[o]}))})),a.each(e,(function(e){var t=0,o=0;a.each(e.outEdges,(function(e){e.setLayout({sy:t},!0),t+=e.getLayout().dy})),a.each(e.inEdges,(function(e){e.setLayout({ty:o},!0),o+=e.getLayout().dy}))}))}e.exports=l},"90c2":function(e,t,o){var i=o("5f14"),a=o("41ef"),n=o("6d8b"),r=n.isArray,l="itemStyle",s={seriesType:"treemap",reset:function(e,t,o,i){var a=e.getData().tree,n=a.root;n.isRemoved()||d(n,{},e.getViewRoot().getAncestors(),e)}};function d(e,t,o,i){var a=e.getModel(),r=e.getLayout();if(r&&!r.invisible&&r.isInView){var s,g=e.getModel(l),f=u(g,t,i),v=g.get("borderColor"),m=g.get("borderColorSaturation");null!=m&&(s=h(f,e),v=c(m,s)),e.setVisual("borderColor",v);var x=e.viewChildren;if(x&&x.length){var w=p(e,a,r,g,f,x);n.each(x,(function(e,t){if(e.depth>=o.length||e===o[e.depth]){var n=y(a,f,e,t,w,i);d(e,n,o,i)}}))}else s=h(f,e),e.setVisual("color",s)}}function u(e,t,o){var i=n.extend({},t),a=o.designatedVisualItemStyle;return n.each(["color","colorAlpha","colorSaturation"],(function(o){a[o]=t[o];var n=e.get(o);a[o]=null,null!=n&&(i[o]=n)})),i}function h(e){var t=g(e,"color");if(t){var o=g(e,"colorAlpha"),i=g(e,"colorSaturation");return i&&(t=a.modifyHSL(t,null,null,i)),o&&(t=a.modifyAlpha(t,o)),t}}function c(e,t){return null!=t?a.modifyHSL(t,null,null,e):null}function g(e,t){var o=e[t];if(null!=o&&"none"!==o)return o}function p(e,t,o,a,n,r){if(r&&r.length){var l=f(t,"color")||null!=n.color&&"none"!==n.color&&(f(t,"colorAlpha")||f(t,"colorSaturation"));if(l){var s=t.get("visualMin"),d=t.get("visualMax"),u=o.dataExtent.slice();null!=s&&s<u[0]&&(u[0]=s),null!=d&&d>u[1]&&(u[1]=d);var h=t.get("colorMappingBy"),c={type:l.name,dataExtent:u,visual:l.range};"color"!==c.type||"index"!==h&&"id"!==h?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0);var g=new i(c);return g.__drColorMappingBy=h,g}}}function f(e,t){var o=e.get(t);return r(o)&&o.length?{name:t,range:o}:null}function y(e,t,o,i,a,r){var l=n.extend({},t);if(a){var s=a.type,d="color"===s&&a.__drColorMappingBy,u="index"===d?i:"id"===d?r.mapIdToIndex(o.getId()):o.getValue(e.get("visualDimension"));l[s]=a.mapValueToVisual(u)}return l}e.exports=s},"928d":function(e,t,o){var i=o("6d8b"),a=o("4f85"),n=o("06c7"),r=o("4319"),l=o("eda2"),s=l.encodeHTML,d=l.addCommas,u=o("55ac"),h=u.wrapTreePathInfo,c=a.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var o={name:e.name,children:e.data};g(o);var a=e.levels||[],l=this.designatedVisualItemStyle={},s=new r({itemStyle:l},this,t);a=e.levels=p(a,t);var d=i.map(a||[],(function(e){return new r(e,s,t)}),this),u=n.createTree(o,this,h);function h(e){e.wrapMethod("getItemModel",(function(e,t){var o=u.getNodeByDataIndex(t),i=d[o.depth];return e.parentModel=i||s,e}))}return u.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),o=this.getRawValue(e),a=i.isArray(o)?d(o[0]):d(o),n=t.getName(e);return s(n+": "+a)},getDataParams:function(e){var t=a.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=h(o,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},i.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=i.createHashMap(),this._idIndexMapCount=0);var o=t.get(e);return null==o&&t.set(e,o=this._idIndexMapCount++),o},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});function g(e){var t=0;i.each(e.children,(function(e){g(e);var o=e.value;i.isArray(o)&&(o=o[0]),t+=o}));var o=e.value;i.isArray(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),i.isArray(e.value)?e.value[0]=o:e.value=o}function p(e,t){var o=t.get("color");if(o){var a;if(e=e||[],i.each(e,(function(e){var t=new r(e),o=t.get("color");(t.get("itemStyle.color")||o&&"none"!==o)&&(a=!0)})),!a){var n=e[0]||(e[0]={});n.color=o.slice()}return e}}e.exports=c},"9ca8":function(e,t,o){var i=o("6d8b"),a=o("9850"),n=o("3842"),r=n.parsePercent,l=n.MAX_SAFE_INTEGER,s=o("f934"),d=o("55ac"),u=Math.max,h=Math.min,c=i.retrieve,g=i.each,p=["itemStyle","borderWidth"],f=["itemStyle","gapWidth"],y=["upperLabel","show"],v=["upperLabel","height"],m={seriesType:"treemap",reset:function(e,t,o,n){var l=o.getWidth(),u=o.getHeight(),h=e.option,p=s.getLayoutRect(e.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()}),f=h.size||[],y=r(c(p.width,f[0]),l),v=r(c(p.height,f[1]),u),m=n&&n.type,w=["treemapZoomToNode","treemapRootToNode"],b=d.retrieveTargetInfo(n,w,e),I="treemapRender"===m||"treemapMove"===m?n.rootRect:null,_=e.getViewRoot(),N=d.getPathToRoot(_);if("treemapMove"!==m){var L="treemapZoomToNode"===m?M(e,b,_,y,v):I?[I.width,I.height]:[y,v],T=h.sort;T&&"asc"!==T&&"desc"!==T&&(T="desc");var A={squareRatio:h.squareRatio,sort:T,leafDepth:h.leafDepth};_.hostTree.clearLayouts();var R={x:0,y:0,width:L[0],height:L[1],area:L[0]*L[1]};_.setLayout(R),x(_,A,!1,0);R=_.getLayout();g(N,(function(e,t){var o=(N[t+1]||_).getValue();e.setLayout(i.extend({dataExtent:[o,o],borderWidth:0,upperHeight:0},R))}))}var P=e.getData().tree.root;P.setLayout(S(p,I,b),!0),e.setLayoutInfo(p),D(P,new a(-p.x,-p.y,l,u),N,_,0)}};function x(e,t,o,i){var a,n;if(!e.isRemoved()){var r=e.getLayout();a=r.width,n=r.height;var l=e.getModel(),s=l.get(p),d=l.get(f)/2,c=T(l),g=Math.max(s,c),y=s-d,v=g-d;l=e.getModel();e.setLayout({borderWidth:s,upperHeight:g,upperLabelHeight:c},!0),a=u(a-2*y,0),n=u(n-y-v,0);var m=a*n,b=w(e,l,m,t,o,i);if(b.length){var I={x:y,y:v,width:a,height:n},_=h(a,n),M=1/0,S=[];S.area=0;for(var D=0,A=b.length;D<A;){var R=b[D];S.push(R),S.area+=R.getLayout().area;var P=N(S,_,t.squareRatio);P<=M?(D++,M=P):(S.area-=S.pop().getLayout().area,L(S,_,I,d,!1),_=h(I.width,I.height),S.length=S.area=0,M=1/0)}if(S.length&&L(S,_,I,d,!0),!o){var E=l.get("childrenVisibleMin");null!=E&&m<E&&(o=!0)}for(D=0,A=b.length;D<A;D++)x(b[D],t,o,i+1)}}}function w(e,t,o,a,n,r){var l=e.children||[],s=a.sort;"asc"!==s&&"desc"!==s&&(s=null);var d=null!=a.leafDepth&&a.leafDepth<=r;if(n&&!d)return e.viewChildren=[];l=i.filter(l,(function(e){return!e.isRemoved()})),I(l,s);var u=_(t,l,s);if(0===u.sum)return e.viewChildren=[];if(u.sum=b(t,o,u.sum,s,l),0===u.sum)return e.viewChildren=[];for(var h=0,c=l.length;h<c;h++){var g=l[h].getValue()/u.sum*o;l[h].setLayout({area:g})}return d&&(l.length&&e.setLayout({isLeafRoot:!0},!0),l.length=0),e.viewChildren=l,e.setLayout({dataExtent:u.dataExtent},!0),l}function b(e,t,o,i,a){if(!i)return o;for(var n=e.get("visibleMin"),r=a.length,l=r,s=r-1;s>=0;s--){var d=a["asc"===i?r-s-1:s].getValue();d/o*t<n&&(l=s,o-=d)}return"asc"===i?a.splice(0,r-l):a.splice(l,r-l),o}function I(e,t){return t&&e.sort((function(e,o){var i="asc"===t?e.getValue()-o.getValue():o.getValue()-e.getValue();return 0===i?"asc"===t?e.dataIndex-o.dataIndex:o.dataIndex-e.dataIndex:i})),e}function _(e,t,o){for(var i=0,a=0,n=t.length;a<n;a++)i+=t[a].getValue();var r=e.get("visualDimension");if(t&&t.length)if("value"===r&&o)l=[t[t.length-1].getValue(),t[0].getValue()],"asc"===o&&l.reverse();else{var l=[1/0,-1/0];g(t,(function(e){var t=e.getValue(r);t<l[0]&&(l[0]=t),t>l[1]&&(l[1]=t)}))}else l=[NaN,NaN];return{sum:i,dataExtent:l}}function N(e,t,o){for(var i,a=0,n=1/0,r=0,l=e.length;r<l;r++)i=e[r].getLayout().area,i&&(i<n&&(n=i),i>a&&(a=i));var s=e.area*e.area,d=t*t*o;return s?u(d*a/s,s/(d*n)):1/0}function L(e,t,o,i,a){var n=t===o.width?0:1,r=1-n,l=["x","y"],s=["width","height"],d=o[l[n]],c=t?e.area/t:0;(a||c>o[s[r]])&&(c=o[s[r]]);for(var g=0,p=e.length;g<p;g++){var f=e[g],y={},v=c?f.getLayout().area/c:0,m=y[s[r]]=u(c-2*i,0),x=o[l[n]]+o[s[n]]-d,w=g===p-1||x<v?x:v,b=y[s[n]]=u(w-2*i,0);y[l[r]]=o[l[r]]+h(i,m/2),y[l[n]]=d+h(i,b/2),d+=w,f.setLayout(y,!0)}o[l[r]]+=c,o[s[r]]-=c}function M(e,t,o,i,a){var n,r=(t||{}).node,s=[i,a];if(!r||r===o)return s;var d=i*a,u=d*e.option.zoomToNodeRatio;while(n=r.parentNode){for(var h=0,c=n.children,g=0,f=c.length;g<f;g++)h+=c[g].getValue();var y=r.getValue();if(0===y)return s;u*=h/y;var v=n.getModel(),m=v.get(p),x=Math.max(m,T(v,m));u+=4*m*m+(3*m+x)*Math.pow(u,.5),u>l&&(u=l),r=n}u<d&&(u=d);var w=Math.pow(u/d,.5);return[i*w,a*w]}function S(e,t,o){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!o)return i;var a=o.node,n=a.getLayout();if(!n)return i;var r=[n.width/2,n.height/2],l=a;while(l){var s=l.getLayout();r[0]+=s.x,r[1]+=s.y,l=l.parentNode}return{x:e.width/2-r[0],y:e.height/2-r[1]}}function D(e,t,o,i,n){var r=e.getLayout(),l=o[n],s=l&&l===e;if(!(l&&!s||n===o.length&&e!==i)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(r),isAboveViewRoot:s},!0);var d=new a(t.x-r.x,t.y-r.y,t.width,t.height);g(e.viewChildren||[],(function(e){D(e,d,o,i,n+1)}))}}function T(e){return e.get(y)?e.get(v):0}e.exports=m},aa01:function(e,t,o){var i=o("6d8b"),a=o("4f85"),n=o("06c7"),r=o("4319"),l=o("55ac"),s=l.wrapTreePathInfo,d=a.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var o={name:e.name,children:e.data};u(o);var a=i.map(e.levels||[],(function(e){return new r(e,this,t)}),this),l=n.createTree(o,this,s);function s(e){e.wrapMethod("getItemModel",(function(e,t){var o=l.getNodeByDataIndex(t),i=a[o.depth];return i&&(e.parentModel=i),e}))}return l.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=a.prototype.getDataParams.apply(this,arguments),o=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=s(o,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});function u(e){var t=0;i.each(e.children,(function(e){u(e);var o=e.value;i.isArray(o)&&(o=o[0]),t+=o}));var o=e.value;i.isArray(o)&&(o=o[0]),(null==o||isNaN(o))&&(o=t),o<0&&(o=0),i.isArray(e.value)?e.value[0]=o:e.value=o}e.exports=d},abff:function(e,t,o){var i=o("3eba"),a=o("f706"),n=o("c965"),r=o("87c3");i.extendChartView({type:"scatter",render:function(e,t,o){var i=e.getData(),a=this._updateSymbolDraw(i,e);a.updateData(i,{clipShape:this._getClipShape(e)}),this._finished=!0},incrementalPrepareRender:function(e,t,o){var i=e.getData(),a=this._updateSymbolDraw(i,e);a.incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(e,t,o){this._symbolDraw.incrementalUpdate(e,t.getData(),{clipShape:this._getClipShape(t)}),this._finished=e.end===t.getData().count()},updateTransform:function(e,t,o){var i=e.getData();if(this.group.dirty(),!this._finished||i.count()>1e4||!this._symbolDraw.isPersistent())return{update:!0};var a=r().reset(e);a.progress&&a.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_getClipShape:function(e){var t=e.coordinateSystem,o=t&&t.getArea&&t.getArea();return e.get("clip",!0)?o:null},_updateSymbolDraw:function(e,t){var o=this._symbolDraw,i=t.pipelineContext,r=i.large;return o&&r===this._isLargeDraw||(o&&o.remove(),o=this._symbolDraw=r?new n:new a,this._isLargeDraw=r,this.group.removeAll()),this.group.add(o.group),o},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}})},adf4:function(e,t,o){var i=o("4f85"),a=o("b1d4"),n=o("2f45"),r=n.getDimensionTypeByAxis,l=o("6179"),s=o("6d8b"),d=o("e0d3"),u=d.groupData,h=o("eda2"),c=h.encodeHTML,g=o("c4a3"),p=2,f=i.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){f.superApply(this,"init",arguments),this.legendVisualProvider=new g(s.bind(this.getData,this),s.bind(this.getRawData,this))},fixData:function(e){var t=e.length,o={},i=u(e,(function(e){return o.hasOwnProperty(e[0])||(o[e[0]]=-1),e[2]})),a=[];i.buckets.each((function(e,t){a.push({name:t,dataList:e})}));for(var n=a.length,r=0;r<n;++r){for(var l=a[r].name,s=0;s<a[r].dataList.length;++s){var d=a[r].dataList[s][0];o[d]=r}for(var d in o)o.hasOwnProperty(d)&&o[d]!==r&&(o[d]=r,e[t]=[],e[t][0]=d,e[t][1]=0,e[t][2]=l,t++)}return e},getInitialData:function(e,t){for(var o=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],i=o.get("type"),n=s.filter(e.data,(function(e){return void 0!==e[2]})),d=this.fixData(n||[]),u=[],h=this.nameMap=s.createHashMap(),c=0,g=0;g<d.length;++g)u.push(d[g][p]),h.get(d[g][p])||(h.set(d[g][p],c),c++);var f=a(d,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:r(i)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),y=new l(f,this);return y.initData(d),y},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),o=[],i=0;i<t;++i)o[i]=i;var a=e.mapDimension("single"),n=u(o,(function(t){return e.get("name",t)})),r=[];return n.buckets.each((function(t,o){t.sort((function(t,o){return e.get(a,t)-e.get(a,o)})),r.push({name:o,indices:t})})),r},getAxisTooltipData:function(e,t,o){s.isArray(e)||(e=e?[e]:[]);for(var i,a=this.getData(),n=this.getLayerSeries(),r=[],l=n.length,d=0;d<l;++d){for(var u=Number.MAX_VALUE,h=-1,c=n[d].indices.length,g=0;g<c;++g){var p=a.get(e[0],n[d].indices[g]),f=Math.abs(p-t);f<=u&&(i=p,u=f,h=n[d].indices[g])}r.push(h)}return{dataIndices:r,nestestValue:i}},formatTooltip:function(e){var t=this.getData(),o=t.getName(e),i=t.get(t.mapDimension("value"),e);return(isNaN(i)||null==i)&&(i="-"),c(o+" : "+i)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),y=f;e.exports=y},b369:function(e,t,o){var i=o("3eba"),a=o("6d8b"),n=o("2306"),r=o("80f0"),l=o("55ac"),s=o("f610"),d=o("4a01"),u=o("9850"),h=o("1687"),c=o("e6cd"),g=o("282b"),p=o("eda2"),f=p.windowOpen,y=a.bind,v=n.Group,m=n.Rect,x=a.each,w=3,b=["label"],I=["emphasis","label"],_=["upperLabel"],N=["emphasis","upperLabel"],L=10,M=1,S=2,D=g([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),T=function(e){var t=D(e);return t.stroke=t.fill=t.lineWidth=null,t},A=i.extendChartView({type:"treemap",init:function(e,t){this._containerGroup,this._storage=R(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(e,t,o,i){var n=t.findComponents({mainType:"series",subType:"treemap",query:i});if(!(a.indexOf(n,e)<0)){this.seriesModel=e,this.api=o,this.ecModel=t;var r=["treemapZoomToNode","treemapRootToNode"],s=l.retrieveTargetInfo(i,r,e),d=i&&i.type,u=e.layoutInfo,h=!this._oldTree,c=this._storage,g="treemapRootToNode"===d&&s&&c?{rootNodeGroup:c.nodeGroup[s.node.getRawIndex()],direction:i.direction}:null,p=this._giveContainerGroup(u),f=this._doRender(p,e,g);h||d&&"treemapZoomToNode"!==d&&"treemapRootToNode"!==d?f.renderFinally():this._doAnimation(p,f,e,g),this._resetController(o),this._renderBreadcrumb(e,o,s)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new v,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,o){var i=t.getData().tree,n=this._oldTree,l=R(),s=R(),d=this._storage,u=[],h=a.curry(P,t,s,d,o,l,u);g(i.root?[i.root]:[],n&&n.root?[n.root]:[],e,i===n||!n,0);var c=p(d);return this._oldTree=i,this._storage=s,{lastsForAnimation:l,willDeleteEls:c,renderFinally:f};function g(e,t,o,i,n){function l(e){return e.getId()}function s(a,r){var l=null!=a?e[a]:null,s=null!=r?t[r]:null,d=h(l,s,o,n);d&&g(l&&l.viewChildren||[],s&&s.viewChildren||[],d,i,n+1)}i?(t=e,x(e,(function(e,t){!e.isRemoved()&&s(t,t)}))):new r(t,e,l,l).add(s).update(s).remove(a.curry(s,null)).execute()}function p(e){var t=R();return e&&x(e,(function(e,o){var i=t[o];x(e,(function(e){e&&(i.push(e),e.__tmWillDelete=1)}))})),t}function f(){x(c,(function(e){x(e,(function(e){e.parent&&e.parent.remove(e)}))})),x(u,(function(e){e.invisible=!0,e.dirty()}))}},_doAnimation:function(e,t,o,i){if(o.get("animation")){var n=o.get("animationDurationUpdate"),r=o.get("animationEasing"),l=c.createWrap();x(t.willDeleteEls,(function(e,t){x(e,(function(e,o){if(!e.invisible){var a,s=e.parent;if(i&&"drillDown"===i.direction)a=s===i.rootNodeGroup?{shape:{x:0,y:0,width:s.__tmNodeWidth,height:s.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,u=0;s.__tmWillDelete||(d=s.__tmNodeWidth/2,u=s.__tmNodeHeight/2),a="nodeGroup"===t?{position:[d,u],style:{opacity:0}}:{shape:{x:d,y:u,width:0,height:0},style:{opacity:0}}}a&&l.add(e,a,n,r)}}))})),x(this._storage,(function(e,o){x(e,(function(e,i){var s=t.lastsForAnimation[o][i],d={};s&&("nodeGroup"===o?s.old&&(d.position=e.position.slice(),e.attr("position",s.old)):(s.old&&(d.shape=a.extend({},e.shape),e.setShape(s.old)),s.fadein?(e.setStyle("opacity",0),d.style={opacity:1}):1!==e.style.opacity&&(d.style={opacity:1})),l.add(e,d,n,r))}))}),this),this._state="animating",l.done(y((function(){this._state="ready",t.renderFinally()}),this)).start()}},_resetController:function(e){var t=this._controller;t||(t=this._controller=new d(e.getZr()),t.enable(this.seriesModel.get("roam")),t.on("pan",y(this._onPan,this)),t.on("zoom",y(this._onZoom,this)));var o=new u(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,i){return o.contain(t,i)}))},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(Math.abs(e.dx)>w||Math.abs(e.dy)>w)){var t=this.seriesModel.getData().tree.root;if(!t)return;var o=t.getLayout();if(!o)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x+e.dx,y:o.y+e.dy,width:o.width,height:o.height}})}},_onZoom:function(e){var t=e.originX,o=e.originY;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var a=i.getLayout();if(!a)return;var n=new u(a.x,a.y,a.width,a.height),r=this.seriesModel.layoutInfo;t-=r.x,o-=r.y;var l=h.create();h.translate(l,l,[-t,-o]),h.scale(l,l,[e.scale,e.scale]),h.translate(l,l,[t,o]),n.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:n.x,y:n.y,width:n.width,height:n.height}})}},_initEvents:function(e){e.on("click",(function(e){if("ready"===this._state){var t=this.seriesModel.get("nodeClick",!0);if(t){var o=this.findTarget(e.offsetX,e.offsetY);if(o){var i=o.node;if(i.getLayout().isLeafRoot)this._rootToNode(o);else if("zoomToNode"===t)this._zoomToNode(o);else if("link"===t){var a=i.hostTree.data.getItemModel(i.dataIndex),n=a.get("link",!0),r=a.get("target",!0)||"blank";n&&f(n,r)}}}}}),this)},_renderBreadcrumb:function(e,t,o){function i(t){"animating"!==this._state&&(l.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))}o||(o=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),o||(o={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new s(this.group))).render(e,t,o.node,y(i,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=R(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var o,i=this.seriesModel.getViewRoot();return i.eachNode({attr:"viewChildren",order:"preorder"},(function(i){var a=this._storage.background[i.getRawIndex()];if(a){var n=a.transformCoordToLocal(e,t),r=a.shape;if(!(r.x<=n[0]&&n[0]<=r.x+r.width&&r.y<=n[1]&&n[1]<=r.y+r.height))return!1;o={node:i,offsetX:n[0],offsetY:n[1]}}}),this),o}});function R(){return{nodeGroup:[],background:[],content:[]}}function P(e,t,o,i,r,l,s,d,u,h){if(s){var c=s.getLayout(),g=e.getData();if(g.setItemGraphicEl(s.dataIndex,null),c&&c.isInView){var p=c.width,f=c.height,y=c.borderWidth,x=c.invisible,w=s.getRawIndex(),L=d&&d.getRawIndex(),A=s.viewChildren,R=c.upperHeight,P=A&&A.length,C=s.getModel("itemStyle"),V=s.getModel("emphasis.itemStyle"),k=Y("nodeGroup",v);if(k){if(u.add(k),k.attr("position",[c.x||0,c.y||0]),k.__tmNodeWidth=p,k.__tmNodeHeight=f,c.isAboveViewRoot)return k;var G=s.getModel(),H=Y("background",m,h,M);if(H&&B(k,H,P&&c.upperLabelHeight),P)n.isHighDownDispatcher(k)&&n.setAsHighDownDispatcher(k,!1),H&&(n.setAsHighDownDispatcher(H,!0),g.setItemGraphicEl(s.dataIndex,H));else{var z=Y("content",m,h,S);z&&O(k,z),H&&n.isHighDownDispatcher(H)&&n.setAsHighDownDispatcher(H,!1),n.setAsHighDownDispatcher(k,!0),g.setItemGraphicEl(s.dataIndex,k)}return k}}}function B(t,o,i){if(o.dataIndex=s.dataIndex,o.seriesIndex=e.seriesIndex,o.setShape({x:0,y:0,width:p,height:f}),x)W(o);else{o.invisible=!1;var a=s.getVisual("borderColor",!0),r=V.get("borderColor"),l=T(C);l.fill=a;var d=D(V);if(d.fill=r,i){var u=p-2*y;j(l,d,a,u,R,{x:y,y:0,width:u,height:R})}else l.text=d.text=null;o.setStyle(l),n.setElementHoverStyle(o,d)}t.add(o)}function O(t,o){o.dataIndex=s.dataIndex,o.seriesIndex=e.seriesIndex;var i=Math.max(p-2*y,0),a=Math.max(f-2*y,0);if(o.culling=!0,o.setShape({x:y,y:y,width:i,height:a}),x)W(o);else{o.invisible=!1;var r=s.getVisual("color",!0),l=T(C);l.fill=r;var d=D(V);j(l,d,r,i,a),o.setStyle(l),n.setElementHoverStyle(o,d)}t.add(o)}function W(e){!e.invisible&&l.push(e)}function j(t,o,i,r,l,d){var u=G.get("name"),h=G.getModel(d?_:b),g=G.getModel(d?N:I),p=h.getShallow("show");n.setLabelStyle(t,o,h,g,{defaultText:p?u:null,autoColor:i,isRectText:!0,labelFetcher:e,labelDataIndex:s.dataIndex,labelProp:d?"upperLabel":"label"}),X(t,d,c),X(o,d,c),d&&(t.textRect=a.clone(d)),t.truncate=p&&h.get("ellipsis")?{outerWidth:r,outerHeight:l,minChar:2}:null}function X(t,o,i){var a=t.text;if(!o&&i.isLeafRoot&&null!=a){var n=e.get("drillDownIcon",!0);t.text=n?n+" "+a:a}}function Y(e,i,a,n){var l=null!=L&&o[e][L],s=r[e];return l?(o[e][L]=null,Z(s,l,e)):x||(l=new i({z:E(a,n)}),l.__tmDepth=a,l.__tmStorageName=e,F(s,l,e)),t[e][w]=l}function Z(e,t,o){var i=e[w]={};i.old="nodeGroup"===o?t.position.slice():a.extend({},t.shape)}function F(e,t,o){var a=e[w]={},n=s.parentNode;if(n&&(!i||"drillDown"===i.direction)){var l=0,d=0,u=r.background[n.getRawIndex()];!i&&u&&u.old&&(l=u.old.width,d=u.old.height),a.old="nodeGroup"===o?[0,d]:{x:l,y:d,width:0,height:0}}a.fadein="nodeGroup"!==o}}function E(e,t){var o=e*L+t;return(o-1)/o}e.exports=A},bdc0:function(e,t,o){var i=o("3eba");o("d2a5"),i.registerAction({type:"dragNode",event:"dragnode",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},(function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])}))}))},bf9b:function(e,t,o){var i=o("3eba"),a=o("d81e"),n=a.updateCenterAndZoom;i.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var o=e.dataIndex,i=t.getData().tree,a=i.getNodeByDataIndex(o);a.isExpand=!a.isExpand}))})),i.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var o=t.coordinateSystem,i=n(o,e);t.setCenter&&t.setCenter(i.center),t.setZoom&&t.setZoom(i.zoom)}))}))},ca29:function(e,t,o){var i=o("6d9a"),a=i.eachAfter,n=i.eachBefore,r=o("22da"),l=r.init,s=r.firstWalk,d=r.secondWalk,u=r.separation,h=r.radialCoordinate,c=r.getViewRect;function g(e,t){e.eachSeriesByType("tree",(function(e){p(e,t)}))}function p(e,t){var o=c(e,t);e.layoutInfo=o;var i=e.get("layout"),r=0,g=0,p=null;"radial"===i?(r=2*Math.PI,g=Math.min(o.height,o.width)/2,p=u((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(r=o.width,g=o.height,p=u());var f=e.getData().tree.root,y=f.children[0];if(y){l(f),a(y,s,p),f.hierNode.modifier=-y.hierNode.prelim,n(y,d);var v=y,m=y,x=y;n(y,(function(e){var t=e.getLayout().x;t<v.getLayout().x&&(v=e),t>m.getLayout().x&&(m=e),e.depth>x.depth&&(x=e)}));var w=v===m?1:p(v,m)/2,b=w-v.getLayout().x,I=0,_=0,N=0,L=0;if("radial"===i)I=r/(m.getLayout().x+w+b),_=g/(x.depth-1||1),n(y,(function(e){N=(e.getLayout().x+b)*I,L=(e.depth-1)*_;var t=h(N,L);e.setLayout({x:t.x,y:t.y,rawX:N,rawY:L},!0)}));else{var M=e.getOrient();"RL"===M||"LR"===M?(_=g/(m.getLayout().x+w+b),I=r/(x.depth-1||1),n(y,(function(e){L=(e.getLayout().x+b)*_,N="LR"===M?(e.depth-1)*I:r-(e.depth-1)*I,e.setLayout({x:N,y:L},!0)}))):"TB"!==M&&"BT"!==M||(I=r/(m.getLayout().x+w+b),_=g/(x.depth-1||1),n(y,(function(e){N=(e.getLayout().x+b)*I,L="TB"===M?(e.depth-1)*_:g-(e.depth-1)*_,e.setLayout({x:N,y:L},!0)})))}}}e.exports=g},cb69:function(e,t,o){var i=o("3301"),a=o("4f85"),n=a.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(e,t){return i(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",getProgressive:function(){var e=this.option.progressive;return null==e?this.option.large?5e3:this.get("progressive"):e},getProgressiveThreshold:function(){var e=this.option.progressiveThreshold;return null==e?this.option.large?1e4:this.get("progressiveThreshold"):e},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},clip:!0}});e.exports=n},cb73:function(e,t,o){var i=o("3842"),a=i.parsePercent,n=o("6d8b"),r=Math.PI/180;function l(e,t,o,i){t.eachSeriesByType(e,(function(e){var t=e.get("center"),i=e.get("radius");n.isArray(i)||(i=[0,i]),n.isArray(t)||(t=[t,t]);var l=o.getWidth(),d=o.getHeight(),u=Math.min(l,d),h=a(t[0],l),c=a(t[1],d),g=a(i[0],u/2),p=a(i[1],u/2),f=-e.get("startAngle")*r,y=e.get("minAngle")*r,v=e.getData().tree.root,m=e.getViewRoot(),x=m.depth,w=e.get("sort");null!=w&&s(m,w);var b=0;n.each(m.children,(function(e){!isNaN(e.getValue())&&b++}));var I=m.getValue(),_=Math.PI/(I||b)*2,N=m.depth>0,L=m.height-(N?-1:1),M=(p-g)/(L||1),S=e.get("clockwise"),D=e.get("stillShowZeroSum"),T=S?1:-1,A=function(e,t){if(e){var o=t;if(e!==v){var i=e.getValue(),r=0===I&&D?_:i*_;r<y&&(r=y),o=t+T*r;var l=e.depth-x-(N?-1:1),s=g+M*l,d=g+M*(l+1),p=e.getModel();null!=p.get("r0")&&(s=a(p.get("r0"),u/2)),null!=p.get("r")&&(d=a(p.get("r"),u/2)),e.setLayout({angle:r,startAngle:t,endAngle:o,clockwise:S,cx:h,cy:c,r0:s,r:d})}if(e.children&&e.children.length){var f=0;n.each(e.children,(function(e){f+=A(e,t+f)}))}return o-t}};if(N){var R=g,P=g+M,E=2*Math.PI;v.setLayout({angle:E,startAngle:f,endAngle:f+E,clockwise:S,cx:h,cy:c,r0:R,r:P})}A(m,f)}))}function s(e,t){var o=e.children||[];e.children=d(o,t),o.length&&n.each(e.children,(function(e){s(e,t)}))}function d(e,t){if("function"===typeof t)return e.sort(t);var o="asc"===t;return e.sort((function(e,t){var i=(e.getValue()-t.getValue())*(o?1:-1);return 0===i?(e.dataIndex-t.dataIndex)*(o?-1:1):i}))}e.exports=l},d01c:function(e,t,o){var i=o("4f85"),a=o("237f"),n=o("eda2"),r=n.encodeHTML,l=o("4319"),s=o("4e08"),d=(s.__DEV__,i.extend({type:"series.sankey",layoutInfo:null,levelModels:null,getInitialData:function(e,t){for(var o=e.edges||e.links,i=e.data||e.nodes,n=e.levels,r=this.levelModels={},s=0;s<n.length;s++)null!=n[s].depth&&n[s].depth>=0&&(r[n[s].depth]=new l(n[s],this,t));if(i&&o){var d=a(i,o,this,!0,u);return d.data}function u(e,t){e.wrapMethod("getItemModel",(function(e,t){return e.customizeGetParent((function(e){var o=this.parentModel,i=o.getData().getItemLayout(t).depth,a=o.levelModels[i];return a||this.parentModel})),e})),t.wrapMethod("getItemModel",(function(e,t){return e.customizeGetParent((function(e){var o=this.parentModel,i=o.getGraph().getEdgeByIndex(t),a=i.node1.getLayout().depth,n=o.levelModels[a];return n||this.parentModel})),e}))}},setNodePosition:function(e,t){var o=this.option.data[e];o.localX=t[0],o.localY=t[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,o){if("edge"===o){var i=this.getDataParams(e,o),a=i.data,n=a.source+" -- "+a.target;return i.value&&(n+=" : "+i.value),r(n)}if("node"===o){var l=this.getGraph().getNodeByIndex(e),s=l.getLayout().value,u=this.getDataParams(e,o).data.name;if(s)n=u+" : "+s;return r(n)}return d.superCall(this,"formatTooltip",e,t)},optionUpdated:function(){var e=this.option;!0===e.focusNodeAdjacency&&(e.focusNodeAdjacency="allEdges")},getDataParams:function(e,t){var o=d.superCall(this,"getDataParams",e,t);if(null==o.value&&"node"===t){var i=this.getGraph().getNodeByIndex(e),a=i.getLayout().value;o.value=a}return o},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},levels:[],nodeAlign:"justify",itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},animationEasing:"linear",animationDuration:1e3}})),u=d;e.exports=u},d716:function(e,t,o){var i=o("3eba"),a=o("6d8b");o("aa01"),o("340d"),o("44fb");var n=o("98e7"),r=o("cb73"),l=o("d3f4");i.registerVisual(a.curry(n,"sunburst")),i.registerLayout(a.curry(r,"sunburst")),i.registerProcessor(a.curry(l,"sunburst"))},dae1:function(e,t,o){var i=o("3eba");o("928d"),o("b369"),o("4411");var a=o("90c2"),n=o("9ca8");i.registerVisual(a),i.registerLayout(n)},ef97a:function(e,t,o){var i=o("3eba");o("2163"),o("6cd8"),o("bf9b");var a=o("7f96"),n=o("ca29");i.registerVisual(a("tree","circle")),i.registerLayout(n)},f610:function(e,t,o){var i=o("2306"),a=o("f934"),n=o("6d8b"),r=o("55ac"),l=r.wrapTreePathInfo,s=8,d=8,u=5;function h(e){this.group=new i.Group,e.add(this.group)}function c(e,t,o,i,a,n){var r=[[a?e:e-u,t],[e+o,t],[e+o,t+i],[a?e:e-u,t+i]];return!n&&r.splice(2,0,[e+o+u,t+i/2]),!a&&r.push([e,t+i/2]),r}function g(e,t,o){e.eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:o&&o.dataIndex,name:o&&o.name},treePathInfo:o&&l(o,t)}}h.prototype={constructor:h,render:function(e,t,o,i){var n=e.getModel("breadcrumb"),r=this.group;if(r.removeAll(),n.get("show")&&o){var l=n.getModel("itemStyle"),s=l.getModel("textStyle"),d={pos:{left:n.get("left"),right:n.get("right"),top:n.get("top"),bottom:n.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:n.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(o,d,s),this._renderContent(e,d,l,s,i),a.positionElement(r,d.pos,d.box)}},_prepare:function(e,t,o){for(var i=e;i;i=i.parentNode){var a=i.getModel().get("name"),n=o.getTextRect(a),r=Math.max(n.width+2*s,t.emptyItemWidth);t.totalWidth+=r+d,t.renderList.push({node:i,text:a,width:r})}},_renderContent:function(e,t,o,r,l){for(var s=0,u=t.emptyItemWidth,h=e.get("breadcrumb.height"),p=a.getAvailableSize(t.pos,t.box),f=t.totalWidth,y=t.renderList,v=y.length-1;v>=0;v--){var m=y[v],x=m.node,w=m.width,b=m.text;f>p.width&&(f-=w-u,w=u,b=null);var I=new i.Polygon({shape:{points:c(s,0,w,h,v===y.length-1,0===v)},style:n.defaults(o.getItemStyle(),{lineJoin:"bevel",text:b,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:n.curry(l,x)});this.group.add(I),g(I,e,x),s+=w+d}},remove:function(){this.group.removeAll()}};var p=h;e.exports=p}}]);