(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-afc19f5c"],{"47eb":function(t,a,e){},"7b46":function(t,a,e){"use strict";a["a"]={props:{page:{default:1}},data:function(){return{total:0,perpage:15}},mounted:function(){this.dataInit()},watch:{$route:function(){this.dataInit()}},methods:{paginatorInit:function(t,a){this.perpage=t,this.total=a}}}},"80e0":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("adt-search-folder",{attrs:{searchRouter:{query:{taskNumber:t.search.taskNumber,taskName:t.search.taskName,taskClassify:t.search.taskClassify}},isStatus:!0},on:{"on-triggerFolder":t.searchChange}},[e("template",{slot:"status"},[e("div",{staticClass:"status"},[e("Col",{attrs:{span:"10"}},[e("div",{staticClass:"name"},[t._v("审核状态:")]),t._l(t.auditStatusList,(function(a,s){return e("span",{key:s,class:{"click-status":t.auditStatusNum==s},on:{click:function(a){return t.auditStatus(s)}}},[t._v(" "+t._s(a.status)+" ")])}))],2),e("Col",{attrs:{span:"14"}},[e("div",{staticClass:"name"},[t._v("启用状态:")]),t._l(t.enableStatusList,(function(a,s){return e("span",{key:s,class:{"click-status":t.enableStatusNum==s},on:{click:function(a){return t.enableStatus(s)}}},[t._v(" "+t._s(a.status)+" ")])}))],2)],1)]),e("template",{slot:"always-show"},[e("Col",{staticClass:"search-condition",attrs:{span:"6"}},[e("span",[t._v("附加任务编号:")]),e("Input",{attrs:{clearable:""},model:{value:t.search.taskNumber,callback:function(a){t.$set(t.search,"taskNumber",a)},expression:"search.taskNumber"}})],1),e("Col",{staticClass:"search-condition line-margin",attrs:{span:"6"}},[e("span",[t._v("附加任务名称:")]),e("Input",{attrs:{clearable:""},model:{value:t.search.taskName,callback:function(a){t.$set(t.search,"taskName",a)},expression:"search.taskName"}})],1),e("Col",{staticClass:"search-condition line-margin",attrs:{span:"6"}},[e("span",[t._v("附加任务分类:")]),e("Select",{attrs:{clearable:""},model:{value:t.search.taskClassify,callback:function(a){t.$set(t.search,"taskClassify",a)},expression:"search.taskClassify"}},t._l(t.taskClassifyList,(function(a,s){return e("Option",{key:s,attrs:{value:a.value}},[t._v(t._s(a.label))])})),1)],1)],1)],2),e("div",{staticClass:"btns-paginator"},[e("AdtButton",[e("Button",{on:{click:function(a){return t.add()}}},[t._v(" 新增附加任务"),e("Icon",{attrs:{type:"ios-add-circle-outline"}})],1)],1),e("adt-paginator",{staticClass:"pagination",attrs:{currentPage:~~t.page,total:~~t.total},on:{getPages:t.getPages}})],1),e("Table",{attrs:{columns:t.tableColumns,data:t.tableData,stripe:""},scopedSlots:t._u([{key:"auditStatus",fn:function(a){var s=a.row;a.index;return[e("span",{class:{success:"pass"==s.statusCode,failure:"failed"==s.statusCode}},[t._v(t._s(s.status))])]}},{key:"enableStatus",fn:function(t){t.row,t.index}},{key:"action",fn:function(a){var s=a.row;a.index;return[e("Icon",{staticClass:"icon-action",attrs:{type:"md-create"},on:{click:function(a){return t.edit(s)}}}),e("Icon",{staticClass:"icon-action",attrs:{type:"md-close"},on:{click:function(a){return t.remove(s)}}}),e("Icon",{staticClass:"icon-action",attrs:{type:"ios-alert-outline"},on:{click:function(a){return t.detail(s)}}})]}}])}),e("adt-my-modal",{attrs:{title:"新增附加任务",showModal:t.isModalShow,width:"650"},on:{"on-visible-change":t.addvisibleChange,"on-ok":function(a){return t.save()},"on-cancel":function(a){return t.cancel()}}},[e("Form",{ref:"formValidate",staticClass:"two-column",attrs:{inline:"",model:t.taskData,rules:t.ruleValidate,"label-colon":!0,"label-position":"left","label-width":120}},[e("FormItem",{attrs:{label:"附加任务名称",prop:"taskName"}},[e("Input",{model:{value:t.taskData.taskName,callback:function(a){t.$set(t.taskData,"taskName",a)},expression:"taskData.taskName"}})],1),e("FormItem",{attrs:{label:"附加任务分类",prop:"taskClassify"}},[e("Select",{attrs:{clearable:""},model:{value:t.taskData.taskClassify,callback:function(a){t.$set(t.taskData,"taskClassify",a)},expression:"taskData.taskClassify"}},t._l(t.taskClassifyList,(function(a,s){return e("Option",{key:s,attrs:{value:a.value}},[t._v(t._s(a.label))])})),1)],1)],1),e("h6",[t._v("选择数据项")]),e("Table",{attrs:{columns:t.formTableColumns,data:t.formTableData,stripe:""},on:{"on-selection-change":t.selectItem}})],1),e("adt-reconfirm-modal",{attrs:{showModal:t.isActionDel},on:{"on-visible-change":t.visibleChange,"on-ok":function(a){return t.allDelClick()}}})],1)},n=[],i=e("80a0"),l=e("e24e"),o=e("7b46"),c=e("b962"),r={mixins:[o["a"]],data:function(){return{isModalShow:!1,isActionDel:!1,search:{},taskClassifyList:[{label:"运输",value:"ys"},{label:"场所",value:"ys"}],auditStatusNum:"",enableStatusNum:"",auditStatusList:[{code:"unreviewed",status:"未审核"},{code:"stock",status:"未货好"},{code:"progress",status:"执行中"}],enableStatusList:[{code:"unreviewed",status:"已启用"},{code:"stock",status:"未启用"},{code:"progress",status:"已禁用"}],taskData:{taskName:"",taskClassify:""},ruleValidate:{taskName:[c["a"].required("附加任务名称")[0]],taskClassify:[c["a"].select("附加任务分类")[0]]},selectedItem:[],formTableColumns:[{title:"选择",align:"center",type:"selection",width:60},{title:"数据项编码",align:"center",key:"accountName"},{title:"数据项展示名称",align:"center",key:"organizationId"}],formTableData:[],tableColumns:[{title:"附加任务编号",align:"center",key:"accountName",tooltip:!0},{title:"附加任务名称",align:"center",key:"organizationId"},{title:"物流类型",align:"center",key:"phoneNumber"},{title:"运输类型",align:"center",key:"phoneNumber"},{title:"创建人",align:"center",key:"phoneNumber"},{title:"创建时间",align:"center",key:"phoneNumber"},{title:"修改人",align:"center",key:"phoneNumber"},{title:"修改时间",align:"center",key:"phoneNumber"},{title:"审核人",align:"center",key:"phoneNumber"},{title:"审核状态",align:"center",slot:"auditStatus"},{title:"审核时间",align:"center",key:"phoneNumber"},{title:"启用状态",align:"center",slot:"enableStatus"},{title:"备注",align:"center",slot:"enableStatus"},{title:"操作",align:"center",key:"operating",slot:"action",width:100}],tableData:[{accountName:"11",organizationId:"22",phoneNumber:"33",accountEmail:"44",status:"审核通过",statusCode:"pass"},{accountName:"11",organizationId:"22",phoneNumber:"33",accountEmail:"44",status:"审核失败",statusCode:"failed"},{accountName:"11",organizationId:"22",phoneNumber:"33",accountEmail:"44",status:"审核失败",statusCode:"unreviewed"}]}},methods:{getPages:function(t){this.page=t},addvisibleChange:function(t){this.isModalShow=t},visibleChange:function(t){this.isActionDel=t},dataInit:function(){this.getData()},getData:function(){},add:function(){this.isModalShow=!0,this.selectedItem=[]},searchChange:function(){},edit:function(t){var a=this;this.isModalShow=!0,this.selectedItem=[],apiGetTask({data:{id:t}}).then((function(t){t.data;var e,s=Object(l["a"])(a.selectedItem);try{for(s.s();!(e=s.n()).done;){var n=e.value;n._checked&&a.selectedItem.push(n.id)}}catch(i){s.e(i)}finally{s.f()}}))},remove:function(){this.isActionDel=!0},allDelClick:function(){},save:function(){var t=this;this.$refs.formValidate.validate((function(a){if(a){var e,s=[],n=Object(l["a"])(t.selectedItem);try{for(n.s();!(e=n.n()).done;){var o=e.value;s.push(o.id)}}catch(r){n.e(r)}finally{n.f()}var c=Object(i["a"])(Object(i["a"])({},t.taskData),{tempItem:s});apiAddTask({data:c}).then((function(t){t.data}))}}))},cancel:function(){},detail:function(t){this.$router.push({path:"/standard-mapper/additional-task/detail"})},auditStatus:function(t){this.auditStatusNum=t},enableStatus:function(t){this.enableStatusNum=t},selectItem:function(t){this.selectedItem=t}}},u=r,d=(e("d48b"),e("4023")),f=Object(d["a"])(u,s,n,!1,null,"c0fdff88",null);a["default"]=f.exports},d48b:function(t,a,e){"use strict";var s=e("47eb"),n=e.n(s);n.a}}]);
//# sourceMappingURL=chunk-afc19f5c.14cb5ff0.js.map