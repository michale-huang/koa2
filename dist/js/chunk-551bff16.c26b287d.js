(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-551bff16"],{"2ed9":function(t,e,a){},"466b":function(t,e,a){"use strict";var s=a("7d61"),i=a.n(s);i.a},"7d61":function(t,e,a){},8401:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cycleDetail"},[a("header-btn",{attrs:{title:"方案信息"}},[a("div",{attrs:{slot:"btn"},slot:"btn"},["AFORM"==t.cptentrustExecutoryStatus&&t.isRoles_m(["DIS"])?a("div",{staticClass:"btns"},[a("Button",{attrs:{type:"primary"},on:{click:t.accept}},[t._v("接受委托")]),a("Button",{on:{click:t.unacceptDialog}},[t._v("拒绝委托")])],1):t._e(),"CREATE"==t.cptentrustExecutoryStatus&&t.isRoles_m(["ENT","SALE"])?a("div",{staticClass:"btns"},[a("Button",{attrs:{type:"primary"},on:{click:t.sendTrust}},[t._v("发送委托")])],1):t._e()])]),a("line-header",{attrs:{lineHeaderData:t.cptlineHeaderData,entrustCode:t.cptexecutoryEntrustCode,trspTypeTranslate:t.cpttrspTypeTranslate,cargoTypeTranslate:t.cptcargoTypeTranslate,status:t.cptentrustExecutoryStatus}}),a("div",{staticClass:"tas-box"},[t.isGuilv?a("div",[t._v("规律合同委托编号："+t._s(t.cptentrustCode))]):t._e(),t.isGuilv?t._e():a("div",[t._v("非规律合同委托编号："+t._s(t.cptentrustCode))])]),a("div",{staticClass:"main-box"},[a("div",{staticClass:"piblic-rate-tabs-box"},[a("Tabs",{attrs:{type:"card"},model:{value:t.tabName,callback:function(e){t.tabName=e},expression:"tabName"}},[a("TabPane",{attrs:{label:"委托基本信息",name:"基本信息"}},[a("form-detailj",{ref:"formDetailj",on:{handelLaw:t.handelLaw}})],1),a("TabPane",{attrs:{label:"单次委托信息",name:"详细信息"}},[a("form-detailx",{ref:"formDetailx"})],1)],1)],1)]),a("adt-my-modal",{attrs:{showModal:t.showItemModal,title:t.itemTitle},on:{"on-visible-change":t.visibleChange,"on-ok":t.handleItemModalOk}},[a("Form",{ref:"formValidate",attrs:{model:t.remarkForm,rules:t.remarkFormruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"拒绝理由",prop:"remark"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入"},model:{value:t.remarkForm.remark,callback:function(e){t.$set(t.remarkForm,"remark",e)},expression:"remarkForm.remark"}})],1)],1)],1),a("adt-reconfirm-modal",{attrs:{showModal:t.fwsReconfirm.showDeleteModal,message:t.fwsReconfirm.message,cancelShow:!1},on:{"on-visible-change":t.deleteVisibleChange,"on-ok":t.handleDeleteModalOk}})],1)},i=[],r=a("77ab"),o=a("c1df"),l=a.n(o),n=a("6458"),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"FormDetailj"},[a("div",{staticClass:"public-form-box"},[a("div",{staticClass:"public-form-content"},[a("Row",{staticClass:"publc-bottom20",attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("Col",{attrs:{span:"8"}},[a("p",{staticClass:"item-form-title"},[t._v("发货人信息")]),a("div",{staticClass:"table-boxjz"},[a("div",{staticClass:"table-rowjz"},[a("div",[t._v("发货人名称：")]),a("div",[t._v(t._s(t.formModel.FattenName))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("代码：")]),a("div",[t._v(t._s(t.formModel.Fcode))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("地址：")]),a("div",[t._v(t._s(t.formModel.FattenAddr))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("电话：")]),a("div",[t._v(t._s(t.formModel.FattenTel))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("传真：")]),a("div",[t._v(t._s(t.formModel.FattenFax))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("邮箱：")]),a("div",[t._v(t._s(t.formModel.FattenEmail))])])])]),a("Col",{attrs:{span:"8"}},[a("p",{staticClass:"item-form-title"},[t._v("收货人信息")]),a("div",{staticClass:"table-boxjz"},[a("div",{staticClass:"table-rowjz"},[a("div",[t._v("收货人名称：")]),a("div",[t._v(t._s(t.formModel.SattenName))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("代码：")]),a("div",[t._v(t._s(t.formModel.Scode))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("地址：")]),a("div",[t._v(t._s(t.formModel.SattenAddr))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("电话：")]),a("div",[t._v(t._s(t.formModel.SattenTel))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("传真：")]),a("div",[t._v(t._s(t.formModel.SattenFax))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("邮箱：")]),a("div",[t._v(t._s(t.formModel.SattenEmail))])])])]),a("Col",{attrs:{span:"8"}},[a("p",{staticClass:"item-form-title"},[t._v("通知人信息")]),a("div",{staticClass:"table-boxjz"},[a("div",{staticClass:"table-rowjz"},[a("div",[t._v("通知人名称：")]),a("div",[t._v(t._s(t.formModel.TattenName))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("代码：")]),a("div",[t._v(t._s(t.formModel.Tcode))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("地址：")]),a("div",[t._v(t._s(t.formModel.TattenAddr))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("电话：")]),a("div",[t._v(t._s(t.formModel.TattenTel))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("传真：")]),a("div",[t._v(t._s(t.formModel.TattenFax))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("邮箱：")]),a("div",[t._v(t._s(t.formModel.TattenEmail))])])])])],1),a("Col",{attrs:{span:"6"}},[a("p",{staticClass:"item-form-title"},[t._v("服务参数")]),a("div",{staticClass:"table-boxjz"},[a("div",{staticClass:"table-rowjz"},[a("div",[t._v("运输类型：")]),a("div",[t._v(t._s(t.formModel.trspTypeTranslate))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("集装箱尺寸：")]),a("div",[t._v(t._s(t.formModel.contaSizeTranslate))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("集装箱来源：")]),a("div",[t._v(t._s(t.formModel.containerSourceTranslate))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("货物总量：")]),a("div",[t._v(t._s(t.formModel.cargoTotal)+"kg")])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("合同委托有效期：")]),a("div",[t._v(t._s(t.moment_time_m(t.formModel.startPeriod))+"--"+t._s(t.moment_time_m(t.formModel.untilPeriod)))])]),t.isGuilv?a("div",{staticClass:"table-rowjz"},[a("div",[t._v("委托周期：")]),a("div",[t._v(t._s(t.formModel.entrustPeriod)+"天")])]):t._e(),t._l(1,(function(e,s){return t.isGuilv?t._e():a("div",{key:s,staticClass:"table-rowjz"},[a("div"),a("div")])}))],2)])],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("p",{staticClass:"item-form-title"},[t._v("货物信息")]),a("div",{staticClass:"public-line"}),a("div",{staticClass:"scroll-box"},[t.timeShow?a("cargo-info",{attrs:{arr:t.entrustCargoRes}},[a("template",{slot:"btns-end"},[a("span",[t._v("货物类型：")]),a("span",[t._v(t._s(t.formModel.cargoTypeTranslate))])])],2):t._e()],1)]),a("Col",{attrs:{span:"6"}},[a("p",{staticClass:"item-form-title"},[t._v("运输要求")]),a("div",{staticClass:"table-boxjz"},[a("div",{staticClass:"table-rowjz"},[a("div",[t._v("主要运输方式：")]),a("div",[t._v(t._s(t.formModel.trspModeTranslate))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("物流类型：")]),a("div",[t._v(t._s(t.formModel.logisticsTypeTranslate))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("提箱类型：")]),a("div",[t._v(t._s(t.formModel.suitcaseTypeTranslate))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("集装箱数量：")]),a("div",[t._v(t._s(t.formModel.suitcaseQty))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("货物适宜温度：")]),a("div",[t._v(t._s(t.formModel.setTemperatureAt)+"°C")])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("出口报关地：")]),a("div",[t._v(t._s(t.formModel.exPortTranslate))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("进口报关地：")]),a("div",[t._v(t._s(t.formModel.imPortTranslate))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("最迟启运时间：")]),a("div",[t._v(t._s(t.formModel.lastStartTime))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("最低时长要求：")]),a("div",[t._v(t._s(t.formModel.lowestTimeReq)+"天")])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("最高费用要求：")]),a("div",[t._v(t._s(t.formModel.highestCostReq))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("预计货好时间：")]),a("div",[t._v(t._s(t.formModel.cargoReadyTime))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("最晚到达时间：")]),a("div",[t._v(t._s(t.formModel.lastArriveTime))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("合同编号：")]),a("div",[t._v(t._s(t.formModel.contractCode))])]),a("div",{staticClass:"table-rowjz"},[a("div",[t._v("备注：")]),a("div",[t._v(t._s(t.formModel.remark))])])])])],1)],1)])])},c=[],v=(a("7db0"),a("fb6a"),a("d3b7"),a("25f0"),a("5530")),u=a("8f27"),m=a("c9c1"),f=a("21c2"),_={name:"FormDetailj",mixins:[u["a"],m["a"]],components:{CargoInfo:f["a"]},data:function(){return{timeShow:!1,formModel:{},entrustCargoRes:[],isGuilv:!0}},computed:{cptId:function(){var t=this.$route.query.entrustCode;return t}},created:function(){this.getDetail()},methods:{save:function(t){alert("功能开发中")},replaceNull:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){for(var e in t)switch(Object.prototype.toString.call(t[e]).slice(8,-1)){case"Object":replaceNull(t[e]);break;case"Array":for(var a=0;a<t[e].length;a++)replaceNull(t[e][a]);break;default:null!==t[e]&&"null"!=t[e]||(t[e]=void 0)}})),getDetail:function(){var t=this;Object(r["u"])({entrustCode:this.cptId}).then((function(e){var a=e.data,s=a.transportationAskRes,i=a.entrustAttenResList,r=a.entrustCargoRes,o=i.find((function(t){return"发货人"==t.linkType})),n={};for(var d in o)n["F".concat(d)]=o[d];var c=i.find((function(t){return"收货人"==t.linkType})),u={};for(var m in c)u["S".concat(m)]=c[m];var f=i.find((function(t){return"通知人"==t.linkType})),_={};for(var p in f)u["T".concat(p)]=f[p];var b=Object(v["a"])(Object(v["a"])(Object(v["a"])(Object(v["a"])(Object(v["a"])({},n),u),_),s),{},{cargoTypeTranslate:r[0].cargoTypeTranslate});t.formModel=Object(v["a"])(Object(v["a"])({},b),{},{lastStartTime:b.lastStartTime&&l()(b.lastStartTime).format("YYYY-MM-DD"),cargoReadyTime:b.cargoReadyTime&&l()(b.cargoReadyTime).format("YYYY-MM-DD"),lastArriveTime:b.lastArriveTime&&l()(b.lastArriveTime).format("YYYY-MM-DD")}),t.entrustCargoRes=r,t.timeShow=!0,t.$emit("handelLaw",a.entrustType),"周期性规律委托"==a.entrustType?t.isGuilv=!0:t.isGuilv=!1}))}}},p=_,b=(a("fdad"),a("2877")),C=Object(b["a"])(p,d,c,!1,null,"c35848ee",null),h=C.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"FormDetailx"},[a("Divider",{staticStyle:{margin:"0 0 20px 0"}}),a("div",{staticClass:"header-box"},[a("div",{staticClass:"h-item"},[a("span",[t._v("合同总量：")]),a("span",[t._v(t._s(t.formModel.cargoTotal)+"KG")])]),a("div",{staticClass:"h-item"},[a("span",[t._v("已交付总量：")]),a("span",[t._v(t._s(t.formModel.deliveredWeight)+"KG")])]),a("div",{staticClass:"h-item"},[a("span",[t._v("未启运总量：")]),a("span",[t._v(t._s(t.formModel.noPlaceWeight)+"KG")])]),a("div",{staticClass:"h-item"},[a("span",[t._v("在途重量：")]),a("span",[t._v(t._s(t.formModel.underwayWeight)+"KG")])])]),a("div",{staticClass:"public-form-box"},[t.timeShow?a("cargo-info",{attrs:{arr:t.entrustExecutoryInfoResList}}):t._e()],1)],1)},M=[],T=a("15fd"),g=a("2029"),y={name:"FormDetailx",mixins:[u["a"]],components:{CargoInfo:g["a"]},data:function(){return{timeShow:!1,formModel:{},entrustExecutoryInfoResList:[]}},computed:{cptId:function(){var t=this.$route.query.entrustCode;return t}},created:function(){this.getDetail()},methods:{save:function(t){alert("功能开发中")},getDetail:function(){var t=this;Object(r["t"])({entrustCode:this.cptId}).then((function(e){var a=e.data,s=a.entrustExecutoryInfoResList,i=Object(T["a"])(a,["entrustExecutoryInfoResList"]);t.entrustExecutoryInfoResList=s,t.formModel=i,t.timeShow=!0}))}}},j=y,x=(a("88ee"),Object(b["a"])(j,w,M,!1,null,"142c75fc",null)),z=x.exports,k=a("36d5"),S=a("5e47"),D={name:"cycleDetail",mixins:[u["a"],k["a"]],components:{lineHeader:n["a"],formDetailj:h,formDetailx:z,headerBtn:S["a"]},data:function(){return{fwsReconfirm:{showDeleteModal:!1,message:"接受委托后必须要去确定方案唯一 服务商，才能生成物流全程计划！"},showItemModal:!1,itemTitle:"拒绝理由",isGuilv:!0,remarkForm:{},remarkFormruleValidate:{remark:[{required:!0,message:"拒绝理由必填",trigger:"blur"},{type:"string",min:2,message:"最小输入两个字符",trigger:"blur"}]},tabName:"基本信息"}},computed:{cptlineHeaderData:function(){var t=JSON.parse(this.$route.query.lineHeaderData);return t},cptentrustCode:function(){var t=this.$route.query.entrustCode;return t},cptexecutoryEntrustCode:function(){var t=this.$route.query.executoryEntrustCode;return t},cptentrustExecutoryStatus:function(){var t=this.$route.query.entrustExecutoryStatus;return t},cptcargoTypeTranslate:function(){var t=this.$route.query.cargoTypeTranslate;return t},cpttrspTypeTranslate:function(){var t=this.$route.query.trspTypeTranslate;return t},cptisDiaodu:function(){var t=this.$route.query.role;return"admin"==t}},created:function(){},methods:{deleteVisibleChange:function(t){this.fwsReconfirm.showDeleteModal=t},handleDeleteModalOk:function(){this.fwsReconfirm.showDeleteModal=!1,this.$router.push({path:"/logistics-solutions/determine-logistics-solution-service-provider",query:{executoryEntrustCode:this.cptexecutoryEntrustCode,logisticsSchemeCode:this.$route.query.logisticsSchemeCode,freightReqCode:this.$route.query.freightReqCode,routeList:this.$route.query.lineHeaderData}})},handelLaw:function(t){this.isGuilv="周期性规律委托"==t},visibleChange:function(t){this.showItemModal=t},handleItemModalOk:function(){this.showItemModal=!1,this.unaccept()},unacceptDialog:function(t){this.showItemModal=!0},accept:function(t){var e=this,a={entrustCode:this.cptentrustCode,entrustStatus:"RECEIVE"};Object(r["F"])({data:a}).then((function(t){t.data;e.$router.push("/logisstics-commission/one-logistics/1"),e.$Message.success("操作成功")}))},unaccept:function(t){var e=this,a={entrustCode:this.cptentrustCode,reason:this.remarkForm.remark,entrustStatus:"REJECT"};Object(r["F"])({data:a}).then((function(t){t.data;e.$router.push("/logisstics-commission/one-logistics/1"),e.$Message.success("操作成功")}))},sendTrust:function(){var t=this,e={entrustCode:this.cptentrustCode,entrustStatus:"AFORM"};Object(r["F"])({data:e}).then((function(e){e.data;t.$Message.success("操作成功"),t.$router.push("/logisstics-commission/one-logistics/1")}))}}},R=D,E=(a("466b"),Object(b["a"])(R,s,i,!1,null,"bd77752c",null));e["default"]=E.exports},"88ee":function(t,e,a){"use strict";var s=a("2ed9"),i=a.n(s);i.a},fdad:function(t,e,a){"use strict";var s=a("fe60"),i=a.n(s);i.a},fe60:function(t,e,a){}}]);