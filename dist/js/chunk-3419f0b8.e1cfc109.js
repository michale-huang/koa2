(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3419f0b8"],{"125b":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return r}));var n=a("2934"),o=a("4ec3"),i=function(t){return Object(n["a"])("".concat(o["d"],"/organizationInfo/getOrganizationList"),t)},c=function(t){return Object(n["b"])("".concat(o["d"],"/organizationInfo/addOrganization"),t)},r=function(t){return Object(n["b"])("".concat(o["d"],"/organizationInfo/modifyOrganization"),t)}},"5b06":function(t,e,a){"use strict";var n=a("7b9e"),o=a.n(n);o.a},"7b46":function(t,e,a){"use strict";e["a"]={props:{page:{default:1}},data:function(){return{total:0,perpage:15}},mounted:function(){this.dataInit()},watch:{$route:function(){this.dataInit()}},methods:{paginatorInit:function(t,e){this.perpage=t,this.total=e}}}},"7b9e":function(t,e,a){},f9b9:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("adt-search-folder",{attrs:{searchRouter:{query:{accountName:t.search.accountName,organizationId:t.search.organizationId,phoneNumber:t.search.phoneNumber}}},on:{"on-triggerFolder":t.searchChange}},[a("template",{slot:"always-show"},[a("Col",{staticClass:"search-condition",attrs:{span:"4"}},[a("span",[t._v(" 账户名称：")]),a("Input",{attrs:{clearable:""},model:{value:t.search.accountName,callback:function(e){t.$set(t.search,"accountName",e)},expression:"search.accountName"}})],1),a("Col",{staticClass:"search-condition line-margin",attrs:{span:"4"}},[a("span",[t._v(" 部门ID：")]),a("Input",{attrs:{clearable:""},model:{value:t.search.organizationId,callback:function(e){t.$set(t.search,"organizationId",e)},expression:"search.organizationId"}})],1),a("Col",{staticClass:"search-condition line-margin",attrs:{span:"4"}},[a("span",[t._v(" 手机号码：")]),a("Input",{attrs:{clearable:""},model:{value:t.search.phoneNumber,callback:function(e){t.$set(t.search,"phoneNumber",e)},expression:"search.phoneNumber"}})],1)],1)],2),a("div",{staticClass:"btns-paginator"},[a("AdtButton",{staticClass:"btn-operating",attrs:{allDelShow:!0,delUrl:t.delUrl,selectList:t.selectList}},[a("Button",{on:{click:function(e){return t.add()}}},[t._v("新增账户"),a("Icon",{attrs:{type:"ios-add-circle-outline"}})],1)],1),a("AdtMyModal",{attrs:{title:t.modelTitle,okText:"保存",cancelText:"取消",showModal:t.isModalShow},on:{"on-visible-change":t.addvisibleChange,"on-ok":function(e){return t.save()},"on-cancel":function(e){return t.cancel()}}},[a("Form",{ref:"formItemData",attrs:{model:t.formItem,rules:t.formItemRule,"label-width":100,"label-colon":""}},[a("FormItem",{attrs:{label:"邮箱",prop:"accountEmail"}},[a("Input",{model:{value:t.formItem.accountEmail,callback:function(e){t.$set(t.formItem,"accountEmail",e)},expression:"formItem.accountEmail"}})],1),a("FormItem",{attrs:{label:"账户名",prop:"accountName"}},[a("Input",{model:{value:t.formItem.accountName,callback:function(e){t.$set(t.formItem,"accountName",e)},expression:"formItem.accountName"}})],1),a("FormItem",{attrs:{label:"密码",prop:"loginPwd"}},[a("Input",{model:{value:t.formItem.loginPwd,callback:function(e){t.$set(t.formItem,"loginPwd",e)},expression:"formItem.loginPwd"}})],1),a("FormItem",{attrs:{label:"手机号码",prop:"phoneNumber"}},[a("phone-input",{attrs:{prefix:t.formItem.internationalPhonePrefix,suffix:t.formItem.phoneNumber,width:"323"},on:{prefixChange:function(e){t.formItem.internationalPhonePrefix=arguments[0]},suffixChange:function(e){t.formItem.phoneNumber=arguments[0]}}})],1),a("FormItem",{attrs:{label:"部门ID",prop:"organizationId"}},[a("Select",{model:{value:t.formItem.organizationId,callback:function(e){t.$set(t.formItem,"organizationId",e)},expression:"formItem.organizationId"}},t._l(t.departmentId,(function(e,n){return a("Option",{key:n,attrs:{value:e.statusValue}},[t._v(t._s(e.statusValue))])})),1)],1),a("FormItem",{attrs:{label:"账户状态",prop:"accountStatus"}},[a("Select",{model:{value:t.formItem.accountStatus,callback:function(e){t.$set(t.formItem,"accountStatus",e)},expression:"formItem.accountStatus"}},t._l(t.formStatus,(function(e,n){return a("Option",{key:n,attrs:{value:e.statusKey}},[t._v(t._s(e.statusValue))])})),1)],1)],1)],1),a("adt-paginator",{staticClass:"pagination",attrs:{currentPage:~~t.page,total:~~t.total,path:"/authority-manage/user-manage"},on:{getPages:t.getPages}})],1),a("Table",{attrs:{columns:t.tableColumns,data:t.tableData,stripe:""},on:{"on-selection-change":t.check},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.row;e.index;return[a("Icon",{staticClass:"icon-action",attrs:{type:"md-create"},on:{click:function(e){return t.edit(n)}}}),a("Icon",{staticClass:"icon-action",attrs:{type:"md-close"},on:{click:function(e){return t.remove(n)}}})]}}])}),a("adt-reconfirm-modal",{attrs:{showModal:t.isActionDel},on:{"on-visible-change":t.visibleChange,"on-ok":function(e){return t.allDelClick()}}})],1)},o=[],i=(a("fe59"),a("e35a"),a("9cf3"),a("08ba"),a("7b46")),c=a("2934"),r=a("4ec3"),s=function(t){return Object(c["b"])("".concat(r["d"],"/account/accountAdd"),t)},u=function(t){return Object(c["b"])("".concat(r["d"],"/account/accountQueryList"),t)},l=function(t){return Object(c["a"])("".concat(r["d"],"/account/accountDeleteById"),t)},m=function(t){return Object(c["b"])("".concat(r["d"],"/account/accountDeletes"),t)},d=function(t){return Object(c["b"])("".concat(r["d"],"/account/accountUpdate"),t)},h=a("125b"),f=a("b962"),I={mixins:[i["a"]],data:function(){return{modelTitle:"",search:{},isActionDel:!1,isModalShow:!1,formItem:{},formStatus:[{statusKey:"enable",statusValue:"可用"},{statusKey:"disable",statusValue:"禁用"}],formItemRule:{accountEmail:[f["a"].required("邮箱")[0],f["a"].email()[0]],accountName:[f["a"].required("账户名")[0]],loginPwd:[f["a"].required("密码")[0]],phoneNumber:[f["a"].required("手机号")[0],f["a"].phone()[0]],organizationId:[f["a"].select("部门ID")[0]],accountStatus:[f["a"].select("账户状态")[0]]},tableColumns:[{title:"选择",align:"center",type:"selection"},{title:"账户名",align:"center",key:"accountName"},{title:"部门ID",align:"center",key:"organizationId"},{title:"手机号码",align:"center",key:"phoneNumber"},{title:"邮箱",align:"center",key:"accountEmail"},{title:"账户状态",align:"center",key:"accountStatus"},{title:"账户类型",align:"center",key:"accountType"},{title:"创建人",align:"center",key:"createBy"},{title:"创建时间",align:"center",key:"createDatetime"},{title:"操作",align:"center",key:"operating",slot:"action"}],tableData:[],departmentId:[],internationalPhonePrefix:"",phoneNumber:"",distinguish:0,delUrl:m,selectList:{},passData:{}}},mounted:function(){this.getOrganizationListData()},methods:{addvisibleChange:function(t){this.isModalShow=t},visibleChange:function(t){this.isActionDel=t},getPages:function(t){this.page=t},dataInit:function(){this.getData()},getData:function(){var t=this,e={size:15,page:this.page,accountName:this.search.accountName,organizationId:this.search.organizationId,phoneNumber:this.search.phoneNumber};u({data:e}).then((function(e){200==e.code&&(t.tableData=e.data.content||[],t.total=e.data.totalElements)}))},searchChange:function(){},add:function(){this.isModalShow=!0,this.distinguish=1,this.modelTitle="新增账户"},getOrganizationListData:function(){var t=this;Object(h["b"])().then((function(e){200==e.code&&e.data.forEach((function(e){t.departmentId.push({statusValue:e.organizationId})}))}))},save:function(){var t=this;if(1==this.distinguish){var e={accountEmail:this.formItem.accountEmail,accountName:this.formItem.accountName,accountStatus:this.formItem.accountStatus,internationalPhonePrefix:this.formItem.internationalPhonePrefix,loginPwd:this.formItem.loginPwd,organizationId:this.formItem.organizationId,phoneNumber:this.formItem.phoneNumber};this.$refs["formItemData"].validate((function(a){a&&s({data:e}).then((function(e){200==e.code&&(t.$Message.info("保存成功"),t.isModalShow=!1,t.$refs.formItemData.resetFields(),t.getData())}))}))}if(2==this.distinguish){var a={accountId:this.accountId,accountEmail:this.formItem.accountEmail,accountName:this.formItem.accountName,accountStatus:this.formItem.accountStatus,internationalPhonePrefix:this.formItem.internationalPhonePrefix,loginPwd:this.formItem.loginPwd,organizationId:this.formItem.organizationId,phoneNumber:this.formItem.phoneNumber};this.$refs["formItemData"].validate((function(e){e&&d({data:a}).then((function(e){200==e.code&&200==e.code&&(t.$Message.info("保存成功"),t.isModalShow=!1)}))}))}},cancel:function(){this.isModalShow=!1,this.$refs.formItemData.resetFields(),this.getData()},edit:function(t){this.accountId=t.accountId,this.isModalShow=!0,this.formItem=t,this.distinguish=2,this.modelTitle="编辑账户"},remove:function(t){this.isActionDel=!0,this.passData={accountId:[t.accountId]}},allDelClick:function(){var t=this;l(this.passData).then((function(e){200==e.code&&(t.isActionDel=!1,t.$Message.info("删除成功"),t.getData())}))},check:function(t){var e=[];t.forEach((function(t){e.push(t.accountId)})),this.dictionarySeclect=e,this.selectList={accountIds:this.dictionarySeclect}}}},g=I,p=(a("5b06"),a("4023")),b=Object(p["a"])(g,n,o,!1,null,"05e04f40",null);e["default"]=b.exports}}]);
//# sourceMappingURL=chunk-3419f0b8.e1cfc109.js.map