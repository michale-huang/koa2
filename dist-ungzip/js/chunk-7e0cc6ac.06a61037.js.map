{"version":3,"sources":["webpack:///./src/pages/template-manage/ItemManage.vue?ec59","webpack:///./src/mixins/paginator.js","webpack:///./src/pages/template-manage/ItemManage.vue?c9ca","webpack:///src/pages/template-manage/ItemManage.vue","webpack:///./src/pages/template-manage/ItemManage.vue?3015","webpack:///./src/pages/template-manage/ItemManage.vue","webpack:///./src/api/template.js"],"names":["props","page","default","data","total","perpage","created","this","dataInit","watch","$route","methods","paginatorInit","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","query","name","searchData","slot","ref","model","value","callback","$$v","$set","expression","on","addItemData","_v","columns","templateList","scopedSlots","_u","key","fn","row","index","$event","modifyShow","deleteShow","modalTitle","isModalShow","addvisibleChange","save","cancel","formItem","formItemRule","distinguish","_l","selectData","id","dictionaryKey","_s","dictionaryValue","isActionDel","visibleChange","allDelClick","staticRenderFns","component","apiTemplateQuery","postRequest","baseUrl","apiTemplateBasicClassificationQuery","getRequest","apiTemplateBasicClassifitionUpdate","delTemplateBasic","apiTemplateRelDataQuery","apiTemplateDataQuery","apiTemplateDataAdd","apiTemplateDataDel","getTemplateDataQuery","apiTemplateDataUpdate"],"mappings":"kHAAA,yBAAgtB,EAAG,G,oCCApsB,QACXA,MAAO,CACHC,KAAM,CAAEC,QAAS,IAErBC,KAJW,WAKP,MAAO,CACHC,MAAO,EACPC,QAAS,KAGjBC,QAVW,WAYPC,KAAKC,SAAS,aAElBC,MAAO,CACHC,OADG,WAECH,KAAKC,aAGbG,QAAS,CACLC,cADK,SACUP,EAASD,GACpBG,KAAKF,QAAUA,EACfE,KAAKH,MAAQA,M,yCCtBzB,IAAIS,EAAS,WAAa,IAAIC,EAAIP,KAASQ,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,oBAAoB,CAACE,YAAY,YAAYC,MAAM,CAAC,aAAe,CAACC,MAAO,CAACC,KAAMR,EAAIS,WAAWD,SAAS,CAACL,EAAG,WAAW,CAACO,KAAK,eAAe,CAACP,EAAG,OAAO,CAACQ,IAAI,eAAeL,MAAM,CAAC,MAAQN,EAAIS,WAAW,cAAc,KAAK,CAACN,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,SAAS,KAAO,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,OAAO,UAAY,IAAIM,MAAM,CAACC,MAAOb,EAAIS,WAAe,KAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,WAAY,OAAQM,IAAME,WAAW,sBAAsB,IAAI,IAAI,IAAI,GAAGd,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,aAAa,CAACA,EAAG,SAAS,CAACe,GAAG,CAAC,MAAQlB,EAAImB,cAAc,CAACnB,EAAIoB,GAAG,SAASjB,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,6BAA6B,IAAI,GAAGH,EAAG,gBAAgB,CAACG,MAAM,CAAC,cAAgBN,EAAIb,KAAK,QAAUa,EAAIV,UAAU,GAAG,CAACa,EAAG,QAAQ,CAACG,MAAM,CAAC,QAAUN,EAAIqB,QAAQ,KAAOrB,EAAIsB,aAAa,OAAS,GAAG,OAAS,OAAOC,YAAYvB,EAAIwB,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASf,GACphC,IAAIgB,EAAMhB,EAAIgB,IACFhB,EAAIiB,MAChB,MAAO,CAACzB,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,aAAaY,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAO7B,EAAI8B,WAAWH,OAASxB,EAAG,OAAO,CAACG,MAAM,CAAC,KAAO,aAAaY,GAAG,CAAC,MAAQ,SAASW,GAAQ,OAAO7B,EAAI+B,WAAWJ,gBAAkB,GAAGxB,EAAG,aAAa,CAACG,MAAM,CAAC,MAAQN,EAAIgC,WAAW,OAAS,OAAO,WAAa,KAAK,UAAYhC,EAAIiC,YAAY,MAAQ,OAAOf,GAAG,CAAC,oBAAoBlB,EAAIkC,iBAAiB,QAAQ,SAASL,GAAQ,OAAO7B,EAAImC,QAAQ,YAAY,SAASN,GAAQ,OAAO7B,EAAIoC,YAAY,CAACjC,EAAG,OAAO,CAACQ,IAAI,eAAeN,YAAY,aAAaC,MAAM,CAAC,MAAQN,EAAIqC,SAAS,MAAQrC,EAAIsC,aAAa,cAAc,IAAI,cAAc,GAAG,OAAS,KAAK,CAACnC,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,SAAS,CAACH,EAAG,QAAQ,CAACE,YAAY,cAAcC,MAAM,CAAC,SAA4B,KAAjBN,EAAIuC,aAAkB3B,MAAM,CAACC,MAAOb,EAAIqC,SAAa,KAAEvB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIqC,SAAU,OAAQtB,IAAME,WAAW,oBAAoB,GAAGd,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,UAAU,CAACH,EAAG,QAAQ,CAACE,YAAY,cAAcO,MAAM,CAACC,MAAOb,EAAIqC,SAAc,MAAEvB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIqC,SAAU,QAAStB,IAAME,WAAW,qBAAqB,GAAGd,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACH,EAAG,SAAS,CAACE,YAAY,cAAcO,MAAM,CAACC,MAAOb,EAAIqC,SAAoB,YAAEvB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIqC,SAAU,cAAetB,IAAME,WAAW,yBAAyBjB,EAAIwC,GAAIxC,EAAe,aAAE,SAASyC,EAAWC,GAAI,OAAOvC,EAAG,SAAS,CAACsB,IAAIiB,EAAGpC,MAAM,CAAC,MAAQmC,EAAWE,gBAAgB,CAAC3C,EAAIoB,GAAGpB,EAAI4C,GAAGH,EAAWI,uBAAsB,IAAI,GAAG1C,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,QAAQ,KAAO,WAAW,CAACH,EAAG,aAAa,CAACS,MAAM,CAACC,MAAOb,EAAIqC,SAAe,OAAEvB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIqC,SAAU,SAAUtB,IAAME,WAAW,oBAAoB,CAACd,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,MAAM,CAACN,EAAIoB,GAAG,QAAQjB,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,MAAM,CAACN,EAAIoB,GAAG,SAAS,IAAI,GAAGjB,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,UAAU,KAAO,gBAAgB,CAACH,EAAG,QAAQ,CAACE,YAAY,cAAcO,MAAM,CAACC,MAAOb,EAAIqC,SAAoB,YAAEvB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIqC,SAAU,cAAetB,IAAME,WAAW,2BAA2B,GAAGd,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,CAACH,EAAG,SAAS,CAACE,YAAY,cAAcO,MAAM,CAACC,MAAOb,EAAIqC,SAAiB,SAAEvB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIqC,SAAU,WAAYtB,IAAME,WAAW,sBAAsBjB,EAAIwC,GAAIxC,EAAe,aAAE,SAASyC,EAAWC,GAAI,OAAOvC,EAAG,SAAS,CAACsB,IAAIiB,EAAGpC,MAAM,CAAC,MAAQmC,EAAWE,gBAAgB,CAAC3C,EAAIoB,GAAGpB,EAAI4C,GAAGH,EAAWI,uBAAsB,IAAI,GAAG1C,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,CAACH,EAAG,QAAQ,CAACE,YAAY,cAAcO,MAAM,CAACC,MAAOb,EAAIqC,SAAiB,SAAEvB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIqC,SAAU,WAAYtB,IAAME,WAAW,wBAAwB,GAAGd,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,SAAS,KAAO,cAAc,CAACH,EAAG,QAAQ,CAACE,YAAY,cAAcO,MAAM,CAACC,MAAOb,EAAIqC,SAAkB,UAAEvB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIqC,SAAU,YAAatB,IAAME,WAAW,yBAAyB,GAAGd,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,OAAO,KAAO,SAAS,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,YAAYM,MAAM,CAACC,MAAOb,EAAIqC,SAAa,KAAEvB,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIqC,SAAU,OAAQtB,IAAME,WAAW,oBAAoB,IAAI,IAAI,GAAGd,EAAG,sBAAsB,CAACG,MAAM,CAAC,UAAYN,EAAI8C,aAAa5B,GAAG,CAAC,oBAAoBlB,EAAI+C,cAAc,QAAQ,SAASlB,GAAQ,OAAO7B,EAAIgD,mBAAmB,IACnzGC,EAAkB,G,oGCsEtB,GACE,OAAF,SACE,KAAF,aACE,KAHF,WAII,MAAJ,CACM,WAAN,CACQ,KAAR,IAEM,WAAN,GACM,QAAN,CACA,CAAQ,MAAR,QAAQ,IAAR,OAAQ,MAAR,UACA,CAAQ,MAAR,WAAQ,IAAR,QAAQ,MAAR,UACA,CAAQ,MAAR,OAAQ,IAAR,cAAQ,MAAR,UACA,CAAQ,MAAR,QAAQ,IAAR,SAAQ,MAAR,UACA,CAAQ,MAAR,UAAQ,IAAR,cAAQ,MAAR,UACA,CAAQ,MAAR,OAAQ,IAAR,WAAQ,MAAR,UACA,CAAQ,MAAR,OAAQ,IAAR,OAAQ,MAAR,UACA,CAAQ,MAAR,OAAQ,IAAR,iBAAQ,MAAR,UACA,CAAQ,MAAR,MAAQ,IAAR,WAAQ,MAAR,UACA,CAAQ,MAAR,KAAQ,KAAR,SAAQ,MAAR,SAAQ,MAAR,MAEM,aAAN,GACM,aAAN,EACM,aAAN,EACM,SAAN,GACM,aAAN,CACQ,KAAR,CACA,CAAU,UAAV,EAAU,QAAV,WAAU,QAAV,QACA,CAAU,QAAV,iBAAU,QAAV,cAEQ,MAAR,CACA,CAAU,UAAV,EAAU,QAAV,WAAU,QAAV,QACA,CAAU,QAAV,qBAAU,QAAV,WAEQ,YAAR,CACA,0BAEQ,OAAR,CACA,2BAEQ,SAAR,CACA,0BAEQ,UAAR,CACA,CAAU,UAAV,EAAU,QAAV,YAAU,QAAV,QACA,CAAU,QAAV,WAAU,QAAV,YAMM,YAAN,GACM,YAAN,GAEM,YAAN,EACM,aAAN,GACM,cAAN,GACM,eAAN,GACM,SAAN,KAGE,QA7DF,WA8DI,KAAJ,YAEE,QAAF,CACI,KADJ,SACA,GACM,IAAN,QACA,KACM,EAAN,qBACQ,EAAR,MAAU,MAAV,QAAU,aAAV,aAEM,KAAN,kBAEI,iBATJ,SASA,GACM,KAAN,eAEI,cAZJ,SAYA,GACM,KAAN,eAGI,SAhBJ,WAiBM,KAAN,WAEI,QAnBJ,WAmBM,IAAN,OACA,GACQ,KAAR,UACQ,UAAR,MACQ,WAAR,GACQ,KAAR,sBAGM,OAAN,OAAM,CAAN,CAAQ,KAAR,sBACQ,EAAR,gCACQ,EAAR,kCACA,SAAU,EAAV,oDACA,WAAU,EAAV,6CAEQ,EAAR,+BAII,YArCJ,WAsCM,KAAN,eACM,KAAN,mBACM,KAAN,eAGI,WA3CJ,SA2CA,GAAM,IAAN,OACM,KAAN,cACM,IAAN,GAAQ,KAAR,QACM,OAAN,OAAM,CAAN,qBACQ,EAAR,gBACQ,EAAR,mDAUQ,EAAR,gCACQ,EAAR,eACQ,EAAR,mBACQ,QAAR,oBAGI,WAhEJ,SAgEA,GACM,KAAN,eACM,KAAN,UAAQ,KAAR,SAEI,YApEJ,WAoEM,IAAN,OACM,QAAN,mBACM,OAAN,OAAM,CAAN,iCACA,aACU,EAAV,sBAEU,EAAV,eAEU,EAAV,WAEU,EAAV,0BAII,KAlFJ,WAkFM,IAAN,OACA,GACQ,KAAR,mBACQ,MAAR,oBACQ,YAAR,0BACQ,YAAR,0BACQ,OAAR,qBACQ,SAAR,uBACQ,SAAR,uBACQ,UAAR,wBACQ,KAAR,oBAGA,qBACQ,KAAR,4CACA,GACY,OAAZ,OAAY,CAAZ,CAAc,KAAd,sBACA,aACgB,EAAhB,sBAEgB,EAAhB,iCACgB,EAAhB,eAEgB,EAAhB,WAEgB,EAAhB,4BAOA,sBACQ,QAAR,mBACQ,KAAR,4CACA,GACY,OAAZ,OAAY,CAAZ,CAAc,KAAd,sBACA,aACgB,EAAhB,sBAEgB,EAAhB,iCACgB,EAAhB,eAEgB,EAAhB,WAEgB,EAAhB,8BAOI,OAtIJ,WAuIM,KAAN,iCACM,KAAN,gBAGI,SA3IJ,WA2IM,IAAN,OAWA,GAAQ,kBAAR,eACM,OAAN,OAAM,CAAN,qBACQ,EAAR,sBAGM,IAAN,GAAQ,kBAAR,aACM,OAAN,OAAM,CAAN,qBACQ,EAAR,yBCvSuc,I,wBCQncC,EAAY,eACd,EACAnD,EACAkD,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,2CCnBf,gXAIaC,EAAmB,SAAC9D,GAC7B,OAAO+D,eAAY,GAAD,OAAIC,OAAJ,iEAA4EhE,IAOrFiE,EAAsC,SAACjE,GAChD,OAAOkE,eAAW,GAAD,OAAIF,OAAJ,iEAA4EhE,IAGpFmE,EAAqC,SAACnE,GAC/C,OAAO+D,eAAY,GAAD,OAAIC,OAAJ,gEAA2EhE,IAGpFoE,EAAmB,SAACpE,GAC7B,OAAOkE,eAAW,GAAD,OAAIF,OAAJ,iDAA4DhE,IAGpEqE,EAA0B,SAACrE,GACpC,OAAO+D,eAAY,GAAD,OAAIC,OAAJ,qDAAgEhE,IAQzEsE,EAAuB,SAACtE,GACjC,OAAO+D,eAAY,GAAD,OAAIC,OAAJ,mCAA8ChE,IAGvDuE,EAAqB,SAACvE,GAC/B,OAAO+D,eAAY,GAAD,OAAIC,OAAJ,iCAA4ChE,IAGrDwE,EAAqB,SAACxE,GAC/B,OAAOkE,eAAW,GAAD,OAAIF,OAAJ,iCAA4ChE,IAGpDyE,EAAuB,SAACzE,GACjC,OAAOkE,eAAW,GAAD,OAAIF,OAAJ,mCAA8ChE,IAGtD0E,EAAwB,SAAC1E,GAClC,OAAO+D,eAAY,GAAD,OAAIC,OAAJ,oCAA+ChE,K","file":"js/chunk-7e0cc6ac.06a61037.js","sourcesContent":["import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./ItemManage.vue?vue&type=style&index=0&id=e85b22a0&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./ItemManage.vue?vue&type=style&index=0&id=e85b22a0&lang=scss&scoped=true&\"","export default {\r\n    props: {\r\n        page: { default: 1 }\r\n    },\r\n    data () {\r\n        return {\r\n            total: 0,\r\n            perpage: 15\r\n        }\r\n    },\r\n    created () {\r\n        // judgment区分第一次进入页面调用的方法\r\n        this.dataInit('judgment')\r\n    },\r\n    watch: {\r\n        $route () {\r\n            this.dataInit()\r\n        }\r\n    },\r\n    methods: {\r\n        paginatorInit (perpage, total) {\r\n            this.perpage = perpage\r\n            this.total = total\r\n        }\r\n    }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item-manage\"},[_c('adt-search-folder',{staticClass:\"query-tit\",attrs:{\"searchRouter\":{query: {name: _vm.searchData.name}}}},[_c('template',{slot:\"always-show\"},[_c('Form',{ref:\"templateForm\",attrs:{\"model\":_vm.searchData,\"label-width\":90}},[_c('FormItem',{attrs:{\"label\":\"数据项名称：\",\"prop\":\"name\"}},[_c('Input',{attrs:{\"type\":\"text\",\"clearable\":\"\"},model:{value:(_vm.searchData.name),callback:function ($$v) {_vm.$set(_vm.searchData, \"name\", $$v)},expression:\"searchData.name\"}})],1)],1)],1)],2),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"btns-paginator\"},[_c('adt-button',[_c('Button',{on:{\"click\":_vm.addItemData}},[_vm._v(\"新增数据项\"),_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\"}})],1)],1),_c('adt-paginator',{attrs:{\"currentPage\":~~_vm.page,\"total\":~~_vm.total}})],1),[_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.templateList,\"stripe\":\"\",\"height\":\"380\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Icon',{attrs:{\"type\":\"md-create\"},on:{\"click\":function($event){return _vm.modifyShow(row)}}}),_c('Icon',{attrs:{\"type\":\"ios-close\"},on:{\"click\":function($event){return _vm.deleteShow(row)}}})]}}])})]],2),_c('AdtMyModal',{attrs:{\"title\":_vm.modalTitle,\"okText\":\"提交审核\",\"cancelText\":\"取消\",\"showModal\":_vm.isModalShow,\"width\":\"800\"},on:{\"on-visible-change\":_vm.addvisibleChange,\"on-ok\":function($event){return _vm.save()},\"on-cancel\":function($event){return _vm.cancel()}}},[_c('Form',{ref:\"formItemData\",staticClass:\"form-model\",attrs:{\"model\":_vm.formItem,\"rules\":_vm.formItemRule,\"label-width\":120,\"label-colon\":\"\",\"inline\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"数据项编号\",\"prop\":\"name\"}},[_c('Input',{staticClass:\"input-width\",attrs:{\"disabled\":_vm.distinguish=='2'},model:{value:(_vm.formItem.name),callback:function ($$v) {_vm.$set(_vm.formItem, \"name\", $$v)},expression:\"formItem.name\"}})],1),_c('FormItem',{attrs:{\"label\":\"数据项名称\",\"prop\":\"label\"}},[_c('Input',{staticClass:\"input-width\",model:{value:(_vm.formItem.label),callback:function ($$v) {_vm.$set(_vm.formItem, \"label\", $$v)},expression:\"formItem.label\"}})],1),_c('FormItem',{attrs:{\"label\":\"控件类型\",\"prop\":\"controlType\"}},[_c('Select',{staticClass:\"input-width\",model:{value:(_vm.formItem.controlType),callback:function ($$v) {_vm.$set(_vm.formItem, \"controlType\", $$v)},expression:\"formItem.controlType\"}},_vm._l((_vm.controlType),function(selectData,id){return _c('Option',{key:id,attrs:{\"value\":selectData.dictionaryKey}},[_vm._v(_vm._s(selectData.dictionaryValue))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"控件值来源\",\"prop\":\"source\"}},[_c('RadioGroup',{model:{value:(_vm.formItem.source),callback:function ($$v) {_vm.$set(_vm.formItem, \"source\", $$v)},expression:\"formItem.source\"}},[_c('Radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"字典\")]),_c('Radio',{attrs:{\"label\":\"2\"}},[_vm._v(\"接口\")])],1)],1),_c('FormItem',{attrs:{\"label\":\"控件值来源地址\",\"prop\":\"sourceValue\"}},[_c('Input',{staticClass:\"input-width\",model:{value:(_vm.formItem.sourceValue),callback:function ($$v) {_vm.$set(_vm.formItem, \"sourceValue\", $$v)},expression:\"formItem.sourceValue\"}})],1),_c('FormItem',{attrs:{\"label\":\"数据类型\",\"prop\":\"dataType\"}},[_c('Select',{staticClass:\"input-width\",model:{value:(_vm.formItem.dataType),callback:function ($$v) {_vm.$set(_vm.formItem, \"dataType\", $$v)},expression:\"formItem.dataType\"}},_vm._l((_vm.dataTypeArr),function(selectData,id){return _c('Option',{key:id,attrs:{\"value\":selectData.dictionaryKey}},[_vm._v(_vm._s(selectData.dictionaryValue))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"数据精度\",\"prop\":\"accuracy\"}},[_c('Input',{staticClass:\"input-width\",model:{value:(_vm.formItem.accuracy),callback:function ($$v) {_vm.$set(_vm.formItem, \"accuracy\", $$v)},expression:\"formItem.accuracy\"}})],1),_c('FormItem',{attrs:{\"label\":\"数据最大长度\",\"prop\":\"maxLength\"}},[_c('Input',{staticClass:\"input-width\",model:{value:(_vm.formItem.maxLength),callback:function ($$v) {_vm.$set(_vm.formItem, \"maxLength\", $$v)},expression:\"formItem.maxLength\"}})],1),_c('FormItem',{attrs:{\"label\":\"备注规则\",\"prop\":\"note\"}},[_c('Input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.formItem.note),callback:function ($$v) {_vm.$set(_vm.formItem, \"note\", $$v)},expression:\"formItem.note\"}})],1)],1)],1),_c('adt-reconfirm-modal',{attrs:{\"showModal\":_vm.isActionDel},on:{\"on-visible-change\":_vm.visibleChange,\"on-ok\":function($event){return _vm.allDelClick()}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"item-manage\">\r\n        <adt-search-folder :searchRouter=\"{query: {name: searchData.name}}\" class=\"query-tit\">\r\n            <template slot=\"always-show\">\r\n                <Form ref=\"templateForm\" :model=\"searchData\" :label-width=\"90\">\r\n                    <FormItem label=\"数据项名称：\" prop=\"name\">\r\n                        <Input type=\"text\" v-model=\"searchData.name\" clearable></Input>\r\n                    </FormItem>\r\n                </Form>\r\n            </template>\r\n        </adt-search-folder>\r\n        <div class=\"content\">\r\n            <div class=\"btns-paginator\">\r\n                <adt-button>\r\n                    <Button @click=\"addItemData\">新增数据项<Icon type=\"ios-add-circle-outline\" /></Button>\r\n                </adt-button>\r\n                <adt-paginator :currentPage=\"~~page\" :total=\"~~total\" />\r\n            </div>\r\n            <template class=\"table-data\">\r\n                <Table :columns=\"columns\" :data=\"templateList\" stripe height=\"380\">\r\n                    <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n                        <Icon type=\"md-create\" @click=\"modifyShow(row)\" />\r\n                        <Icon type=\"ios-close\" @click=\"deleteShow(row)\"/>\r\n                    </template>\r\n                </Table>\r\n            </template>\r\n        </div>\r\n        <AdtMyModal :title=\"modalTitle\" okText=\"提交审核\" cancelText=\"取消\" :showModal=\"isModalShow\" @on-visible-change=\"addvisibleChange\" @on-ok=\"save()\" @on-cancel=\"cancel()\" width=\"800\">\r\n            <Form class=\"form-model\" :model=\"formItem\" ref=\"formItemData\" :rules=\"formItemRule\" :label-width=\"120\" label-colon inline>\r\n                <FormItem label=\"数据项编号\" prop=\"name\">\r\n                    <Input class=\"input-width\" v-model=\"formItem.name\" :disabled=\"distinguish=='2'\"></Input>\r\n                </FormItem>\r\n                <FormItem label=\"数据项名称\" prop=\"label\">\r\n                    <Input class=\"input-width\" v-model=\"formItem.label\"></Input>\r\n                </FormItem>\r\n                <FormItem label=\"控件类型\" prop=\"controlType\">\r\n                    <Select class=\"input-width\" v-model=\"formItem.controlType\">\r\n                        <Option v-for=\"(selectData, id) in controlType\" :key=\"id\" :value=\"selectData.dictionaryKey\">{{selectData.dictionaryValue}}</Option>\r\n                    </Select>\r\n                </FormItem>\r\n                <FormItem label=\"控件值来源\" prop=\"source\">\r\n                    <RadioGroup v-model=\"formItem.source\">\r\n                        <Radio label=\"1\">字典</Radio>\r\n                        <Radio label=\"2\">接口</Radio>\r\n                    </RadioGroup>\r\n                </FormItem>\r\n                <FormItem label=\"控件值来源地址\" prop=\"sourceValue\">\r\n                    <Input class=\"input-width\" v-model=\"formItem.sourceValue\"></Input>\r\n                </FormItem>\r\n                <FormItem label=\"数据类型\" prop=\"dataType\">\r\n                    <Select class=\"input-width\" v-model=\"formItem.dataType\">\r\n                        <Option v-for=\"(selectData, id) in dataTypeArr\" :key=\"id\" :value=\"selectData.dictionaryKey\">{{selectData.dictionaryValue}}</Option>\r\n                    </Select>\r\n                </FormItem>\r\n                <FormItem label=\"数据精度\" prop=\"accuracy\">\r\n                    <Input class=\"input-width\" v-model=\"formItem.accuracy\"></Input>\r\n                </FormItem>\r\n                <FormItem label=\"数据最大长度\" prop=\"maxLength\">\r\n                    <Input class=\"input-width\" v-model=\"formItem.maxLength\"></Input>\r\n                </FormItem>\r\n                <FormItem label=\"备注规则\" prop=\"note\">\r\n                    <Input type=\"textarea\" v-model=\"formItem.note\"></Input>\r\n                </FormItem>\r\n        </Form>\r\n        </AdtMyModal>\r\n        <adt-reconfirm-modal :showModal=\"isActionDel\" @on-visible-change=\"visibleChange\" @on-ok=\"allDelClick()\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { apiTemplateDataQuery, apiTemplateDataAdd, getTemplateDataQuery, apiTemplateDataUpdate, apiTemplateDataDel } from '@/api/template'\r\nimport { apiDictionaryQueryByCacheTypeKey } from '@/api/dictionary'\r\nimport paginator from '@/mixins/paginator'\r\nimport validateRules from '@/libs/validateRules'\r\nexport default {\r\n    mixins: [paginator],\r\n    name: 'ItemManage',\r\n    data() {\r\n        return {\r\n            searchData: {\r\n                name: ''\r\n            },\r\n            modalTitle: '',\r\n            columns: [\r\n                {title: '数据项编号',key: 'name',align: 'center'},\r\n                {title: '数据项目展示名称',key: 'label',align: 'center'},\r\n                {title: '控件类型',key: 'controlType',align: 'center'},\r\n                {title: '控件值来源',key: 'source',align: 'center'},\r\n                {title: '控件值来源链接',key: 'sourceValue',align: 'center'},\r\n                {title: '数据类型',key: 'dataType',align: 'center'},\r\n                {title: '备注信息',key: 'note',align: 'center'},\r\n                {title: '创建时间',key: 'createDatetime',align: 'center'},\r\n                {title: '创建人',key: 'createBy',align: 'center'},\r\n                {title: '操作', slot: 'action' ,align: 'center', width: 100},\r\n            ],\r\n            templateList: [],\r\n            isModalShow: false,\r\n            isActionDel: false,\r\n            formItem: {},\r\n            formItemRule: {\r\n                name: [\r\n                    {required: true, message: '请输入数据项编号', trigger: 'blur'},\r\n                    {pattern: /^[0-9a-zA-Z]*$/, message: '只能输入数字和字母'}\r\n                ],\r\n                label: [\r\n                    {required: true, message: '请输入数据项名称', trigger: 'blur'},\r\n                    {pattern: /^[\\u4E00-\\u9FA5]+$/, message: '只能输入中文'}\r\n                ],\r\n                controlType: [\r\n                    validateRules.select('控件类型')[0]\r\n                ],\r\n                source: [\r\n                    validateRules.select('控件值来源')[0]\r\n                ],\r\n                dataType: [\r\n                    validateRules.select('数据类型')[0]\r\n                ],\r\n                maxLength: [\r\n                    {required: true, message: '请输入数据最大长度', trigger: 'blur'},\r\n                    {pattern: /^[0-9]*$/, message: '只能输入数字'}\r\n                ]\r\n                // rules: [\r\n                //     validateRules.minMultipleChoice('校验规则')[0]\r\n                // ]\r\n            },\r\n            controlType: [],\r\n            dataTypeArr: [],\r\n            // 新增编辑区分  1为新增 2为编辑\r\n            distinguish: 0,\r\n            languageType: [],\r\n            languageArray: [],\r\n            selectLanguage: [],\r\n            passData: {}\r\n        }\r\n    },\r\n    mounted () {\r\n        this.initdict()\r\n    },\r\n    methods: {\r\n        test(val){\r\n            const arr = val || []\r\n            let array = []\r\n            arr.forEach(item => {\r\n                array.push({label: item.label, il8nLangCode: item.value})\r\n            })\r\n            this.selectLanguage = array\r\n        },\r\n        addvisibleChange (changeStatus) {\r\n            this.isModalShow = changeStatus\r\n        },\r\n        visibleChange (changeStatus) {\r\n            this.isActionDel = changeStatus\r\n        },\r\n        // 点击搜索调用查询接口\r\n        dataInit () {\r\n            this.getData()\r\n        },\r\n        getData () {\r\n            const params = {\r\n                page: this.page,\r\n                direction: 'asc',\r\n                properties: '',\r\n                name: this.searchData.name\r\n                // label: '数据项前端展示名称'\r\n            }\r\n            apiTemplateDataQuery({ data: params }).then(res => {\r\n                this.templateList = res.data.content || []\r\n                this.templateList.forEach(item => {\r\n                    item.controlType === 'text'? item.controlType = '文本框': item.controlType = '下拉框'\r\n                    item.dataType === 'string'? item.dataType = '字符串': item.dataType = '数字'\r\n                })\r\n                this.total = res.data.totalElements\r\n            })\r\n        },\r\n        // 新增数据项\r\n        addItemData () {\r\n            this.isModalShow = true\r\n            this.modalTitle = '新增数据项'\r\n            this.distinguish = 1\r\n        },\r\n        // 修改数据项\r\n        modifyShow (row) {\r\n            this.distinguish = 2\r\n            const params = {name: row.name}\r\n            getTemplateDataQuery(params).then(res => {\r\n                this.formItem = res.data\r\n                this.formItem.maxLength = this.formItem.maxLength.toString()\r\n                // this.languageArray = res.data.labelAndLanguage[0].label\r\n                // 编辑时语言栏展示数据处理\r\n                // let arr = []\r\n                // res.data.labelAndLanguage.forEach(item => {\r\n                //     arr.push(item.il8nLangCode)\r\n                // })\r\n                // this.formItem.nameAndLang = arr\r\n                // this.formItem.nameAndLang = res.data.labelAndLanguage[0].label\r\n                // 当后台返回的校验规则为空时赋值[]\r\n                this.formItem.rules = res.data.rules || []\r\n                this.isModalShow = true\r\n                this.modalTitle = '编辑数据项'\r\n                console.log(this.formItem)\r\n            })\r\n        },\r\n        deleteShow (row) {\r\n            this.isActionDel = true\r\n            this.passData = {name: row.name}\r\n        },\r\n        allDelClick () {\r\n            console.log(this.passData)\r\n            apiTemplateDataDel(this.passData).then(res => {\r\n                if (res.code == 200) {\r\n                    this.$Message.info(\"删除成功\")\r\n                    // 隐藏模态框\r\n                    this.isActionDel = false\r\n                    // 刷新列表\r\n                    this.getData()\r\n                } else {\r\n                    this.$Message.info(\"删除失败\")\r\n                }\r\n            })\r\n        },\r\n        save () {\r\n            const data = {\r\n                name: this.formItem.name,\r\n                label: this.formItem.label,\r\n                controlType: this.formItem.controlType,\r\n                sourceValue: this.formItem.sourceValue,\r\n                source: this.formItem.source,\r\n                dataType: this.formItem.dataType,\r\n                accuracy: this.formItem.accuracy,\r\n                maxLength: this.formItem.maxLength,\r\n                note: this.formItem.note\r\n            }\r\n            // 新增保存\r\n            if (this.distinguish == 1) {\r\n                this.$refs[\"formItemData\"].validate((valid) => {\r\n                    if (valid) {\r\n                        apiTemplateDataAdd({ data: data }).then(res => {\r\n                            if (res.code == 200) {\r\n                                this.$Message.info(\"保存成功\")\r\n                                // 隐藏新增模态框\r\n                                this.$refs.formItemData.resetFields()\r\n                                this.isModalShow = false\r\n                                // 刷新列表\r\n                                this.getData()\r\n                            } else {\r\n                                this.$Message.info(\"保存失败\")\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n            // 编辑保存\r\n            if (this.distinguish == 2) {\r\n                console.log(this.formItem)\r\n                this.$refs[\"formItemData\"].validate((valid) => {\r\n                    if (valid) {\r\n                        apiTemplateDataUpdate({ data: data }).then(res => {\r\n                            if (res.code == 200) {\r\n                                this.$Message.info(\"保存成功\")\r\n                                // 隐藏新增模态框\r\n                                this.$refs.formItemData.resetFields()\r\n                                this.isModalShow = false\r\n                                // 刷新列表\r\n                                this.getData()\r\n                            } else {\r\n                                this.$Message.info(\"保存失败\")\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        cancel () {\r\n            this.$refs.formItemData.resetFields()\r\n            this.isModalShow = false\r\n        },\r\n        // 初始化字典数据\r\n        initdict () {\r\n            // 获取语言种类\r\n            // const params = {dictionaryTypeKey: 'LANGUAGE_TYPE'}\r\n            // apiDictionaryQueryByCacheTypeKey(params).then(res => {\r\n            //     const arr = res.data || []\r\n            //     arr.forEach(element => {\r\n            //         this.languageType.push({il8nLangCode: element.dictionaryKey, label: element.dictionaryValue})\r\n            //     })\r\n            //     this.languageArray = this.languageType\r\n            // })\r\n            // 获取前端控件数据\r\n            const webControl = {dictionaryTypeKey: 'WEB_CONTROL'}\r\n            apiDictionaryQueryByCacheTypeKey(webControl).then(res => {\r\n                this.controlType = res.data\r\n            })\r\n            // 获取数据类型\r\n            const dataType = {dictionaryTypeKey: 'DATA_TYPE'}\r\n            apiDictionaryQueryByCacheTypeKey(dataType).then(res => {\r\n                this.dataTypeArr = res.data\r\n            })\r\n        },\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/deep/.ivu-form-item > .ivu-form-item-label{\r\n    text-align: left;\r\n}\r\n// 数据项弹窗分栏\r\n/deep/textarea.ivu-input{\r\n    width: 560px;\r\n}\r\n.form-model{\r\n    padding: 0 35px;\r\n}\r\n.input-width{\r\n    width: 215px;\r\n}\r\n.item-manage{\r\n    margin: 10px;\r\n    .query-tit{\r\n        .ivu-form-item{\r\n            margin-bottom: 0;\r\n            /deep/.ivu-form-item-label{\r\n                text-align: left;\r\n                padding: 10px 0;\r\n            }\r\n            .ivu-input-wrapper{\r\n                width: 18%;\r\n            }\r\n        }\r\n    }\r\n    .content{\r\n        margin-top: 20px;\r\n        .ivu-icon{\r\n            vertical-align: middle;\r\n            cursor: pointer;\r\n        }\r\n        .ivu-table-wrapper{\r\n            .ivu-table{\r\n                overflow-y: scroll;\r\n            }\r\n        }\r\n        .ivu-icon-ios-options-outline{\r\n            font-size: 20px;\r\n            transform: rotate(-90deg);\r\n            margin-right: 8px;\r\n        }\r\n        .ivu-icon-ios-brush-outline{\r\n            font-size: 20px;\r\n        }\r\n        .ivu-icon-ios-close{\r\n            font-size: 34px;\r\n        }\r\n    }\r\n    /deep/.ivu-modal{\r\n        width: 76%!important;\r\n\r\n    }\r\n    .ivu-select-single .ivu-select-selection .ivu-select-selected-value{\r\n        text-align: left!important;\r\n        padding-left: 0!important;\r\n    }\r\n    .ivu-input{\r\n        font-size: 12px;\r\n    }\r\n}\r\n.modal-title{\r\n    margin-bottom: 10px;\r\n    .template-name{\r\n        margin-right: 20px;\r\n    }\r\n}\r\n.template-modal{\r\n    width: 70%;\r\n    margin: 0 auto;\r\n    .ivu-form-item{\r\n        margin-bottom: 10px;\r\n    }\r\n    .ivu-input-wrapper{\r\n        width: 90%;\r\n    }\r\n    .template-name{\r\n        /deep/.ivu-form-item-label{\r\n            width: 40px!important;\r\n        }\r\n        .ivu-input-wrapper{\r\n            width: 68%;\r\n        }\r\n    }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./ItemManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./ItemManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemManage.vue?vue&type=template&id=e85b22a0&scoped=true&\"\nimport script from \"./ItemManage.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ItemManage.vue?vue&type=style&index=0&id=e85b22a0&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e85b22a0\",\n  null\n  \n)\n\nexport default component.exports","import { postRequest, getRequest } from './common.js'\r\nimport { mould as baseUrl } from './api'\r\n\r\n//  分页查询模版信息\r\nexport const apiTemplateQuery = (data) => {\r\n    return postRequest(`${baseUrl}/templateBasicClassification/templateBasicClassificationQuery`, data)\r\n}\r\n// 增加模版\r\nexport const apiTemplateBasicClassificationAdd = (data) => {\r\n    return postRequest(`${baseUrl}/templateBasicClassification/templateBasicClassificationAdd`, data)\r\n}\r\n// 通过模板编码查询模板信息\r\nexport const apiTemplateBasicClassificationQuery = (data) => {\r\n    return getRequest(`${baseUrl}/templateBasicClassification/templateBasicClassificationQuery`, data)\r\n}\r\n// 修改模版\r\nexport const apiTemplateBasicClassifitionUpdate = (data) => {\r\n    return postRequest(`${baseUrl}/templateBasicClassification/templateBasicClassifitionUpdate`, data)\r\n}\r\n// 通过模板编码删除模板信息\r\nexport const delTemplateBasic = (data) => {\r\n    return getRequest(`${baseUrl}/templateBasicClassification/templateBasicDel`, data)\r\n}\r\n// 分页查询模板关联数据项弹出窗数据项展示信息\r\nexport const apiTemplateRelDataQuery = (data) => {\r\n    return postRequest(`${baseUrl}/templateBasicClassification/templateRelDataQuery`, data)\r\n}\r\n// 保存模板与数据项关联信息\r\nexport const apiTemplateRelDataAdd = (data) => {\r\n    return postRequest(`${baseUrl}/templateBasicClassification/templateRelDataAdd`, data)\r\n}\r\n\r\n// 分页查询数据项基础信息\r\nexport const apiTemplateDataQuery = (data) => {\r\n    return postRequest(`${baseUrl}/templateData/templateDataQuery`, data)\r\n}\r\n// 增加模板数据项基本信息\r\nexport const apiTemplateDataAdd = (data) => {\r\n    return postRequest(`${baseUrl}/templateData/templateDataAdd`, data)\r\n}\r\n// 通过数据项编码删除数据项信息\r\nexport const apiTemplateDataDel = (data) => {\r\n    return getRequest(`${baseUrl}/templateData/templateDataDel`, data)\r\n}\r\n// 通过数据项编码查询数据项基本信息\r\nexport const getTemplateDataQuery = (data) => {\r\n    return getRequest(`${baseUrl}/templateData/templateDataQuery`, data)\r\n}\r\n// 修改数据项基本信息\r\nexport const apiTemplateDataUpdate = (data) => {\r\n    return postRequest(`${baseUrl}/templateData/templateDataUpdate`, data)\r\n}\r\n"],"sourceRoot":""}