(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47aa673f"],{"2f2c":function(e,t,s){"use strict";s.d(t,"d",(function(){return c})),s.d(t,"e",(function(){return r})),s.d(t,"f",(function(){return n})),s.d(t,"l",(function(){return o})),s.d(t,"c",(function(){return l})),s.d(t,"b",(function(){return h})),s.d(t,"i",(function(){return d})),s.d(t,"m",(function(){return u})),s.d(t,"g",(function(){return v})),s.d(t,"j",(function(){return m})),s.d(t,"n",(function(){return p})),s.d(t,"h",(function(){return f})),s.d(t,"k",(function(){return g})),s.d(t,"a",(function(){return C}));var a=s("2934"),i=s("4ec3"),c=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/getSchemeList"),e)},r=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/get-list-dspt"),e)},n=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/get-list-mkt"),e)},o=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/recommend-pass"),e)},l=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/get-scheme-details"),e)},h=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/get-scene-list"),e)},d=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/recommend-check"),e)},u=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/recommend-route"),e)},v=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/recommend-all"),e)},m=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/recommend-check-cstm"),e)},p=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/recommend-route-cstm"),e)},f=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/recommend-all-cstm"),e)},g=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/recommend-modify"),e)},C=function(e){return Object(a["b"])("".concat(i["d"],"/scheme/confirm-only-scheme"),e)}},"3ac6":function(e,t,s){},"3efc":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",{staticClass:"program"},[s("p",{staticClass:"title"},[e._v("方案基本信息")]),s("Button",{staticClass:"program-confirm",attrs:{type:"primary"},on:{click:e.confirmPlan}},[e._v("确认方案")])],1),s("AdtSchemeInformationRoute",{attrs:{logistics:e.logistics}},[s("template",{slot:"price"},[s("Row",[s("Col",{attrs:{span:"12"}},[s("span",[e._v("价格区间：￥"+e._s(e.listData.lwstPrice)+"-￥"+e._s(e.listData.hghtPrice)+e._s(e.listData.offerCurr)+"/"+e._s(e.listData.coge))])]),s("Col",{attrs:{span:"12"}},[s("span",[e._v("时长区间："+e._s(e.listData.lwstTmeff)+"-"+e._s(e.listData.hghtTmeff)+e._s(e.listData.tmeffUnit))])])],1)],1),s("template",{slot:"service"},[s("div",{staticClass:"service"},[s("p",[s("span",{staticClass:"title"},[e._v("选择代理服务:")]),s("span",[e._v("（没有可选代理服务请"),s("span",{staticClass:"contact-us",on:{click:e.contactUs}},[e._v("联系我们")]),e._v("）")])]),s("Row",e._l(e.schemeProxyList,(function(t,a){return s("Col",{key:a,staticClass:"service-proxy",attrs:{span:"6"}},[s("Checkbox",{attrs:{label:t.serverCode},on:{"on-change":function(s){return e.checkService(t,t.checked)}},model:{value:t.checked,callback:function(s){e.$set(t,"checked",s)},expression:"agentList.checked"}},[s("span",[e._v(e._s(t.sceneName))]),s("span",[e._v(" 费用："),s("Input",{attrs:{type:"text"},model:{value:t.fee,callback:function(s){e.$set(t,"fee",s)},expression:"agentList.fee"}})],1),s("span",{staticClass:"service-price"},[e._v(e._s(t.curr))])])],1)})),1)],1),s("Row",{staticClass:"program"},[s("Col",{attrs:{span:"10"}},[s("span",{staticClass:"title"},[e._v("结算汇率:")]),s("RadioGroup",{staticClass:"program-settlement",on:{"on-change":e.singleChoice},model:{value:e.listData.exrtMode,callback:function(t){e.$set(e.listData,"exrtMode",t)},expression:"listData.exrtMode"}},[s("Radio",{attrs:{label:"extrinsic"}},[e._v("非固有汇率")]),s("Radio",{staticClass:"program-inherent",attrs:{label:"inherent"}},[s("span",[e._v("固有汇率")]),s("Input",{attrs:{type:"text"},model:{value:e.listData.exrt,callback:function(t){e.$set(e.listData,"exrt",t)},expression:"listData.exrt"}})],1)],1)],1),s("Col",{attrs:{span:"6"}},[s("span",{staticClass:"title"},[e._v("方案有效期：")]),s("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:e.listData.endOfTime,callback:function(t){e.$set(e.listData,"endOfTime",t)},expression:"listData.endOfTime"}})],1),s("Col",{attrs:{span:"8"}},[s("span",{staticClass:"title"},[e._v("方案截止前 ")]),s("Input",{staticStyle:{width:"200px"},model:{value:e.listData.remindTime,callback:function(t){e.$set(e.listData,"remindTime",t)},expression:"listData.remindTime"}}),s("span",{staticClass:"title"},[e._v(" 天提醒")])],1)],1)],1)],2),s("p",{staticClass:"title"},[e._v("产品服务信息")]),s("Card",[s("adt-tab-btns",{attrs:{height:40,width:200,isUnderline:!0,titleNames:e.titleNames,btnIndex:e.changeIndex},on:{handleBtn:e.handleBtn}},[s("Divider")],1),s("div",{staticClass:"collapse"},[s("Collapse",{attrs:{accordion:""},on:{"on-change":e.changeFont},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.programData[e.tabNames[e.changeIndex-1]],(function(t,a){return s("Panel",{key:a,attrs:{name:String(a)}},[1==e.changeIndex?s("div",{staticClass:"collapse-head"},[s("span",[e._v(e._s(t.departurePort))]),s("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{fill:"#02ADB5","xlink:href":"#icon-andaotongcaidanICON_jiantou"}})]),s("span",[e._v(e._s(t.destinationPort))]),s("span",[e._v(e._s(e.changeText))])]):s("div",{staticClass:"collapse-head"},[s("span",[e._v(e._s(t.departurePort))]),s("span",[e._v(e._s(e.changeText))])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.serverList,expression:"serverTransportList.serverList"}],attrs:{slot:"content"},slot:"content"},[s("Row",[s("Col",{staticClass:"service-provider",attrs:{span:"8"}},[s("div",{staticClass:"service-provider-title"},[s("span",[e._v("选择服务商")]),s("span",{staticClass:"clear-fix"},[e._v("查看全部>")])]),s("div",{staticClass:"service-provider-company"},[s("div",{staticStyle:{"margin-bottom":"10px"}},[s("Checkbox",{attrs:{indeterminate:t.check.indeterminate},on:{"on-change":function(s){return e.handleCheckAll(t)}},model:{value:t.check.checkAll,callback:function(s){e.$set(t.check,"checkAll",s)},expression:"serverTransportList.check.checkAll"}},[e._v("全选")])],1),s("CheckboxGroup",{model:{value:t.check.checkAllGroup,callback:function(s){e.$set(t.check,"checkAllGroup",s)},expression:"serverTransportList.check.checkAllGroup"}},e._l(t.serverList,(function(t,a){return s("Checkbox",{key:a,class:{"service-select-click":e.num==a},attrs:{label:t.serverCode},model:{value:t.checked,callback:function(s){e.$set(t,"checked",s)},expression:"serviceProvider.checked"}},[s("p",{staticClass:"service-select",on:{click:function(s){return e.selectCompany(a,t)}}},[s("span",[e._v(e._s(t.enterpriseName))]),s("span",{staticClass:"price"},[e._v("基础价格: "+e._s(t.priceTotal)+e._s(t.curr))]),s("span",{staticClass:"time"},[e._v("时长: "+e._s(t.time))])]),s("div",{class:{triangle:e.num==a},staticStyle:{position:"absolute"}}),s("p")])})),1)],1)]),e.isShow?s("Col",{staticClass:"product",attrs:{span:"16"}},[s("div",{staticClass:"product-title"},[e._v("产品编号: "+e._s(e.serverCode))]),s("adt-tab-btns",{attrs:{isSmallBtn:!0,titleNames:e.titleNamesScenes,btnIndex:e.changeIndexScenes},on:{handleBtn:e.handleBtnScenes}}),s("hr",{staticStyle:{"border-style":"dashed",margin:"10px 0",color:"#E5E5E5"},attrs:{size:"1"}}),s("adt-tab-btns",{staticStyle:{"justify-content":"flex-start"},attrs:{isBaseBtn:!0,titleNames:e.titleNamesTask,btnIndex:e.changeIndexTask,width:200,height:30},on:{handleBtn:e.handleBtnTask}}),e._l(e.scenesList,(function(t,a){return e.changeIndexScenes-1==a?s("div",{key:a},[1==e.changeIndexTask?s("div",[s("AdtTaskContent",{staticClass:"spacing",attrs:{basicTask:e.basicTask,additionalTasks:e.additionalTasks}})],1):e._e(),2==e.changeIndexTask?s("div",[s("p",{staticClass:"spacing"},[e._v("监控:")]),s("div",{staticClass:"monitor"},[s("div",{staticClass:"monitor-abnormal"},[s("Row",[s("Col",{attrs:{span:"4"}},[e._v("异常1")]),s("Col",{attrs:{span:"6"}},[e._v("异常通知方式：{{}}")]),s("Col",{attrs:{span:"14"}},[e._v("异常通知内容：{{}}")])],1)],1),s("div",{staticClass:"monitor-notice"},[s("p",[s("span",[e._v("异常通知企业：")])])])]),s("div",{staticClass:"monitor"},[s("div",{staticClass:"monitor-abnormal"},[s("Row",[s("Col",{attrs:{span:"4"}},[e._v("异常1")]),s("Col",{attrs:{span:"6"}},[e._v("异常通知方式：{{}}")]),s("Col",{attrs:{span:"14"}},[e._v("异常通知内容：{{}}")])],1)],1),s("div",{staticClass:"monitor-notice"},[s("p",[s("span",[e._v("异常通知企业：")])])])])]):e._e(),3==e.changeIndexTask?s("div",[s("div",[s("p",{staticClass:"spacing"},[e._v("协同协作1:")]),s("div",{staticClass:"cooperation"},[s("div",{staticClass:"cooperation-notice"},[s("p",[s("span",[e._v("协同协作方：")])])]),s("Row",{staticClass:"cooperation-description"},[s("Col",{attrs:{span:"8"}},[e._v("协同协作方式："+e._s(1122))]),s("Col",{attrs:{span:"16"}},[e._v("协同协作内容："+e._s(3344))])],1)],1)]),s("div",[s("p",{staticClass:"spacing"},[e._v("协同协作2:")]),s("div",{staticClass:"cooperation"},[s("div",{staticClass:"cooperation-notice"},[s("p",[s("span",[e._v("协同协作方：")])])]),s("Row",{staticClass:"cooperation-description"},[s("Col",{attrs:{span:"8"}},[e._v("协同协作方式："+e._s(1122))]),s("Col",{attrs:{span:"16"}},[e._v("协同协作内容："+e._s(3344))])],1)],1)])]):e._e()]):e._e()}))],2):e._e()],1)],1)])})),1)],1)],1)],1)},i=[],c=(s("b4fb"),s("fe59"),s("513c"),s("08ba"),s("80a0")),r=s("3fec"),n=s("c161"),o=(s("90fe"),s("2f2c")),l={components:{AdtTaskContent:r["a"],AdtSchemeInformationRoute:n["a"]},data:function(){return{tabNames:["serverTransportList","serverStationList","serverCustomsList","serverBondList"],isShow:!1,listData:{remindTime:"",endOfTime:"",exrtMode:""},programData:{},schemeProxyListModel:[],changeText:"展开",serviceInformation:{},synergisticList:[],checkServicePrice:[],checkServicePriceData:[],exrtMode:"",inherent:"",getDetailsData:{},showServiceProvider:[],serviceProviderList:[],selectServiceProvider:[],num:"默认值",value:"",serverAgentListModel:[],schemeProxyList:[],schemeServer:[],schemeServerList:[],schemeServerAll:[],schemeServerListAll:[],selectTime:"",changeIndex:1,titleNames:["运输服务","场所服务","关务服务","综保区服务"],titleNamesScenes:["场景1","场景2","场景3"],changeIndexScenes:1,titleNamesTask:["任务","监控设置","协同协作设置"],changeIndexTask:1,indeterminate:!1,checkAll:!1,logistics:[],scenesList:[],basicTask:[],additionalTasks:[],changeOneText:"展开",changeTwoText:"展开",changeThreeText:"展开",changeFourText:"展开",transportValue:"",placeValue:"",customsValue:"",bondValue:""}},mounted:function(){this.listData=JSON.parse(window.sessionStorage.getItem("logisticsData"))||{},this.logistics=this.listData.routeLists||[],this.getData()},methods:{getData:function(){var e=this,t={freightReqCode:this.listData.freightReqCode,logisticsSchemeCode:this.listData.logisticsSchemeCode,routeCode:this.listData.routeCode};Object(o["c"])({data:t}).then((function(t){200==t.code&&(e.getDetailsData=t.data,e.schemeProxyList=t.data.schemeProxyList||[],e.schemeProxyList.forEach((function(e){"true"===e.checked?e.checked=!0:e.checked=!1})),e.combinedData(e.getDetailsData))}))},combinedData:function(e){this.listData.serverTransportList=JSON.parse(JSON.stringify(this.listData.routeLists)),this.listData.serverStationList=JSON.parse(JSON.stringify(this.listData.routeLists)),this.listData.serverCustomsList=JSON.parse(JSON.stringify(this.listData.routeLists)),this.listData.serverBondList=JSON.parse(JSON.stringify(this.listData.routeLists)),e.serverTransportList=e.serverTransportList||[],e.serverStationList=e.serverStationList||[],e.serverCustomsList=e.serverCustomsList||[],e.serverBondList=e.serverBondList||[],this.listData.serverTransportList.forEach((function(t,s){t.serverList=e.serverTransportList[s],t.check={checkAllGroup:[],checkAll:!1,indeterminate:!1}})),this.listData.serverStationList.forEach((function(t,s){t.serverList=e.serverStationList[s],t.check={checkAllGroup:[],checkAll:!1,indeterminate:!1}})),this.listData.serverCustomsList.forEach((function(t,s){t.serverList=e.serverCustomsList[s],t.check={checkAllGroup:[],checkAll:!1,indeterminate:!1}})),this.listData.serverBondList.forEach((function(t,s){t.serverList=e.serverBondList[s],t.check={checkAllGroup:[],checkAll:!1,indeterminate:!1}})),this.listData.schemeProxyList=e.schemeProxyList,this.programData=Object(c["a"])({},this.listData),this.programData.serverTransportList.forEach((function(e){e.serverList&&e.serverList.forEach((function(t){1==t.checked&&e.check.checkAllGroup.push(t.serverCode)}))})),this.programData.serverStationList.forEach((function(e){e.serverList&&e.serverList.forEach((function(t){1==t.checked&&e.check.checkAllGroup.push(t.serverCode)}))})),this.programData.serverCustomsList.forEach((function(e){e.serverList&&e.serverList.forEach((function(t){1==t.checked&&e.check.checkAllGroup.push(t.serverCode)}))})),this.programData.serverBondList.forEach((function(e){e.serverList&&e.serverList.forEach((function(t){1==t.checked&&e.check.checkAllGroup.push(t.serverCode)}))})),console.log(this.programData)},handleBtn:function(e){this.changeIndex=e+1,this.value=[],this.changeText="展开"},handleBtnScenes:function(e){this.changeIndexScenes=e+1,this.scenesDataHandle(this.scenesList)},handleBtnTask:function(e){this.changeIndexTask=e+1},contactUs:function(){},changeFont:function(e){1==this.isShow&&(this.isShow=!1),"展开"==this.changeText?this.changeText="收起":this.changeText="展开"},checkService:function(e,t){},singleChoice:function(e){"extrinsic"==e&&(this.listData.exrtMode="extrinsic"),"inherent"==e&&(this.listData.exrtMode="inherent")},handleCheckAll:function(e){var t=this,s=e.check,a=e.serverList;s.checkAll?(a.forEach((function(e){e.checked=!0,t.selectServiceProvider.push(e.serverCode)})),s.checkAllGroup=this.selectServiceProvider,this.schemeServerAll=e.serverList):(a.forEach((function(e){e.checked=!1})),s.checkAllGroup=[],this.selectServiceProvider=[],this.schemeServerAll=[])},checkAllGroupChange:function(e,t,s){},checkChange:function(e){},selectCompany:function(e,t){var s=this;this.num=e,this.serverCode=t.serverCode;var a={serverCode:t.serverCode,serviceType:t.serviceType};Object(o["b"])({data:a}).then((function(e){200==e.code&&e.data.length?(s.isShow=!0,s.scenesList=e.data||[],s.scenesDataHandle(s.scenesList)):s.isShow=!1}))},scenesDataHandle:function(e){var t=[],s=e[Number(this.changeIndexScenes)-1]||{};e.forEach((function(e,s){t.push(e.sceneName)})),this.titleNamesScenes=t,this.basicTaskData={serverDuration:s.serverDuration,serverDurationUnit:s.serverDurationUnit,taskCost:s.taskCost,curr:s.curr},this.basicTask=s.taskRes.taskBaseList||[],this.additionalTasks=s.taskRes.taskAffixList||[]},confirmPlan:function(){var e=this,t=JSON.parse(JSON.stringify(this.programData)),s=[];t.serverTransportList.forEach((function(t){t.serverList&&t.serverList.forEach((function(t){t.logisticsSchemeCode=e.programData.logisticsSchemeCode,s.push(t)}))}));var a=[];t.serverStationList.forEach((function(t){t.serverList&&t.serverList.forEach((function(t){t.logisticsSchemeCode=e.programData.logisticsSchemeCode,s.push(t)}))}));var i=[];t.serverCustomsList.forEach((function(t){t.serverList&&t.serverList.forEach((function(t){t.logisticsSchemeCode=e.programData.logisticsSchemeCode,s.push(t)}))}));var c=[];t.serverBondList.forEach((function(t){t.serverList&&t.serverList.forEach((function(t){t.logisticsSchemeCode=e.programData.logisticsSchemeCode,s.push(t)}))}));var r=JSON.parse(JSON.stringify(this.programData.schemeProxyList));t.forEach((function(t){t.checked=String(t.checked),t.freightReqCode=e.programData.freightReqCode,t.logisticsSchemeCode=e.programData.logisticsSchemeCode})),this.schemeServerList=[].concat(s,a,i,c),console.log(this.schemeServerList);var n={endOfTime:this.listData.endOfTime,exrt:this.listData.exrt,exrtMode:this.exrtMode,freightReqCode:this.listData.freightReqCode,logisticsSchemeCode:this.listData.logisticsSchemeCode,remindTime:this.listData.remindTime,schemeProxyList:r,schemeServerList:this.schemeServerList,totalPrices:this.programData.totalPrices};Object(o["k"])({data:n}).then((function(e){200==e.code&&console.log(e.data)}))}}},h=l,d=(s("cb36"),s("4023")),u=Object(d["a"])(h,a,i,!1,null,"330d0d5e",null);t["default"]=u.exports},cb36:function(e,t,s){"use strict";var a=s("3ac6"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-47aa673f.59d3d28c.js.map