(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ffa54fd"],{"0a87":function(e,t,a){"use strict";var o=a("bc23"),r=a.n(o);r.a},1362:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ae-form"},[a("div",{staticClass:"public-form-box"},[a("div",{staticClass:"public-form-content"},[a("Form",{ref:"formValidate",attrs:{"label-position":"right","label-width":152,rules:e.formItemRule,model:e.formModel}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("Col",{attrs:{span:"8"}},[a("p",{staticClass:"item-form-title"},[e._v("发货人信息")]),a("FormItem",{attrs:{label:"发货人名称：",prop:"FattenName"}},[a("Input",{model:{value:e.formModel.FattenName,callback:function(t){e.$set(e.formModel,"FattenName",t)},expression:"formModel.FattenName"}})],1),a("FormItem",{attrs:{label:"代码："}},[a("Input",{model:{value:e.formModel.Fcode,callback:function(t){e.$set(e.formModel,"Fcode",t)},expression:"formModel.Fcode"}})],1),a("FormItem",{attrs:{label:"地址：",prop:"FattenAddr"}},[a("Input",{model:{value:e.formModel.FattenAddr,callback:function(t){e.$set(e.formModel,"FattenAddr",t)},expression:"formModel.FattenAddr"}})],1),a("FormItem",{attrs:{label:"电话：",prop:"FattenTel"}},[a("Input",{model:{value:e.formModel.FattenTel,callback:function(t){e.$set(e.formModel,"FattenTel",t)},expression:"formModel.FattenTel"}})],1),a("FormItem",{attrs:{label:"传真："}},[a("Input",{model:{value:e.formModel.FattenFax,callback:function(t){e.$set(e.formModel,"FattenFax",t)},expression:"formModel.FattenFax"}})],1),a("FormItem",{attrs:{label:"邮箱："}},[a("Input",{model:{value:e.formModel.FattenEmail,callback:function(t){e.$set(e.formModel,"FattenEmail",t)},expression:"formModel.FattenEmail"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("p",{staticClass:"item-form-title"},[e._v("收货人信息")]),a("FormItem",{attrs:{label:"收货人名称：",prop:"SattenName"}},[a("Input",{model:{value:e.formModel.SattenName,callback:function(t){e.$set(e.formModel,"SattenName",t)},expression:"formModel.SattenName"}})],1),a("FormItem",{attrs:{label:"代码："}},[a("Input",{model:{value:e.formModel.Scode,callback:function(t){e.$set(e.formModel,"Scode",t)},expression:"formModel.Scode"}})],1),a("FormItem",{attrs:{label:"地址：",prop:"SattenAddr"}},[a("Input",{model:{value:e.formModel.SattenAddr,callback:function(t){e.$set(e.formModel,"SattenAddr",t)},expression:"formModel.SattenAddr"}})],1),a("FormItem",{attrs:{label:"电话：",prop:"SattenTel"}},[a("Input",{model:{value:e.formModel.SattenTel,callback:function(t){e.$set(e.formModel,"SattenTel",t)},expression:"formModel.SattenTel"}})],1),a("FormItem",{attrs:{label:"传真："}},[a("Input",{model:{value:e.formModel.SattenFax,callback:function(t){e.$set(e.formModel,"SattenFax",t)},expression:"formModel.SattenFax"}})],1),a("FormItem",{attrs:{label:"邮箱："}},[a("Input",{model:{value:e.formModel.SattenEmail,callback:function(t){e.$set(e.formModel,"SattenEmail",t)},expression:"formModel.SattenEmail"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("p",{staticClass:"item-form-title"},[e._v("通知人信息")]),a("FormItem",{attrs:{label:"通知人名称：",prop:"TattenName"}},[a("Input",{model:{value:e.formModel.TattenName,callback:function(t){e.$set(e.formModel,"TattenName",t)},expression:"formModel.TattenName"}})],1),a("FormItem",{attrs:{label:"代码："}},[a("Input",{model:{value:e.formModel.Tcode,callback:function(t){e.$set(e.formModel,"Tcode",t)},expression:"formModel.Tcode"}})],1),a("FormItem",{attrs:{label:"地址：",prop:"TattenAddr"}},[a("Input",{model:{value:e.formModel.TattenAddr,callback:function(t){e.$set(e.formModel,"TattenAddr",t)},expression:"formModel.TattenAddr"}})],1),a("FormItem",{attrs:{label:"电话：",prop:"TattenTel"}},[a("Input",{model:{value:e.formModel.TattenTel,callback:function(t){e.$set(e.formModel,"TattenTel",t)},expression:"formModel.TattenTel"}})],1),a("FormItem",{attrs:{label:"传真："}},[a("Input",{model:{value:e.formModel.TattenFax,callback:function(t){e.$set(e.formModel,"TattenFax",t)},expression:"formModel.TattenFax"}})],1),a("FormItem",{attrs:{label:"邮箱：",prop:"TattenEmail"}},[a("Input",{model:{value:e.formModel.TattenEmail,callback:function(t){e.$set(e.formModel,"TattenEmail",t)},expression:"formModel.TattenEmail"}})],1)],1)],1),a("Col",{attrs:{span:"6"}},[a("p",{staticClass:"item-form-title"},[e._v("服务参数")]),a("FormItem",{attrs:{label:"运输类型：",prop:"trspType"}},[a("Input",{model:{value:e.planForm.trspType,callback:function(t){e.$set(e.planForm,"trspType",t)},expression:"planForm.trspType"}})],1),a("FormItem",{attrs:{label:"集装箱尺寸："}},[a("Input",{model:{value:e.planForm.contaSize,callback:function(t){e.$set(e.planForm,"contaSize",t)},expression:"planForm.contaSize"}})],1),a("FormItem",{attrs:{label:"集装箱来源："}},[a("Input",{model:{value:e.planForm.containerSource,callback:function(t){e.$set(e.planForm,"containerSource",t)},expression:"planForm.containerSource"}})],1),e._l(3,(function(t,o){return a("FormItem",{key:o,staticClass:"jz-meaningless"},[a("template",{slot:"label"},[e._v("无意义")]),a("Input",{attrs:{disabled:""}})],2)}))],2)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("p",{staticClass:"item-form-title"},[e._v("货物信息")]),a("div",{staticClass:"public-line"}),a("div",{staticClass:"scroll-box"},[a("cargo-info",{on:{cargoInfoItem:e.cargoInfoItem_m}},[a("template",{slot:"btns-end"},[a("span",[e._v("货物类型：")]),a("span",[e._v(e._s(e.planForm.cargoType))])])],2)],1)]),a("Col",{attrs:{span:"6"}},[a("p",{staticClass:"item-form-title"},[e._v("运输要求")]),a("FormItem",{attrs:{label:"主要运输方式："}},[a("Input",{model:{value:e.planForm.trspMode,callback:function(t){e.$set(e.planForm,"trspMode",t)},expression:"planForm.trspMode"}})],1),a("FormItem",{attrs:{label:"物流类型："}},[a("Input",{model:{value:e.planForm.logisticsType,callback:function(t){e.$set(e.planForm,"logisticsType",t)},expression:"planForm.logisticsType"}})],1),a("FormItem",{attrs:{label:"提箱类型："}},[a("Input",{model:{value:e.planForm.suitcaseType,callback:function(t){e.$set(e.planForm,"suitcaseType",t)},expression:"planForm.suitcaseType"}})],1),a("FormItem",{attrs:{label:"集装箱数量："}},[a("Input",{model:{value:e.planForm.suitcaseQty,callback:function(t){e.$set(e.planForm,"suitcaseQty",t)},expression:"planForm.suitcaseQty"}})],1),a("FormItem",{attrs:{label:"货物适宜温度："}},[a("Input",{model:{value:e.planForm.setTemperatureAt,callback:function(t){e.$set(e.planForm,"setTemperatureAt",t)},expression:"planForm.setTemperatureAt"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("℃")])])],1),a("FormItem",{attrs:{label:"出口报关地："}},[a("Input",{model:{value:e.planForm.exPort,callback:function(t){e.$set(e.planForm,"exPort",t)},expression:"planForm.exPort"}})],1),a("FormItem",{attrs:{label:"进口报关地："}},[a("Input",{model:{value:e.planForm.imPort,callback:function(t){e.$set(e.planForm,"imPort",t)},expression:"planForm.imPort"}})],1),a("FormItem",{attrs:{label:"最迟启运时间："}},[a("DatePicker",{attrs:{type:"datetime",placeholder:"Select date"},model:{value:e.formModel.lastStartTime,callback:function(t){e.$set(e.formModel,"lastStartTime",t)},expression:"formModel.lastStartTime"}})],1),a("FormItem",{attrs:{label:"最低时长要求："}},[a("Input",{model:{value:e.planForm.lowestTimeReq,callback:function(t){e.$set(e.planForm,"lowestTimeReq",t)},expression:"planForm.lowestTimeReq"}},[a("span",{attrs:{slot:"append"},slot:"append"},[e._v("天")])])],1),a("FormItem",{attrs:{label:"最高费用要求："}},[a("Input",{model:{value:e.planForm.highestCostReq,callback:function(t){e.$set(e.planForm,"highestCostReq",t)},expression:"planForm.highestCostReq"}})],1),a("FormItem",{attrs:{label:"预计货好时间：",prop:"cargoReadyTime"}},[a("DatePicker",{attrs:{type:"datetime",placeholder:"Select date"},model:{value:e.formModel.cargoReadyTime,callback:function(t){e.$set(e.formModel,"cargoReadyTime",t)},expression:"formModel.cargoReadyTime"}})],1),a("FormItem",{attrs:{label:"最晚到达时间："}},[a("DatePicker",{attrs:{type:"datetime",placeholder:"Select date"},model:{value:e.formModel.lastArriveTime,callback:function(t){e.$set(e.formModel,"lastArriveTime",t)},expression:"formModel.lastArriveTime"}})],1),a("FormItem",{attrs:{label:"合同编号："}},[a("Input",{model:{value:e.formModel.contractCode,callback:function(t){e.$set(e.formModel,"contractCode",t)},expression:"formModel.contractCode"}})],1),a("FormItem",{attrs:{label:"备注："}},[a("Input",{model:{value:e.formModel.remark,callback:function(t){e.$set(e.formModel,"remark",t)},expression:"formModel.remark"}})],1)],1)],1)],1)],1)])])},r=[],l=(a("2eeb"),a("80a0")),n=a("46a4"),s=a("77ab"),m=a("b962"),i=a("35f4"),c=a.n(i),p=a("158d"),d=a("8f27"),u={name:"ae-form",mixins:[d["a"]],props:{planData:{type:Object,default:function(){return{}}}},components:{CargoInfo:p["a"]},data:function(){return{formModel:{},CargoInfoList:[],planForm:{cargoType:"普货",trspType:"集装箱",contaSize:"自备",containerSource:"自备",trspMode:"水运",logisticsType:"国内",suitcaseType:"常庄",suitcaseQty:22,setTemperatureAt:29,exPort:"中国/重庆",imPort:"中国/北京",lowestTimeReq:3,highestCostReq:"55"},formItemRule:{FattenName:[m["a"].required("名称")[0]],FattenAddr:[m["a"].required("地址")[0]],FattenTel:[m["a"].required("电话")[0]],SattenName:[m["a"].required("名称")[0]],SattenAddr:[m["a"].required("地址")[0]],SattenTel:[m["a"].required("电话")[0]],TattenName:[m["a"].required("名称")[0]],TattenAddr:[m["a"].required("地址")[0]],TattenEmail:[m["a"].required("邮箱")[0]],cargoReadyTime:[{required:!0,type:"date",message:"",trigger:"change"}],TattenTel:[m["a"].required("电话")[0]],connum:[m["a"].required("")[0],m["a"].number()[0]]}}},created:function(){this.initdataplan()},methods:{initdataplan:function(){var e=this.planData,t=(e.routeLists,Object(n["a"])(e,["routeLists"])),a=Object(l["a"])(Object(l["a"])({},t),this.planForm);this.planForm=a},_add:function(){var e=this;if(this.CargoInfoList.length<=0)this.$Message.error("货物信息必填");else{var t=this.CargoInfoList.map((function(t){return{cargoName:t.cargoName,cargoType:e.planForm.cargoType,cargoVol:+t.cargoVol||0,cargoQty:+t.cargoQty||0,grossWeight:+t.grossWeight||0,weightUnit:"kg",hsCode:t.hsCode,markNo:t.markNo,netWeight:+t.netWeight,vodUnit:"m³",suitcaseQty:0,entrustPackagingReqList:[{grossWeight:+t.grossWeight0||0,netWeight:+t.netWeight0||0,packPcode:"0",packQty:+t.packQty0||0,packType:t.packType0,packVol:+t.packVol0||0},{grossWeight:+t.grossWeight1||0,netWeight:+t.netWeight1||0,packPcode:"1",packQty:+t.packQty1||0,packType:t.packType1,packVol:+t.packVol1||0}]}})),a=c()(this.formModel.cargoReadyTime).valueOf(),o=c()(this.formModel.lastStartTime).valueOf(),r=c()(this.formModel.lastArriveTime).valueOf(),l={contactReqList:[{attenAddr:this.formModel.FattenAddr,attenEmail:this.formModel.FattenEmail||null,attenFax:this.formModel.FattenFax,attenName:this.formModel.FattenName,attenTel:this.formModel.FattenTel,linkType:"发货人",code:this.formModel.Fcode},{attenAddr:this.formModel.SattenAddr,attenEmail:this.formModel.SattenEmail||null,attenFax:this.formModel.SattenFax,attenName:this.formModel.SattenName,attenTel:this.formModel.SattenTel,linkType:"收货人",code:this.formModel.Scode},{attenAddr:this.formModel.TattenAddr,attenEmail:this.formModel.TattenEmail||null,attenFax:this.formModel.TattenFax,attenName:this.formModel.TattenName,attenTel:this.formModel.TattenTel,linkType:"通知人",code:this.formModel.Tcode}],entrustCargoReq:t,transportationAskReq:{cargoReadyTime:a,contaSize:this.planForm.contaSize,containerSource:this.planForm.containerSource,curr:this.formModel.curr,exPort:this.planForm.exPort,highestCostReq:+this.planForm.highestCostReq||0,imPort:this.planForm.imPort,lastStartTime:o,logisticsType:this.planForm.logisticsType,lowestTimeReq:+this.planForm.lowestTimeReq||0,lowestTimeUnit:"天",setTemperatureAt:+this.planForm.setTemperatureAt||0,setTemperatureUnit:"°C",suitcaseQty:+this.planForm.suitcaseQty||0,suitcaseType:this.planForm.suitcaseType,trspMode:this.planForm.trspMode,trspType:this.planForm.trspType,remark:this.formModel.remark,lastArriveTime:r},trsspmPort:this.planData.routeLists.map((function(e){return e.departurePort})),contractCode:this.formModel.contractCode,departurePort:this.planData.routeLists[0].departurePort,destinationPort:this.planData.routeLists[this.planData.routeLists.length-1].destinationPort,freightReqCode:this.planData.freightReqCode,logisticsSchemeCode:this.planData.logisticsSchemeCode,vodUnit:"m³",weightUnit:"kg"};Object(s["p"])({data:l}).then((function(t){e.$Message.success("新增成功!"),e.$router.push("/logisstics-commission/one-logistics/1")})).catch((function(t){200==t.code||e.$Message.error(t.code,10)}))}}}},f=u,F=(a("0a87"),a("4023")),T=Object(F["a"])(f,o,r,!1,null,"6968d7ca",null);t["a"]=T.exports},bc23:function(e,t,a){}}]);
//# sourceMappingURL=chunk-4ffa54fd.e884ca2d.js.map