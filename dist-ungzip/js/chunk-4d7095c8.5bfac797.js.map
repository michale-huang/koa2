{"version":3,"sources":["webpack:///./src/pages/standard-mapper/additional-task/List.vue?d761","webpack:///./src/mixins/paginator.js","webpack:///./src/api/additionalTask.js","webpack:///./src/pages/standard-mapper/additional-task/List.vue?31ca","webpack:///src/pages/standard-mapper/additional-task/List.vue","webpack:///./src/pages/standard-mapper/additional-task/List.vue?af68","webpack:///./src/pages/standard-mapper/additional-task/List.vue"],"names":["props","page","default","data","total","perpage","created","this","dataInit","watch","$route","methods","paginatorInit","apiAffixTaskQuery","postRequest","baseUrl","apiAffixTaskAdd","apiAffixTaskEnable","apiAffixTaskDisable","apiAffixTaskEnableExamPass","apiAffixTaskEnableExamFail","apiAffixTaskDisableExamPass","apiAffixTaskDisableExamFail","apiAffixTaskQueryDetail","getRequest","apiQueryEnableData","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","query","taskCode","search","taskName","trspType","examineStatus","useStatus","slot","_v","_l","status","key","dictionaryKey","class","on","$event","chooseExamineStatus","_s","dictionaryValue","chooseUseStatus","model","value","callback","$$v","$set","expression","staticStyle","item","add","startUsing","isManager","stopUsing","columns","tableData","selectionChange","scopedSlots","_u","fn","ref","row","trim","_e","examine","detail","timestampFormat","createDatetime","modalTitle","isModalShow","addVisibleChange","save","cancel","formItem","formItemRule","previewSort","itemColumns","itemTableData","itemSelectionChange","index","changeRowData","dataCode","dataName","enterInfo","isEnterInfoModalShow","enterInfoVisibleChange","enterInfoSave","minRows","prompt","isPreviewModalShow","previewVisibleChange","previewSave","previewColumns","previewTableData","examineModalTitle","isExamineModalShow","examineVisibleChange","examineSave","agree","examineType","directives","name","rawName","reason","isActionDel","reconfirmMsg","visibleChange","allDelClick","staticRenderFns","component"],"mappings":"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","file":"js/chunk-4d7095c8.5bfac797.js","sourcesContent":["import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=9f11f9a8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=style&index=0&id=9f11f9a8&lang=scss&scoped=true&\"","export default {\r\n    props: {\r\n        page: { default: 1 }\r\n    },\r\n    data () {\r\n        return {\r\n            total: 0,\r\n            perpage: 15\r\n        }\r\n    },\r\n    created () {\r\n        // judgment区分第一次进入页面调用的方法\r\n        this.dataInit('judgment')\r\n    },\r\n    watch: {\r\n        $route () {\r\n            this.dataInit()\r\n        }\r\n    },\r\n    methods: {\r\n        paginatorInit (perpage, total) {\r\n            this.perpage = perpage\r\n            this.total = total\r\n        }\r\n    }\r\n}\r\n","import { postRequest, getRequest } from './common'\r\nimport { mould as baseUrl } from './api'\r\n\r\n// 分页查询基础任务基础信息\r\nexport const apiAffixTaskQuery = (data) => {\r\n    return postRequest(`${baseUrl}/task-affix/query-page`, data)\r\n}\r\n// 新增基础任务\r\nexport const apiAffixTaskAdd = (data) => {\r\n    return postRequest(`${baseUrl}/task-affix/add`, data)\r\n}\r\n// 基础任务启用、基础任务启用申请\r\nexport const apiAffixTaskEnable = (data) => {\r\n    return postRequest(`${baseUrl}/task-affix/enable`, data)\r\n}\r\n// 基础任务停用、基础任务停用申请\r\nexport const apiAffixTaskDisable = (data) => {\r\n    return postRequest(`${baseUrl}/task-affix/disable`, data)\r\n}\r\n// 基础任务启用审核通过\r\nexport const apiAffixTaskEnableExamPass = (data) => {\r\n    return postRequest(`${baseUrl}/task-affix/enable-exam-pass`, data)\r\n}\r\n// 基础任务启用审核不通过\r\nexport const apiAffixTaskEnableExamFail = (data) => {\r\n    return postRequest(`${baseUrl}/task-affix/enable-exam-fail`, data)\r\n}\r\n// 基础任务停用审核通过\r\nexport const apiAffixTaskDisableExamPass = (data) => {\r\n    return postRequest(`${baseUrl}/task-affix/disable-exam-pass`, data)\r\n}\r\n// 基础任务停用审核不通过\r\nexport const apiAffixTaskDisableExamFail = (data) => {\r\n    return postRequest(`${baseUrl}/task-affix/disable-exam-fail`, data)\r\n}\r\n// 基础任务详情\r\nexport const apiAffixTaskQueryDetail = (data) => {\r\n    return getRequest(`${baseUrl}/task-affix/query-detail`, data)\r\n}\r\n// 获取启用状态数据项信息\r\nexport const apiQueryEnableData = (data) => {\r\n    return getRequest(`${baseUrl}/task-affix/query-enable-data`, data)\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"additional-task\"},[_c('adt-search-folder',{attrs:{\"searchRouter\":{query: {taskCode: _vm.search.taskCode, taskName: _vm.search.taskName, trspType: _vm.search.trspType, examineStatus: _vm.search.examineStatus, useStatus: _vm.search.useStatus}},\"isStatus\":true}},[_c('template',{slot:\"status\"},[_c('div',{staticClass:\"status\"},[_c('Col',{attrs:{\"span\":\"10\"}},[_c('div',{staticClass:\"name\"},[_vm._v(\"审核状态:\")]),_vm._l((_vm.auditStatus),function(status){return _c('span',{key:status.dictionaryKey,class:{'click-status': _vm.search.examineStatus === status.dictionaryKey},on:{\"click\":function($event){return _vm.chooseExamineStatus(status.dictionaryKey)}}},[_vm._v(\" \"+_vm._s(status.dictionaryValue)+\" \")])})],2),_c('Col',{attrs:{\"span\":\"14\"}},[_c('div',{staticClass:\"name\"},[_vm._v(\"启用状态:\")]),_vm._l((_vm.enableStatus),function(status){return _c('span',{key:status.dictionaryKey,class:{'click-status': _vm.search.useStatus === status.dictionaryKey},on:{\"click\":function($event){return _vm.chooseUseStatus(status.dictionaryKey)}}},[_vm._v(\" \"+_vm._s(status.dictionaryValue)+\" \")])})],2)],1)]),_c('template',{slot:\"always-show\"},[_c('Col',{staticClass:\"form-item\",attrs:{\"span\":\"6\"}},[_c('span',[_vm._v(\"附加任务编号:\")]),_c('Input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.search.taskCode),callback:function ($$v) {_vm.$set(_vm.search, \"taskCode\", $$v)},expression:\"search.taskCode\"}})],1),_c('Col',{staticClass:\"form-item\",attrs:{\"span\":\"6\"}},[_c('span',[_vm._v(\"附加任务名称:\")]),_c('Input',{attrs:{\"clearable\":\"\"},model:{value:(_vm.search.taskName),callback:function ($$v) {_vm.$set(_vm.search, \"taskName\", $$v)},expression:\"search.taskName\"}})],1),_c('Col',{staticClass:\"form-item\",attrs:{\"span\":\"6\"}},[_c('span',{staticStyle:{\"text-align\":\"right\",\"margin-right\":\"10px\"}},[_vm._v(\"运输类型:\")]),_c('Select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.search.trspType),callback:function ($$v) {_vm.$set(_vm.search, \"trspType\", $$v)},expression:\"search.trspType\"}},_vm._l((_vm.transportType),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)],1)],1)],2),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"btns-paginator\"},[_c('adt-button',[_c('Button',{on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"新增附加任务\"),_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\"}})],1),_c('Button',{on:{\"click\":function($event){return _vm.startUsing()}}},[_vm._v(_vm._s('批量启用' + (_vm.isManager ? '' : '申请'))),_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\"}})],1),_c('Button',{on:{\"click\":function($event){return _vm.stopUsing()}}},[_vm._v(\" \"+_vm._s('批量停用' + (_vm.isManager ? '' : '申请'))+\" \"),_c('svg',{staticClass:\"iconfont\",attrs:{\"aria-hidden\":\"true\"}},[_c('use',{attrs:{\"xlink:href\":\"#icon-tingyong\"}})])])],1),_c('adt-paginator',{attrs:{\"currentPage\":~~_vm.page,\"total\":~~_vm.total}})],1),_c('div',{staticClass:\"public-table-data\"},[_c('Table',{attrs:{\"columns\":_vm.columns,\"data\":_vm.tableData,\"stripe\":\"\"},on:{\"on-selection-change\":_vm.selectionChange},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [(\n                    (!row.useStatus || row.useStatus.trim() === '已停用') && row.examineStatus !== '待审核')?_c('span',{staticClass:\"icon-action icon-action-word\",on:{\"click\":function($event){return _vm.startUsing(row)}}},[_vm._v(\"启\")]):_vm._e(),((row.useStatus && row.useStatus.trim() === '已启用') && row.examineStatus !== '待审核')?_c('span',{staticClass:\"icon-action icon-action-word\",on:{\"click\":function($event){return _vm.stopUsing(row)}}},[_vm._v(\"停\")]):_vm._e(),(_vm.isManager && row.examineStatus === '待审核')?_c('Icon',{staticClass:\"icon-action\",attrs:{\"type\":\"ios-contact-outline\"},on:{\"click\":function($event){return _vm.examine(row)}}}):_vm._e(),_c('Icon',{staticClass:\"icon-action\",attrs:{\"type\":\"ios-alert-outline\"},on:{\"click\":function($event){return _vm.detail(row)}}})]}},{key:\"createDatetime\",fn:function(ref){\n                    var row = ref.row;\nreturn [_vm._v(\" \"+_vm._s(_vm.timestampFormat(row.createDatetime))+\" \")]}}])})],1)]),_c('adt-my-modal',{attrs:{\"title\":_vm.modalTitle,\"okText\":\"保存\",\"showModal\":_vm.isModalShow,\"width\":\"70%\"},on:{\"on-visible-change\":_vm.addVisibleChange,\"on-ok\":function($event){return _vm.save()},\"on-cancel\":function($event){return _vm.cancel()}}},[_c('Form',{ref:\"formItemData\",staticClass:\"two-column\",attrs:{\"inline\":\"\",\"model\":_vm.formItem,\"rules\":_vm.formItemRule,\"label-width\":120,\"label-colon\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"附加任务名称\",\"prop\":\"taskName\"}},[_c('Input',{attrs:{\"maxlength\":\"10\",\"clearable\":\"\"},model:{value:(_vm.formItem.taskName),callback:function ($$v) {_vm.$set(_vm.formItem, \"taskName\", $$v)},expression:\"formItem.taskName\"}})],1),_c('FormItem',{attrs:{\"label\":\"物流类型\",\"prop\":\"logisticsType\"}},[_c('Select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formItem.logisticsType),callback:function ($$v) {_vm.$set(_vm.formItem, \"logisticsType\", $$v)},expression:\"formItem.logisticsType\"}},_vm._l((_vm.logisticsType),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"运输类型\",\"prop\":\"trspType\"}},[_c('Select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.formItem.trspType),callback:function ($$v) {_vm.$set(_vm.formItem, \"trspType\", $$v)},expression:\"formItem.trspType\"}},_vm._l((_vm.transportType),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)],1)],1),_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"item-title\"},[_c('span',[_vm._v(\"选择数据项\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.previewSort()}}},[_vm._v(\"排序预览\")])],1),_c('Table',{attrs:{\"columns\":_vm.itemColumns,\"data\":_vm.itemTableData,\"stripe\":\"\"},on:{\"on-selection-change\":_vm.itemSelectionChange},scopedSlots:_vm._u([{key:\"sort\",fn:function(ref){\n                    var row = ref.row;\n                    var index = ref.index;\nreturn [_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('span',{staticClass:\"required-tag\"},[_vm._v(\"*\")]),_c('Input',{attrs:{\"clearable\":\"\"},on:{\"on-change\":function($event){return _vm.changeRowData(row, index, 'sort')}},model:{value:(row.sort),callback:function ($$v) {_vm.$set(row, \"sort\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"row.sort\"}})],1)]}},{key:\"relationData\",fn:function(ref){\n                    var row = ref.row;\n                    var index = ref.index;\nreturn [_c('Select',{attrs:{\"clearable\":\"\"},on:{\"on-change\":function($event){return _vm.changeRowData(row, index, 'relationData')}},model:{value:(row.relationData),callback:function ($$v) {_vm.$set(row, \"relationData\", $$v)},expression:\"row.relationData\"}},_vm._l((_vm.selectedData),function(item){return _c('Option',{key:item.dataCode,attrs:{\"value\":item.dataCode,\"disabled\":row.dataCode === item.dataCode ? true : false}},[_vm._v(_vm._s(item.dataName))])}),1)]}},{key:\"isMore\",fn:function(ref){\n                    var row = ref.row;\n                    var index = ref.index;\nreturn [_c('Select',{attrs:{\"clearable\":\"\"},on:{\"on-change\":function($event){return _vm.changeRowData(row, index, 'isMore')}},model:{value:(row.isMore),callback:function ($$v) {_vm.$set(row, \"isMore\", $$v)},expression:\"row.isMore\"}},_vm._l((_vm.yesOrNo),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)]}},{key:\"isEdit\",fn:function(ref){\n                    var row = ref.row;\n                    var index = ref.index;\nreturn [_c('Select',{attrs:{\"clearable\":\"\"},on:{\"on-change\":function($event){return _vm.changeRowData(row, index, 'isEdit')}},model:{value:(row.isEdit),callback:function ($$v) {_vm.$set(row, \"isEdit\", $$v)},expression:\"row.isEdit\"}},_vm._l((_vm.yesOrNo),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)]}},{key:\"isShow\",fn:function(ref){\n                    var row = ref.row;\n                    var index = ref.index;\nreturn [_c('Select',{attrs:{\"clearable\":\"\"},on:{\"on-change\":function($event){return _vm.changeRowData(row, index, 'isShow')}},model:{value:(row.isShow),callback:function ($$v) {_vm.$set(row, \"isShow\", $$v)},expression:\"row.isShow\"}},_vm._l((_vm.yesOrNo),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)]}},{key:\"rules\",fn:function(ref){\n                    var row = ref.row;\n                    var index = ref.index;\nreturn [_c('Select',{attrs:{\"multiple\":\"\",\"clearable\":\"\"},on:{\"on-change\":function($event){return _vm.changeRowData(row, index, 'rules')}},model:{value:(row.rules),callback:function ($$v) {_vm.$set(row, \"rules\", $$v)},expression:\"row.rules\"}},_vm._l((_vm.verificationRule),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)]}},{key:\"action\",fn:function(ref){\n                    var row = ref.row;\n                    var index = ref.index;\nreturn [_c('Button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"ghost\":\"\"},on:{\"click\":function($event){return _vm.enterInfo(row, index)}}},[_vm._v(\"录入提示信息\")])]}}])})],1),_c('adt-my-modal',{attrs:{\"title\":\"录入提示信息\",\"showModal\":_vm.isEnterInfoModalShow},on:{\"on-visible-change\":_vm.enterInfoVisibleChange,\"on-ok\":function($event){return _vm.enterInfoSave()}}},[_c('div',{staticClass:\"content\",staticStyle:{\"margin\":\"0 20px\"}},[_c('div',{staticStyle:{\"margin-bottom\":\"6px\"}},[_vm._v(\"填写提示信息：\")]),_c('Input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入内容\",\"autosize\":{minRows: 6}},model:{value:(_vm.prompt),callback:function ($$v) {_vm.prompt=$$v},expression:\"prompt\"}})],1)]),_c('adt-my-modal',{attrs:{\"title\":\"预览数据项排序\",\"showModal\":_vm.isPreviewModalShow,\"showCancelBtn\":false},on:{\"on-visible-change\":_vm.previewVisibleChange,\"on-ok\":function($event){return _vm.previewSave()}}},[_c('Table',{attrs:{\"columns\":_vm.previewColumns,\"data\":_vm.previewTableData,\"stripe\":\"\"}})],1),_c('adt-my-modal',{attrs:{\"title\":_vm.examineModalTitle,\"showModal\":_vm.isExamineModalShow,\"width\":\"600\"},on:{\"on-visible-change\":_vm.examineVisibleChange,\"on-ok\":function($event){return _vm.examineSave()}}},[_c('RadioGroup',{staticStyle:{\"margin-bottom\":\"20px\"},model:{value:(_vm.agree),callback:function ($$v) {_vm.agree=$$v},expression:\"agree\"}},[_c('Radio',{attrs:{\"label\":\"1\"}},[_vm._v(\"同意\"+_vm._s(_vm.examineType === 1 ? '启用' : '停用'))]),_c('Radio',{staticStyle:{\"margin-left\":\"30px\"},attrs:{\"label\":\"0\"}},[_vm._v(\"不同意\"+_vm._s(_vm.examineType === 1 ? '启用' : '停用'))])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.agree === '0'),expression:\"agree === '0'\"}]},[_c('div',{staticClass:\"reason-name\",staticStyle:{\"margin-bottom\":\"6px\"}},[_vm._v(\"填写驳回原因:\")]),_c('Input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入内容...\"},model:{value:(_vm.reason),callback:function ($$v) {_vm.reason=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"reason\"}})],1)],1),_c('adt-reconfirm-modal',{attrs:{\"showModal\":_vm.isActionDel,\"message\":_vm.reconfirmMsg},on:{\"on-visible-change\":_vm.visibleChange,\"on-ok\":function($event){return _vm.allDelClick()}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"additional-task\">\r\n        <adt-search-folder\r\n            :searchRouter=\"{query: {taskCode: search.taskCode, taskName: search.taskName, trspType: search.trspType, examineStatus: search.examineStatus, useStatus: search.useStatus}}\"\r\n            :isStatus=\"true\">\r\n            <template slot=\"status\">\r\n                <div class=\"status\">\r\n                    <Col span=\"10\">\r\n                        <div class=\"name\">审核状态:</div>\r\n                        <span v-for=\"status in auditStatus\" :key=\"status.dictionaryKey\" @click=\"chooseExamineStatus(status.dictionaryKey)\" :class=\"{'click-status': search.examineStatus === status.dictionaryKey}\">\r\n                            {{ status.dictionaryValue }}\r\n                        </span>\r\n                    </Col>\r\n                    <Col span=\"14\">\r\n                        <div class=\"name\">启用状态:</div>\r\n                        <span v-for=\"status in enableStatus\" :key=\"status.dictionaryKey\" @click=\"chooseUseStatus(status.dictionaryKey)\" :class=\"{'click-status': search.useStatus === status.dictionaryKey}\">\r\n                            {{ status.dictionaryValue }}\r\n                        </span>\r\n                    </Col>\r\n                </div>\r\n            </template>\r\n            <template slot=\"always-show\">\r\n                <Col span=\"6\" class=\"form-item\">\r\n                    <span>附加任务编号:</span>\r\n                    <Input v-model=\"search.taskCode\" clearable />\r\n                </Col>\r\n                <Col span=\"6\" class=\"form-item\">\r\n                    <span>附加任务名称:</span>\r\n                    <Input v-model=\"search.taskName\" clearable />\r\n                </Col>\r\n                <Col span=\"6\" class=\"form-item\">\r\n                    <span style=\"text-align: right; margin-right: 10px;\">运输类型:</span>\r\n                    <Select v-model=\"search.trspType\" clearable>\r\n                        <Option v-for=\"item in transportType\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                    </Select>\r\n                </Col>\r\n            </template>\r\n        </adt-search-folder>\r\n        <div class=\"content\">\r\n            <div class=\"btns-paginator\">\r\n                <adt-button>\r\n                    <Button @click=\"add()\">新增附加任务<Icon type=\"ios-add-circle-outline\" /></Button>\r\n                    <Button @click=\"startUsing()\">{{ '批量启用' + (isManager ? '' : '申请') }}<Icon type=\"ios-add-circle-outline\" /></Button>\r\n                    <Button @click=\"stopUsing()\">\r\n                        {{ '批量停用' + (isManager ? '' : '申请') }}\r\n                        <svg class=\"iconfont\" aria-hidden=\"true\">\r\n                            <use xlink:href=\"#icon-tingyong\" />\r\n                        </svg></Button>\r\n                </adt-button>\r\n                <adt-paginator :currentPage=\"~~page\" :total=\"~~total\" />\r\n            </div>\r\n            <div class=\"public-table-data\">\r\n                <Table :columns=\"columns\" :data=\"tableData\" @on-selection-change=\"selectionChange\" stripe>\r\n                    <template #action=\"{ row }\">\r\n                        <!-- 审核状态为待审核（wait），不显示启用停用按钮 -->\r\n                        <!-- <span class=\"icon-action icon-action-word\" @click=\"startUsing(row)\" v-if=\"row.useStatus !== 'enable' && row.examineStatus !== 'wait'\">启</span>\r\n                        <span class=\"icon-action icon-action-word\" @click=\"stopUsing(row)\"  v-if=\"row.useStatus === 'enable' && row.examineStatus !== 'wait'\">停</span>\r\n                        <Icon class=\"icon-action\" type=\"ios-contact-outline\" @click=\"examine(row)\" v-if=\"isManager && row.examineStatus === 'wait'\" /> -->\r\n                        <span class=\"icon-action icon-action-word\" @click=\"startUsing(row)\" v-if=\"\r\n                        (!row.useStatus || row.useStatus.trim() === '已停用') && row.examineStatus !== '待审核'\">启</span>\r\n                        <span class=\"icon-action icon-action-word\" @click=\"stopUsing(row)\"  v-if=\"(row.useStatus && row.useStatus.trim() === '已启用') && row.examineStatus !== '待审核'\">停</span>\r\n                        <Icon class=\"icon-action\" type=\"ios-contact-outline\" @click=\"examine(row)\" v-if=\"isManager && row.examineStatus === '待审核'\" />\r\n                        <!-- <Icon class=\"icon-action\" type=\"md-create\" @click=\"edit(row)\" /> -->\r\n                        <!-- <Icon class=\"icon-action\" type=\"md-close\" @click=\"remove(row)\" /> -->\r\n                        <Icon class=\"icon-action\" type=\"ios-alert-outline\" @click=\"detail(row)\" />\r\n                    </template>\r\n                    <template #createDatetime=\"{ row }\">\r\n                        {{  timestampFormat(row.createDatetime) }}\r\n                    </template>\r\n                </Table>\r\n            </div>\r\n        </div>\r\n        <!-- 新增附加任务modal -->\r\n        <adt-my-modal\r\n            :title=\"modalTitle\"\r\n            okText=\"保存\"\r\n            :showModal=\"isModalShow\"\r\n            @on-visible-change=\"addVisibleChange\"\r\n            @on-ok=\"save()\"\r\n            @on-cancel=\"cancel()\"\r\n            width=\"70%\">\r\n            <Form\r\n                ref=\"formItemData\"\r\n                inline\r\n                :model=\"formItem\"\r\n                :rules=\"formItemRule\"\r\n                :label-width=\"120\"\r\n                label-colon\r\n                class=\"two-column\"\r\n                >\r\n                <FormItem label=\"附加任务名称\" prop=\"taskName\">\r\n                    <Input v-model=\"formItem.taskName\" maxlength=\"10\" clearable></Input>\r\n                </FormItem>\r\n                <FormItem label=\"物流类型\" prop=\"logisticsType\">\r\n                    <Select v-model=\"formItem.logisticsType\" clearable>\r\n                        <Option v-for=\"item in logisticsType\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                    </Select>\r\n                </FormItem>\r\n                <FormItem label=\"运输类型\" prop=\"trspType\">\r\n                    <Select v-model=\"formItem.trspType\" clearable>\r\n                        <Option v-for=\"item in transportType\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                    </Select>\r\n                </FormItem>\r\n            </Form>\r\n            <div class=\"line\"></div>\r\n            <div class=\"item-title\">\r\n                <span>选择数据项</span>\r\n                <Button @click=\"previewSort()\" type=\"primary\">排序预览</Button>\r\n            </div>\r\n            <Table :columns=\"itemColumns\" :data=\"itemTableData\" @on-selection-change=\"itemSelectionChange\" stripe>\r\n                <template #sort=\"{ row, index }\">\r\n                    <div style=\"position: relative;\">\r\n                        <span class=\"required-tag\">*</span><Input v-model.trim=\"row.sort\" @on-change=\"changeRowData(row, index, 'sort')\" clearable></Input>\r\n                    </div>\r\n                </template>\r\n                <!-- 关联数据项来自当前任务选中的数据项 -->\r\n                <template #relationData=\"{ row, index }\">\r\n                    <Select v-model=\"row.relationData\" @on-change=\"changeRowData(row, index, 'relationData')\" clearable>\r\n                        <Option v-for=\"item in selectedData\" :key=\"item.dataCode\" :value=\"item.dataCode\" :disabled=\"row.dataCode === item.dataCode ? true : false\">{{item.dataName}}</Option>\r\n                    </Select>\r\n                </template>\r\n                <template #isMore=\"{ row, index }\">\r\n                    <Select v-model=\"row.isMore\" @on-change=\"changeRowData(row, index, 'isMore')\" clearable>\r\n                        <Option v-for=\"item in yesOrNo\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                    </Select>\r\n                </template>\r\n                <template #isEdit=\"{ row, index }\">\r\n                    <Select v-model=\"row.isEdit\" @on-change=\"changeRowData(row, index, 'isEdit')\" clearable>\r\n                        <Option v-for=\"item in yesOrNo\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                    </Select>\r\n                </template>\r\n                <template #isShow=\"{ row, index }\">\r\n                    <Select v-model=\"row.isShow\" @on-change=\"changeRowData(row, index, 'isShow')\" clearable>\r\n                        <Option v-for=\"item in yesOrNo\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                    </Select>\r\n                </template>\r\n                <template #rules=\"{ row, index }\">\r\n                    <Select v-model=\"row.rules\" @on-change=\"changeRowData(row, index, 'rules')\" multiple clearable>\r\n                        <Option v-for=\"item in verificationRule\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                    </Select>\r\n                </template>\r\n                <template #action=\"{ row, index }\">\r\n                    <Button size=\"small\" type=\"primary\" ghost @click=\"enterInfo(row, index)\">录入提示信息</Button>\r\n                </template>\r\n            </Table>\r\n        </adt-my-modal>\r\n        <!-- 录入提示信息modal -->\r\n        <adt-my-modal\r\n            title=\"录入提示信息\"\r\n            :showModal=\"isEnterInfoModalShow\"\r\n            @on-visible-change=\"enterInfoVisibleChange\"\r\n            @on-ok=\"enterInfoSave()\">\r\n            <div class=\"content\" style=\"margin: 0 20px;\">\r\n                <div style=\"margin-bottom: 6px;\">填写提示信息：</div>\r\n                <Input v-model=\"prompt\" type=\"textarea\" placeholder=\"请输入内容\" :autosize=\"{minRows: 6}\" />\r\n            </div>\r\n        </adt-my-modal>\r\n        <!-- 排序预览modal -->\r\n        <adt-my-modal\r\n            title=\"预览数据项排序\"\r\n            :showModal=\"isPreviewModalShow\"\r\n            @on-visible-change=\"previewVisibleChange\"\r\n            @on-ok=\"previewSave()\"\r\n            :showCancelBtn=\"false\">\r\n            <Table :columns=\"previewColumns\" :data=\"previewTableData\" stripe></Table>\r\n        </adt-my-modal>\r\n        <!-- 审核modal -->\r\n        <adt-my-modal\r\n            :title=\"examineModalTitle\"\r\n            :showModal=\"isExamineModalShow\"\r\n            @on-visible-change=\"examineVisibleChange\"\r\n            @on-ok=\"examineSave()\"\r\n            width=\"600\">\r\n            <RadioGroup v-model=\"agree\" style=\"margin-bottom: 20px;\">\r\n                <Radio label=\"1\">同意{{ examineType === 1 ? '启用' : '停用' }}</Radio>\r\n                <Radio label=\"0\" style=\"margin-left: 30px;\">不同意{{ examineType === 1 ? '启用' : '停用' }}</Radio>\r\n            </RadioGroup>\r\n            <div v-show=\"agree === '0'\">\r\n                <div class=\"reason-name\" style=\"margin-bottom: 6px;\">填写驳回原因:</div>\r\n                <Input type=\"textarea\" v-model.trim=\"reason\" placeholder=\"请输入内容...\" />\r\n            </div>\r\n        </adt-my-modal>\r\n        <adt-reconfirm-modal :showModal=\"isActionDel\" :message=\"reconfirmMsg\" @on-visible-change=\"visibleChange\" @on-ok=\"allDelClick()\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n    apiAffixTaskQuery,\r\n    apiAffixTaskAdd,\r\n    apiAffixTaskEnable,\r\n    apiAffixTaskDisable,\r\n    apiAffixTaskEnableExamPass,\r\n    apiAffixTaskEnableExamFail,\r\n    apiAffixTaskDisableExamPass,\r\n    apiAffixTaskDisableExamFail,\r\n    apiQueryEnableData\r\n} from '@/api/additionalTask'\r\nimport { apiDictionaryQueryByCacheTypeKey } from '@/api/dictionary'\r\nimport paginator from '@/mixins/paginator'\r\nimport validateRules from '@/libs/validateRules'\r\nimport { timestampFormat, isRepeat } from '@/libs/utils'\r\nexport default {\r\n    name: 'AdditionalTask',\r\n    mixins: [paginator],\r\n    props: {\r\n        taskCode: '',\r\n        taskName: '',\r\n        trspType: '',\r\n        examineStatus: '',\r\n        useStatus: ''\r\n    },\r\n    data () {\r\n        return {\r\n            enableStatus: this.$getDictionary('ENABLE_STATUS'),\r\n            auditStatus: this.$getDictionary('AUDIT_STATUS'),\r\n            transportType: this.$getDictionary('TRANSPORT_TYPE'),\r\n            logisticsType: this.$getDictionary('LOGISTICS_TYPE'),\r\n            verificationRule: this.$getDictionary('VERIFICATION_RULE'),\r\n            yesOrNo: this.$getDictionary('Y_N'),\r\n            search: {\r\n                taskCode: this.taskCode,\r\n                taskName: this.taskName,\r\n                trspType: this.trspType,\r\n                examineStatus: this.examineStatus,\r\n                useStatus: this.useStatus\r\n            },\r\n            // 是否管理员\r\n            isManager: this.$route.query.isManager,\r\n            // 审核类型：{启用: 1, 停用: 0}\r\n            examineType: 1,\r\n            modalTitle: '新增附加任务',\r\n            examineModalTitle: '启用审核',\r\n            isModalShow: false,\r\n            isExamineModalShow: false,\r\n            isEnterInfoModalShow: false,\r\n            isPreviewModalShow: false,\r\n            isActionDel: false,\r\n            reconfirmMsg: '确定删除吗',\r\n            // 审核信息\r\n            examineInfo: {},\r\n            // 新增form信息\r\n            // 如果不写默认值，表单重置后，表单校验会出问题\r\n            formItem: {\r\n                taskName: '',\r\n                logisticsType: '',\r\n                trspType: ''\r\n            },\r\n            tableData: [],\r\n            columns: [\r\n                {\r\n                    title: '选择',\r\n                    align: 'center',\r\n                    type: 'selection',\r\n                    width: 60\r\n                },\r\n                {\r\n                    title: '附加任务编号',\r\n                    align: 'center',\r\n                    key: 'taskCode'\r\n                },\r\n                {\r\n                    title: '附加任务名称',\r\n                    align: 'center',\r\n                    key: 'taskName'\r\n                },\r\n                {\r\n                    title: '物流类型',\r\n                    align: 'center',\r\n                    key: 'logisticsType'\r\n                },\r\n                {\r\n                    title: '运输类型',\r\n                    align: 'center',\r\n                    key: 'trspType'\r\n                },\r\n                {\r\n                    title: '创建人',\r\n                    align: 'center',\r\n                    key: 'createBy'\r\n                },\r\n                {\r\n                    title: '创建时间',\r\n                    align: 'center',\r\n                    slot: 'createDatetime'\r\n                },\r\n                {\r\n                    title: '审核状态',\r\n                    align: 'center',\r\n                    key: 'examineStatus'\r\n                },\r\n                {\r\n                    title: '启用状态',\r\n                    align: 'center',\r\n                    key: 'useStatus'\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    align: 'center',\r\n                    slot: 'action',\r\n                    width: 170\r\n                }\r\n            ],\r\n            formItemRule: {\r\n                taskName: [\r\n                    validateRules.required('附加任务名称')[0]\r\n                ],\r\n                logisticsType: [\r\n                    validateRules.select('物流类型')[0]\r\n                ],\r\n                trspType: [\r\n                    validateRules.select('运输类型')[0]\r\n                ]\r\n            },\r\n            itemTableData: [],\r\n            itemColumns: [\r\n                {\r\n                    title: '选择',\r\n                    align: 'center',\r\n                    type: 'selection',\r\n                    width: 60\r\n                },\r\n                {\r\n                    title: '数据项编码',\r\n                    align: 'center',\r\n                    key: 'dataCode'\r\n                },\r\n                {\r\n                    title: '数据项名称',\r\n                    align: 'center',\r\n                    key: 'dataName'\r\n                },\r\n                {\r\n                    title: '排序值',\r\n                    align: 'center',\r\n                    slot: 'sort'\r\n                },\r\n                {\r\n                    title: '关联数据项',\r\n                    align: 'center',\r\n                    slot: 'relationData'\r\n                },\r\n                {\r\n                    title: '是否多条数据',\r\n                    align: 'center',\r\n                    slot: 'isMore'\r\n                },\r\n                {\r\n                    title: '是否可编辑',\r\n                    align: 'center',\r\n                    slot: 'isEdit'\r\n                },\r\n                {\r\n                    title: '是否展示',\r\n                    align: 'center',\r\n                    slot: 'isShow'\r\n                },\r\n                {\r\n                    title: '校验规则',\r\n                    align: 'center',\r\n                    slot: 'rules'\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    align: 'center',\r\n                    slot: 'action',\r\n                    width: 120\r\n                }\r\n            ],\r\n            previewTableData: [],\r\n            previewColumns: [\r\n                {\r\n                    title: '序号',\r\n                    align: 'center',\r\n                    type: 'index'\r\n                },\r\n                {\r\n                    title: '数据项名称',\r\n                    align: 'center',\r\n                    key: 'dataName'\r\n                },\r\n                {\r\n                    title: '排序值',\r\n                    align: 'center',\r\n                    key: 'sort',\r\n                    sortType: 'asc'\r\n                }\r\n            ],\r\n            // 审核同意、不同意\r\n            agree: '1',\r\n            // 不同意驳回原因\r\n            reason: '',\r\n            // 新增编辑区分  true为新增 false为编辑\r\n            isAdd: true,\r\n            deleteItemInfo: {},\r\n            // 附加任务列表选中的值\r\n            selectionList: [],\r\n            // modal数据项选中的值\r\n            selectedData: [],\r\n            // 录入提示信息row\r\n            enterInfoRow: '',\r\n            // 录入提示信息index\r\n            enterInfoIndex: '',\r\n            // 提示信息\r\n            prompt: ''\r\n        }\r\n    },\r\n    methods: {\r\n        // 格式化时间\r\n        timestampFormat (timeStamp) {\r\n            return timestampFormat(timeStamp)\r\n        },\r\n        chooseExamineStatus (id) {\r\n            if (this.search.examineStatus === id) {\r\n                this.search.examineStatus = ''\r\n            } else {\r\n                this.search.examineStatus = id\r\n            }\r\n        },\r\n        chooseUseStatus (id) {\r\n            if (this.search.useStatus === id) {\r\n                this.search.useStatus = ''\r\n            } else {\r\n                this.search.useStatus = id\r\n            }\r\n        },\r\n        selectionChange (selectionList) {\r\n            this.selectionList = selectionList\r\n        },\r\n        itemSelectionChange (selectedData) {\r\n            this.selectedData = selectedData\r\n        },\r\n        addVisibleChange (changeStatus) {\r\n            this.isModalShow = changeStatus\r\n        },\r\n        examineVisibleChange (changeStatus) {\r\n            this.isExamineModalShow = changeStatus\r\n        },\r\n        enterInfoVisibleChange (changeStatus) {\r\n            this.isEnterInfoModalShow = changeStatus\r\n        },\r\n        previewVisibleChange (changeStatus) {\r\n            this.isPreviewModalShow = changeStatus\r\n        },\r\n        visibleChange (changeStatus) {\r\n            this.isActionDel = changeStatus\r\n        },\r\n        // 点击搜索调用查询接口\r\n        dataInit () {\r\n            this.getData()\r\n        },\r\n        getData () {\r\n            const data = {\r\n                page: this.page,\r\n                ...this.search\r\n            }\r\n            apiAffixTaskQuery({ data }).then(res => {\r\n                this.tableData = res.data.content || []\r\n                this.tableData.forEach(item => {\r\n                    item.controlType === 'text'? item.controlType = '文本框': item.controlType = '下拉框'\r\n                    item.dataType === 'string'? item.dataType = '字符串': item.dataType = '数字'\r\n                })\r\n                this.total = res.data.totalElements\r\n            })\r\n        },\r\n        // 新增附加任务\r\n        add () {\r\n            this.getItemData()\r\n            this.isModalShow = true\r\n            this.modalTitle = '新增附加任务'\r\n            this.isAdd = true\r\n        },\r\n        getItemData () {\r\n            apiQueryEnableData().then(({ data }) => {\r\n                this.itemTableData = data\r\n            })\r\n        },\r\n        startUsing (dataSource) {\r\n            const data = this.handleRequestData(dataSource)\r\n            // 批量操作，没有选择附加任务\r\n            if (!data.length) return\r\n            apiAffixTaskEnable({ data }).then(res => {\r\n                this.$Message.info(res.message)\r\n                this.getData()\r\n            })\r\n        },\r\n        stopUsing (dataSource) {\r\n            const data = this.handleRequestData(dataSource)\r\n            // 批量操作，没有选择附加任务\r\n            if (!data.length) return\r\n            apiAffixTaskDisable({ data }).then(res => {\r\n                this.$Message.info(res.message)\r\n                this.getData()\r\n            })\r\n        },\r\n        // 将数据处理成ajax请求需要的入参数据\r\n        handleRequestData (data) {\r\n            const requestData = []\r\n            // 单个启用、停用\r\n            if (data) {\r\n                requestData.push(handle(data))\r\n                return requestData\r\n            } else {\r\n                // 批量启用、停用\r\n                if (!this.selectionList.length) {\r\n                    this.$Message.warning('请先选择附加任务')\r\n                } else {\r\n                    for (const list of this.selectionList) {\r\n                        requestData.push(handle(list))\r\n                    }\r\n                }\r\n                return requestData\r\n            }\r\n            function handle (obj) {\r\n                const { taskCode, useStatus, version, examineStatus } = obj\r\n                return {\r\n                    taskCode,\r\n                    useStatus,\r\n                    version,\r\n                    examineStatus\r\n                }\r\n            }\r\n        },\r\n        // 修改附加任务\r\n        edit (row) {\r\n            this.isAdd = false\r\n            const params = {name: row.name}\r\n            getAffixTaskQuery(params).then(res => {\r\n                this.formItem = res.data\r\n                this.formItem.maxLength = this.formItem.maxLength.toString()\r\n                this.formItem.rules = res.data.rules || []\r\n                this.isModalShow = true\r\n                this.modalTitle = '编辑附加任务'\r\n            })\r\n        },\r\n        remove (row) {\r\n            this.isActionDel = true\r\n            this.deleteItemInfo = {name: row.name}\r\n        },\r\n        detail (row) {\r\n            this.$router.push(`/standard-mapper/additional-task/detail/${row.taskCode}`)\r\n        },\r\n        allDelClick () {\r\n            apiAffixTaskDel(this.deleteItemInfo).then(res => {\r\n                if (res.code == 200) {\r\n                    this.$Message.info(\"删除成功\")\r\n                    // 隐藏模态框\r\n                    this.isActionDel = false\r\n                    // 刷新列表\r\n                    this.getData()\r\n                } else {\r\n                    this.$Message.info(\"删除失败\")\r\n                }\r\n            })\r\n        },\r\n        // 数据项发生改变\r\n        changeRowData (row, index, key) {\r\n            // 将改行改变后的数据更新到accountData，后续选中才有数据\r\n            this.itemTableData[index] = row\r\n            // 先选中，再选择帐户类型，需要手动改变选中的帐户的帐户类型\r\n            for (const item of this.selectedData) {\r\n                if (item.dataCode === row.dataCode) {\r\n                    // 排序值在后面的排序要用到，要转换成Number类型，不然字符串之间比较大小会出错\r\n                    if (key === 'sort') {\r\n                        // Number(row[key])可能会被转换成NaN\r\n                        item[key] = Number(row[key])\r\n                    } else {\r\n                        item[key] = row[key]\r\n                    }\r\n                    break\r\n                }\r\n            }\r\n        },\r\n        // 保存\r\n        save () {\r\n            const vm = this\r\n            this.$refs.formItemData.validate((valid) => {\r\n                if (valid) {\r\n                    if (!this.verifyItem()) return\r\n                    const data = { ...this.formItem }\r\n                    data.datas = this.selectedData\r\n                    // 新增保存\r\n                    if (this.isAdd) {\r\n                        apiAffixTaskAdd({ data }).then(res => {\r\n                            successCallback()\r\n                        })\r\n                    } else {\r\n                        // 编辑保存\r\n                        apiAffixTaskUpdate({ data }).then(res => {\r\n                            successCallback()\r\n                        })\r\n                    }\r\n                }\r\n            })\r\n            function successCallback () {\r\n                vm.$Message.info(\"保存成功\")\r\n                // 重置表单数据\r\n                vm.$refs.formItemData.resetFields()\r\n                // 重置选中的数据项\r\n                vm.selectedData = []\r\n                // 隐藏新增模态框\r\n                vm.isModalShow = false\r\n                // 刷新列表\r\n                vm.getData()\r\n            }\r\n        },\r\n        cancel () {\r\n            this.$refs.formItemData.resetFields()\r\n            // 重置选中的数据项\r\n            this.selectedData = []\r\n        },\r\n        examine (row) {\r\n            // 根据状态判断是启用审核\r\n            if (row.useStatus !== 'enable') {\r\n                this.examineType = 1\r\n                this.examineModalTitle = '启用审核'\r\n            } else {\r\n                this.examineType = 0\r\n                this.examineModalTitle = '停用审核'\r\n            }\r\n            this.examineInfo.taskCode = row.taskCode\r\n            this.examineInfo.version = row.version\r\n            this.isExamineModalShow = true\r\n        },\r\n        examineSave () {\r\n            const data = { ...this.examineInfo}\r\n            // 启用审核\r\n            if (this.examineType === 1) {\r\n                // 同意\r\n                if (this.agree === '1') {\r\n                    apiAffixTaskEnableExamPass({ data }).then(res => {\r\n                        this.$Message.info(res.message)\r\n                        this.isExamineModalShow = false\r\n                        this.getData()\r\n                    })\r\n                } else {\r\n                    if (!this.reason) {\r\n                        this.$Message.warning('请填写驳回原因！')\r\n                        return\r\n                    }\r\n                    data.message = this.reason\r\n                    // 不同意\r\n                    apiAffixTaskEnableExamFail({ data }).then(res => {\r\n                        this.$Message.info(res.message)\r\n                        this.isExamineModalShow = false\r\n                        this.getData()\r\n                    })\r\n                }\r\n            } else {\r\n                // 停用审核\r\n                // 同意\r\n                if (this.agree === '1') {\r\n                    apiAffixTaskDisableExamPass({ data }).then(res => {\r\n                        this.$Message.info(res.message)\r\n                        this.isExamineModalShow = false\r\n                        this.getData()\r\n                    })\r\n                } else {\r\n                    if (!this.reason) {\r\n                        this.$Message.warning('请填写输入驳回原因！')\r\n                        return\r\n                    }\r\n                    data.message = this.reason\r\n                    // 不同意\r\n                    apiAffixTaskDisableExamFail({ data }).then(res => {\r\n                        this.$Message.info(res.message)\r\n                        this.isExamineModalShow = false\r\n                        this.getData()\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        enterInfo (row, index) {\r\n            this.enterInfoRow = row\r\n            this.enterInfoIndex = index\r\n            this.prompt = row.message\r\n            this.isEnterInfoModalShow = true\r\n        },\r\n        // 录入提示信息确定\r\n        enterInfoSave () {\r\n            this.$set(this.itemTableData[this.enterInfoIndex], 'message', this.prompt)\r\n            // 先选中，再选择帐户类型，需要手动改变选中的帐户的帐户类型\r\n            for (const item of this.selectedData) {\r\n                if (item.dataCode === this.enterInfoRow.dataCode) {\r\n                    item.message = this.enterInfoRow.message\r\n                    break\r\n                }\r\n            }\r\n            this.isEnterInfoModalShow = false\r\n        },\r\n        previewSave () {\r\n            this.isPreviewModalShow = false\r\n        },\r\n        // 排序预览\r\n        previewSort () {\r\n            if (!this.verifyItem()) return\r\n            this.previewTableData = this.selectedData\r\n            this.isPreviewModalShow = true\r\n        },\r\n        // 新增任务保存、预览排序校验\r\n        verifyItem () {\r\n            // 至少选择一个数据项\r\n            // 没有这个需求\r\n            // if (!this.selectedData.length) {\r\n            //     this.$Message.warning('请至少选择一个数据项！')\r\n            //     return false\r\n            // }\r\n            const sort = []\r\n            for (const item of this.selectedData) {\r\n                // 勾选的数据项的排序值必填\r\n                // 排序值可能会被转换成NaN\r\n                if (!item.sort && !Number.isNaN(item.sort)) {\r\n                    this.$Message.warning('选中的数据项的排序值必填！')\r\n                    return false\r\n                }\r\n                // 排序值只能是正整数\r\n                if (!/^\\d+$/.test(item.sort)) {\r\n                    this.$Message.warning('排序值只能是整数！')\r\n                    return\r\n                }\r\n                // 勾选的数据项的关联数据项不是是它本身\r\n                if (item.dataCode === item.relationData) {\r\n                    this.$Message.warning('选中的数据项的关联数据项不是是它本身！')\r\n                    return false\r\n                }\r\n                sort.push(item.sort)\r\n            }\r\n            // 勾选的数据项的排序值不能重复\r\n            if (isRepeat(sort)) {\r\n                this.$Message.warning('选中的数据项的排序值不能重复！')\r\n                return false\r\n            }\r\n            return true\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .line {\r\n        border-top: 1px dashed $border-color;\r\n        margin-bottom: 20px;\r\n    }\r\n    .item-title {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin-bottom: 6px;\r\n    }\r\n    .required-tag {\r\n        position: absolute;\r\n        left: -10px;\r\n        z-index: 10;\r\n        height: 32px;\r\n        line-height: 32px;\r\n        font-size: 14px;\r\n        font-family: SimSun;\r\n        color: #ff001b;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./List.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./List.vue?vue&type=template&id=9f11f9a8&scoped=true&\"\nimport script from \"./List.vue?vue&type=script&lang=js&\"\nexport * from \"./List.vue?vue&type=script&lang=js&\"\nimport style0 from \"./List.vue?vue&type=style&index=0&id=9f11f9a8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f11f9a8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}