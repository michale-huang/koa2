{"version":3,"sources":["webpack:///./node_modules/_core-js@3.6.5@core-js/modules/es.array.find.js","webpack:///./src/api/menuPermission.js","webpack:///./src/pages/authority-manage/MenuPermission.vue?e3b5","webpack:///./src/pages/authority-manage/MenuPermission.vue?c0ce","webpack:///src/pages/authority-manage/MenuPermission.vue","webpack:///./src/pages/authority-manage/MenuPermission.vue?152f","webpack:///./src/pages/authority-manage/MenuPermission.vue"],"names":["$","$find","find","addToUnscopables","arrayMethodUsesToLength","FIND","SKIPS_HOLES","USES_TO_LENGTH","Array","target","proto","forced","callbackfn","this","arguments","length","undefined","apiAppInfoQueryList","data","postRequest","baseUrl","apiMenuInfoQueryByAppCode","getRequest","apiMenuInfoAdd","apiMenuInfoUpdate","apiCargoPageHomeList","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","treeData","menuRender","showDeleteModal","on","deleteVisibleChange","handleDeleteModalOk","showItemModal","itemTitle","visibleChange","handleItemModalOk","ref","itemData","ruleValidate","handleChooseType","model","value","callback","$$v","$set","expression","_v","staticStyle","_e","trim","staticRenderFns","component"],"mappings":"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","file":"js/chunk-168aa6a5.008497ef.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength(FIND);\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES || !USES_TO_LENGTH }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","import { postRequest, getRequest } from './common'\r\nimport { permission as baseUrl } from './api'\r\n\r\n// 获取应用\r\nexport const apiAppInfoQueryList = data => {\r\n    return postRequest(`${baseUrl}/appInfo/appInfoQueryList`, data)\r\n}\r\n\r\n// 根据应用CODE查询菜单权限\r\nexport const apiMenuInfoQueryByAppCode = data => {\r\n    return getRequest(`${baseUrl}/menu/menuInfoQueryByAppCode`, data)\r\n}\r\n\r\n// 添加菜单信息\r\nexport const apiMenuInfoAdd = data => {\r\n    return postRequest(`${baseUrl}/menu/menuInfoAdd`, data)\r\n}\r\n\r\n// 修改菜单信息\r\nexport const apiMenuInfoUpdate = data => {\r\n    return postRequest(`${baseUrl}/menu/menuInfoUpdate`, data)\r\n}\r\n\r\n// 删除菜单信息\r\nexport const apiCargoPageHomeList = data => {\r\n    return getRequest(`${baseUrl}/menu/menuInfoDelete`, data)\r\n}\r\n\r\n// 根据ID查询菜单信息\r\nexport const apiMenuInfoQueryByMenuId = data => {\r\n    return getRequest(`${baseUrl}/menu/menuInfoQueryByMenuId`, data)\r\n}\r\n","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./MenuPermission.vue?vue&type=style&index=0&id=0ed6adec&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./MenuPermission.vue?vue&type=style&index=0&id=0ed6adec&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-permission\"},[_c('Tree',{attrs:{\"data\":_vm.treeData,\"render\":_vm.menuRender,\"children-key\":\"menuInfoList\"}}),_c('adt-reconfirm-modal',{attrs:{\"showModal\":_vm.showDeleteModal},on:{\"on-visible-change\":_vm.deleteVisibleChange,\"on-ok\":_vm.handleDeleteModalOk}}),_c('adt-my-modal',{attrs:{\"showModal\":_vm.showItemModal,\"title\":_vm.itemTitle},on:{\"on-visible-change\":_vm.visibleChange,\"on-ok\":_vm.handleItemModalOk}},[_c('Form',{ref:\"formValidate\",attrs:{\"model\":_vm.itemData,\"rules\":_vm.ruleValidate,\"label-colon\":true,\"label-position\":\"left\",\"label-width\":120}},[(_vm.showType)?_c('FormItem',{attrs:{\"label\":\"新增项\",\"prop\":\"menuType\"}},[_c('RadioGroup',{on:{\"on-change\":_vm.handleChooseType},model:{value:(_vm.itemData.menuType),callback:function ($$v) {_vm.$set(_vm.itemData, \"menuType\", $$v)},expression:\"itemData.menuType\"}},[_c('Radio',{attrs:{\"label\":\"1\"}},[_vm._v(\" 菜单项 \")]),_c('Radio',{staticStyle:{\"margin-left\":\"30px\"},attrs:{\"label\":\"2\"}},[_vm._v(\" 功能项 \")])],1)],1):_vm._e(),_c('FormItem',{attrs:{\"label\":\"名称\",\"prop\":\"menuName\"}},[_c('Input',{model:{value:(_vm.itemData.menuName),callback:function ($$v) {_vm.$set(_vm.itemData, \"menuName\", $$v)},expression:\"itemData.menuName\"}})],1),_c('FormItem',{attrs:{\"label\":\"编码code\",\"prop\":\"menuCode\"}},[_c('Input',{model:{value:(_vm.itemData.menuCode),callback:function ($$v) {_vm.$set(_vm.itemData, \"menuCode\", $$v)},expression:\"itemData.menuCode\"}})],1),_c('FormItem',{attrs:{\"label\":\"状态\",\"prop\":\"menuStatus\"}},[_c('Select',{model:{value:(_vm.itemData.menuStatus),callback:function ($$v) {_vm.$set(_vm.itemData, \"menuStatus\", $$v)},expression:\"itemData.menuStatus\"}},[_c('Option',{attrs:{\"value\":\"enable\"}},[_vm._v(\"可用\")]),_c('Option',{attrs:{\"value\":\"disable\"}},[_vm._v(\"不可用\")])],1)],1),_c('FormItem',{attrs:{\"label\":\"页面路由URL\",\"prop\":\"menuRoute\"}},[_c('Input',{model:{value:(_vm.itemData.menuRoute),callback:function ($$v) {_vm.$set(_vm.itemData, \"menuRoute\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"itemData.menuRoute\"}})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"menu-permission\">\r\n        <Tree\r\n            :data=\"treeData\"\r\n            :render=\"menuRender\"\r\n            children-key=\"menuInfoList\"\r\n            >\r\n        </Tree>\r\n        <!-- 删除二次确认modal -->\r\n        <adt-reconfirm-modal\r\n            :showModal=\"showDeleteModal\"\r\n            @on-visible-change=\"deleteVisibleChange\"\r\n            @on-ok=\"handleDeleteModalOk\">\r\n        </adt-reconfirm-modal>\r\n        <!-- 新增、编辑菜单(功能)modal -->\r\n        <adt-my-modal\r\n            :showModal=\"showItemModal\"\r\n            :title=\"itemTitle\"\r\n            @on-visible-change=\"visibleChange\"\r\n            @on-ok=\"handleItemModalOk\">\r\n            <Form\r\n                ref=\"formValidate\"\r\n                :model=\"itemData\"\r\n                :rules=\"ruleValidate\"\r\n                :label-colon=\"true\"\r\n                label-position=\"left\"\r\n                :label-width=\"120\">\r\n                <FormItem label=\"新增项\" prop=\"menuType\" v-if=\"showType\">\r\n                    <RadioGroup v-model=\"itemData.menuType\" @on-change=\"handleChooseType\">\r\n                        <Radio label=\"1\">\r\n                            菜单项\r\n                        </Radio>\r\n                        <Radio label=\"2\" style=\"margin-left: 30px;\">\r\n                            功能项\r\n                        </Radio>\r\n                    </RadioGroup>\r\n                </FormItem>\r\n                <!-- <div class=\"line\"></div> -->\r\n                <!-- 菜单项 -->\r\n                    <FormItem label=\"名称\" prop=\"menuName\">\r\n                        <Input v-model=\"itemData.menuName\" />\r\n                    </FormItem>\r\n                    <FormItem label=\"编码code\" prop=\"menuCode\">\r\n                        <Input v-model=\"itemData.menuCode\" />\r\n                    </FormItem>\r\n                    <FormItem label=\"状态\" prop=\"menuStatus\">\r\n                        <Select v-model=\"itemData.menuStatus\">\r\n                            <Option value=\"enable\">可用</Option>\r\n                            <Option value=\"disable\">不可用</Option>\r\n                        </Select>\r\n                    </FormItem>\r\n                    <FormItem label=\"页面路由URL\" prop=\"menuRoute\">\r\n                        <Input v-model.trim=\"itemData.menuRoute\" />\r\n                    </FormItem>\r\n            </Form>\r\n        </adt-my-modal>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {\r\n        apiAppInfoQueryList,\r\n        apiMenuInfoQueryByAppCode,\r\n        apiMenuInfoAdd,\r\n        apiMenuInfoUpdate,\r\n        apiMenuInfoQueryByMenuId,\r\n        apiCargoPageHomeList\r\n    } from '@/api/menuPermission'\r\n    import validateRules from '@/libs/validateRules'\r\n    export default {\r\n        data () {\r\n            return {\r\n                itemTitle: '新增项',\r\n                showItemModal: false,\r\n                showDeleteModal: false,\r\n                showType: true,\r\n                parentData: '',\r\n                editData: '',\r\n                deleteData: {\r\n                    root: '',\r\n                    node: '',\r\n                    data: ''\r\n                },\r\n                itemData: {\r\n                    menuType: '',\r\n                    menuName: '',\r\n                    menuCode: '',\r\n                    menuStatus: '',\r\n                    menuRoute: ''\r\n                },\r\n                ruleValidate: {\r\n                    menuType: [\r\n                        validateRules.select('新增项')[0]\r\n                    ],\r\n                    menuName: [\r\n                        validateRules.required('名称')[0]\r\n                    ],\r\n                    menuCode: [\r\n                        validateRules.required('编码code')[0]\r\n                    ],\r\n                    menuStatus: [\r\n                        validateRules.required('状态')[0]\r\n                    ]\r\n                    // menuRoute: [\r\n                    //     {\r\n                    //         required: true, message: '请输入页面路由URL'\r\n                    //     }\r\n                    // ]\r\n                },\r\n                treeData: []\r\n            }\r\n        },\r\n        created () {\r\n            this.initData()\r\n        },\r\n        methods: {\r\n            initData () {\r\n                // 获取应用\r\n                apiAppInfoQueryList().then(({ data }) => {\r\n                    this.treeData = []\r\n                    for (const app of data) {\r\n                        app.render = this.appRender\r\n                        app.menuInfoList = []\r\n                        this.treeData.push(app)\r\n                        // 根据应用CODE查询菜单权限\r\n                        apiMenuInfoQueryByAppCode({ path: app.appCode }).then(({ data }) => {\r\n                            app.menuInfoList = data\r\n                            this.recursion(app)\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            visibleChange (data) {\r\n                this.showItemModal = data\r\n            },\r\n            deleteVisibleChange (data) {\r\n                this.showDeleteModal = data\r\n            },\r\n            // 递归，给每一层添加对应的render和icon（可能有）\r\n            recursion (data) {\r\n                // 是功能，不是菜单\r\n                if (data.menuType === '2') {\r\n                    data.render = this.functionRender\r\n                }\r\n                const menuInfoList = data.menuInfoList\r\n                if (menuInfoList) {\r\n                    for (const child of menuInfoList) {\r\n                        this.recursion(child)\r\n                    }\r\n                }\r\n            },\r\n            // 应用（最外层）render\r\n            appRender (h, { root, node, data }) {\r\n                return h('span', {\r\n                    style: {\r\n                        display: 'inline-block',\r\n                        width: '100%'\r\n                    }\r\n                }, [\r\n                    h('span', [\r\n                        h('span', data.appName)\r\n                    ]),\r\n                    h('span', {\r\n                        style: {\r\n                            display: 'inline-block',\r\n                            float: 'right',\r\n                            marginRight: '32px'\r\n                        }\r\n                    }, [\r\n                        h('Poptip', {\r\n                            props: {\r\n                                disabled: true,\r\n                                trigger: 'hover',\r\n                                placement: 'bottom',\r\n                                content: '添加下级',\r\n                            }\r\n                        }, [\r\n                            h('Icon', {\r\n                                props: {\r\n                                    type: 'ios-add'\r\n                                },\r\n                                style: {\r\n                                    fontSize: '24px'\r\n                                },\r\n                                on: {\r\n                                    click: () => { this.append(data) }\r\n                                }\r\n                            }),\r\n                        ])\r\n                    ])\r\n                ]);\r\n            },\r\n            // 菜单render\r\n            menuRender (h, { root, node, data }) {\r\n                return h('span', {\r\n                    style: {\r\n                        display: 'inline-block',\r\n                        width: '100%'\r\n                    }\r\n                }, [\r\n                    h('span', [\r\n                        h('span', data.menuName)\r\n                    ]),\r\n                    h('span', {\r\n                        style: {\r\n                            display: 'inline-block',\r\n                            float: 'right',\r\n                            marginRight: '32px'\r\n                        }\r\n                    }, [\r\n                        h('span', {\r\n                            style: {\r\n                                padding: '2px',\r\n                                fontSize: '12px',\r\n                                borderRadius: '4px',\r\n                                border: data.menuStatus === 'enable' ? '1px solid #02ADB5' : '1px solid #999',\r\n                                color: data.menuStatus === 'enable' ? '#02ADB5' : '#999'\r\n                            }\r\n                        }, data.menuStatus === 'enable' ? '可用' : '不可用'),\r\n                        h('Poptip', {\r\n                            props: {\r\n                                disabled: true,\r\n                                trigger: 'hover',\r\n                                placement: 'bottom',\r\n                                content: '添加菜单项'\r\n                            }\r\n                        }, [\r\n                            h('Icon', {\r\n                                props: {\r\n                                    type: 'ios-add'\r\n                                },\r\n                                style: {\r\n                                    fontSize: '24px'\r\n                                },\r\n                                on: {\r\n                                    click: () => { this.append(data) }\r\n                                }\r\n                            }),\r\n                        ]),\r\n                        h('Poptip', {\r\n                            props: {\r\n                                disabled: true,\r\n                                trigger: 'hover',\r\n                                placement: 'bottom',\r\n                                content: '编辑菜单项'\r\n                            }\r\n                        }, [\r\n                            h('Icon', {\r\n                                props: {\r\n                                    type: 'md-create'\r\n                                },\r\n                                style: {\r\n                                    fontSize: '16px',\r\n                                    position: 'relative',\r\n                                    top: '-3px'\r\n                                },\r\n                                on: {\r\n                                    click: () => { this.edit(data) }\r\n                                }\r\n                            }),\r\n                        ]),\r\n                        h('Poptip', {\r\n                            props: {\r\n                                disabled: true,\r\n                                trigger: 'hover',\r\n                                placement: 'bottom',\r\n                                content: '删除菜单项'\r\n                            }\r\n                        }, [\r\n                            h('Icon', {\r\n                                props: {\r\n                                    type: 'ios-close'\r\n                                },\r\n                                style: {\r\n                                    fontSize: '24px'\r\n                                },\r\n                                on: {\r\n                                    click: () => { this.remove(root, node, data) }\r\n                                }\r\n                            }),\r\n                        ])\r\n                    ])\r\n                ]);\r\n            },\r\n            // 功能render\r\n            functionRender (h, { root, node, data }) {\r\n                return h('span', {\r\n                    style: {\r\n                        display: 'inline-block',\r\n                        width: '100%'\r\n                    }\r\n                }, [\r\n                    h('span', [\r\n                        h('span', data.menuName)\r\n                    ]),\r\n                    h('span', {\r\n                        style: {\r\n                            display: 'inline-block',\r\n                            float: 'right',\r\n                            marginRight: '32px'\r\n                        }\r\n                    }, [\r\n                        h('Poptip', {\r\n                            props: {\r\n                                disabled: true,\r\n                                trigger: 'hover',\r\n                                placement: 'bottom',\r\n                                content: '编辑功能'\r\n                            }\r\n                        }, [\r\n                            h('Icon', {\r\n                                props: {\r\n                                    type: 'md-create'\r\n                                },\r\n                                style: {\r\n                                    fontSize: '16px',\r\n                                    position: 'relative',\r\n                                    top: '-3px'\r\n                                },\r\n                                on: {\r\n                                    click: () => { this.edit(data) }\r\n                                }\r\n                            }),\r\n                        ]),\r\n                        h('Poptip', {\r\n                            props: {\r\n                                disabled: true,\r\n                                trigger: 'hover',\r\n                                placement: 'bottom',\r\n                                content: '删除功能'\r\n                            }\r\n                        }, [\r\n                            h('Icon', {\r\n                                props: {\r\n                                    type: 'ios-close'\r\n                                },\r\n                                style: {\r\n                                    fontSize: '24px'\r\n                                },\r\n                                on: {\r\n                                    click: () => { this.remove(root, node, data) }\r\n                                }\r\n                            }),\r\n                        ])\r\n                    ])\r\n                ]);\r\n            },\r\n            // 新增菜单、功能\r\n            append (data) {\r\n                this.showItemModal = true\r\n                this.parentData = data\r\n                this.itemData.menuType = ''\r\n                this.showType = true\r\n                this.itemTitle = '新增'\r\n                // 重置\r\n                this.$refs.formValidate.fields.forEach(e => {\r\n                    e.resetField()\r\n                })\r\n            },\r\n            // 编辑菜单、功能\r\n            edit (data) {\r\n                this.parentData = data\r\n                this.showType = false\r\n                this.itemTitle = '编辑'\r\n                // apiMenuInfoQueryByMenuId({ data: data.menuId }).then(({ data }) => {\r\n                this.editData = data\r\n                this.itemData.menuType =  data.menuType\r\n                this.itemData.menuName =  data.menuName\r\n                this.itemData.menuCode =  data.menuCode\r\n                this.itemData.menuStatus =  data.menuStatus\r\n                this.itemData.menuRoute =  data.menuRoute\r\n                this.showItemModal = true\r\n                // })\r\n            },\r\n            handleItemModalOk () {\r\n                this.$refs.formValidate.validate((valid) => {\r\n                    if (valid) {\r\n                        // let [menuName, render] = [this.itemData.menuName, '']\r\n                        // // 添加菜单项\r\n                        // if (this.itemData.menuType === '2') {\r\n                        //     render = this.functionRender\r\n                        // }\r\n                        let promise = new Promise(resolve => {\r\n                                // 新增\r\n                                if (this.showType) {\r\n                                    const data = { ...this.itemData, ...{ appCode: this.parentData.appCode, menuPid: this.parentData.menuId || 0 } }\r\n                                    apiMenuInfoAdd({ data }).then(({ data }) => {\r\n                                        resolve()\r\n                                    })\r\n                                } else {\r\n                                    // 编辑\r\n                                    const data = { ...this.itemData, ...{ menuId: this.editData.menuId, menuPid: this.editData.menuPid, version: this.editData.version } }\r\n                                    apiMenuInfoUpdate({ data }).then(({ data }) => {\r\n                                        resolve()\r\n                                    })\r\n                                }\r\n                        })\r\n                        promise.then(() => {\r\n                            this.showItemModal = false\r\n                            this.initData()\r\n                            // const menuInfoList = this.parentData.menuInfoList || []\r\n                            // menuInfoList.push({\r\n                            //     menuName,\r\n                            //     render\r\n                            // })\r\n                            // this.$set(this.parentData, 'menuInfoList', menuInfoList)\r\n                        })\r\n                    }\r\n                })\r\n            },\r\n            // 移除菜单、功能\r\n            remove (root, node, data) {\r\n                this.showDeleteModal = true\r\n                this.deleteData = { root, node, data }\r\n            },\r\n            handleDeleteModalOk () {\r\n                let menuId = this.deleteData.data.menuId\r\n                let promise = new Promise(resolve => {\r\n                    apiCargoPageHomeList({ data: menuId }).then(({ data }) => {\r\n                        resolve()\r\n                    })\r\n                })\r\n                promise.then(() => {\r\n                    // this.initData()\r\n                    this.showDeleteModal = false\r\n                    const parentKey = this.deleteData.root.find(el => el === this.deleteData.node).parent\r\n                    const parent = this.deleteData.root.find(el => el.nodeKey === parentKey).node\r\n                    const index = parent.menuInfoList.indexOf(this.deleteData.data)\r\n                    parent.menuInfoList.splice(index, 1)\r\n                })\r\n            },\r\n            handleChooseType () {\r\n                // 重置\r\n                // this.$refs.formValidate.fields.forEach(e => {\r\n                //     if (e.prop !== 'type') {\r\n                //         e.resetField()\r\n                //     }\r\n                // })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .menu-permission {\r\n        height: 100%;\r\n        padding: 20px 10%;\r\n        background-color: #fff;\r\n    }\r\n    /deep/ .ivu-tree-title {\r\n        width: 100%;\r\n    }\r\n    div + .line {\r\n        border-top: 1px solid $border-color;\r\n        margin-bottom: 12px;\r\n    }\r\n    /deep/ .ivu-poptip {\r\n        margin-left: 12px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./MenuPermission.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./MenuPermission.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuPermission.vue?vue&type=template&id=0ed6adec&scoped=true&\"\nimport script from \"./MenuPermission.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuPermission.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MenuPermission.vue?vue&type=style&index=0&id=0ed6adec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ed6adec\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}