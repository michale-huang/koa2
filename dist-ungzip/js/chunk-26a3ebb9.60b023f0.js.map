{"version":3,"sources":["webpack:///./src/pages/product-editor/AddSiteProduct.vue?deb2","webpack:///src/pages/product-editor/AddSiteProduct.vue","webpack:///./src/pages/product-editor/AddSiteProduct.vue?2cac","webpack:///./src/pages/product-editor/AddSiteProduct.vue","webpack:///./src/pages/product-editor/AddSiteProduct.vue?34ea"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","on","goToAddProduct","model","value","callback","$$v","productType","expression","_l","item","key","dictionaryKey","attrs","_s","dictionaryValue","ref","siteData","ruleValidate","changeDispatchCity","$set","option","index","label","staticStyle","parameterData","parameterRuleValidate","$event","handleReset","saveParameter","curCollapse","product","serverCode","_e","parameters","hasPendingProduct","stopPropagation","saveProduct","slot","class","spread","isSceneSpread","sceneNames","sceneTabIndex","handleSceneBtn","chooseScene","idx","directives","name","rawName","curSceneName","titleNames","tabIndex","handleBtn","scenesList","taskBasesList","_n","trim","trspType","lists","isBasicTask","additionalTask","taskName","isSceneModalShow","sceneVisibleChange","confirmChooseScene","sceneName","searchScene","previewSort","sceneColumns","sceneTableData","selectionChange","scopedSlots","_u","fn","row","changeRowData","previewColumns","previewTableData","staticRenderFns","component"],"mappings":"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","file":"js/chunk-26a3ebb9.60b023f0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"add-product\"},[_c('div',{staticClass:\"choose-type\"},[_vm._v(\" 选择服务产品类型： \"),_c('Select',{on:{\"on-change\":_vm.goToAddProduct},model:{value:(_vm.productType),callback:function ($$v) {_vm.productType=$$v},expression:\"productType\"}},_vm._l((_vm.serviceType),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)],1),_c('div',{staticClass:\"white-bg\"},[_c('div',{staticClass:\"add-site\"},[_c('Row',[_c('Col',{attrs:{\"span\":\"3\"}},[_c('div',{staticClass:\"name\"},[_vm._v(\"添加场所:\")])]),_c('Col',{attrs:{\"span\":\"21\"}},[_c('Form',{ref:\"formValidate\",attrs:{\"inline\":\"\",\"model\":_vm.siteData,\"rules\":_vm.ruleValidate,\"label-colon\":true,\"label-position\":\"left\",\"label-width\":85}},[_c('FormItem',{attrs:{\"label\":\"国家城市\",\"prop\":\"dispatchCity\"}},[_c('adt-city-selector',{on:{\"on-change\":_vm.changeDispatchCity}})],1),_c('FormItem',{attrs:{\"label\":\"选择场所\",\"prop\":\"dispatchSite\"}},[_c('Select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.siteData.dispatchSite),callback:function ($$v) {_vm.$set(_vm.siteData, \"dispatchSite\", $$v)},expression:\"siteData.dispatchSite\"}},_vm._l((_vm.dispatchOptions),function(option,index){return _c('Option',{key:index,attrs:{\"value\":((option.value) + \"~\" + (option.label))}},[_vm._v(_vm._s(option.label))])}),1)],1)],1)],1)],1)],1),_c('div',{staticClass:\"choose-parameter\"},[_c('h6',{staticStyle:{\"margin-top\":\"0\"}},[_vm._v(\"选择参数：\")]),_c('div',{staticClass:\"container\"},[_c('Form',{ref:\"parameterFormValidate\",attrs:{\"inline\":\"\",\"model\":_vm.parameterData,\"rules\":_vm.parameterRuleValidate,\"label-colon\":true,\"label-position\":\"left\",\"label-width\":126}},[_c('FormItem',{attrs:{\"label\":\"运输类型\",\"prop\":\"trspType\"}},[_c('Select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.parameterData.trspType),callback:function ($$v) {_vm.$set(_vm.parameterData, \"trspType\", $$v)},expression:\"parameterData.trspType\"}},_vm._l((_vm.trspType),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":((item.dictionaryKey) + \"~\" + (item.dictionaryValue))}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"物流类型\",\"prop\":\"logisticsType\"}},[_c('Select',{attrs:{\"clearable\":\"\"},model:{value:(_vm.parameterData.logisticsType),callback:function ($$v) {_vm.$set(_vm.parameterData, \"logisticsType\", $$v)},expression:\"parameterData.logisticsType\"}},_vm._l((_vm.logisticsType),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":((item.dictionaryKey) + \"~\" + (item.dictionaryValue))}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)],1)],1),_c('div',{staticClass:\"btns\"},[_c('Button',{on:{\"click\":function($event){return _vm.handleReset()}}},[_vm._v(\"重置参数\")]),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.saveParameter()}}},[_vm._v(\"保存参数\")])],1)],1)]),_c('div',{staticClass:\"public-component-line\"}),_c('div',{staticClass:\"product-list public-modify-record\"},[_c('div',{staticClass:\"collapse\"},[_c('Collapse',{attrs:{\"accordion\":\"\"},model:{value:(_vm.curCollapse),callback:function ($$v) {_vm.curCollapse=$$v},expression:\"curCollapse\"}},[_vm._l((_vm.productAllInfo),function(product,index){return [_c('Panel',{attrs:{\"name\":index + ''},on:{\"click\":function($event){_vm.curCollapse = index}}},[_c('Row',[(product.serverCode)?_c('Col',{staticClass:\"product-number\",attrs:{\"span\":\"6\"}},[_vm._v(\" 产品编号：\"+_vm._s(product.serverCode)+\" \")]):_vm._e(),_c('Col',{staticClass:\"parameter\",attrs:{\"span\":\"13\"}},[_vm._v(\" 产品参数：\"+_vm._s(product.parameters)+\" \")]),(index === 0 && _vm.hasPendingProduct)?_c('Col',{staticClass:\"btns\",attrs:{\"span\":\"4\"}},[_c('Button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.saveProduct(product)}}},[_vm._v(\"保存产品\")])],1):_vm._e()],1),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('div',{staticClass:\"product-content\"},[_c('div',{class:['scene-btns', { spread: _vm.isSceneSpread }]},[_c('adt-tab-btns',{staticClass:\"scene-tab\",attrs:{\"titleNames\":product.sceneNames,\"isSmallBtn\":true,\"btnIndex\":product.sceneTabIndex || -1,\"productIndex\":index},on:{\"handleBtn\":_vm.handleSceneBtn}}),_c('div',{staticClass:\"right-item\"},[_c('Button',{attrs:{\"size\":\"small\",\"disabled\":!(index === 0 && _vm.hasPendingProduct)},on:{\"click\":function($event){return _vm.chooseScene(index)}}},[_vm._v(\"选择场景\")]),_c('div',{staticClass:\"show-all-scene\",on:{\"click\":function($event){_vm.isSceneSpread = !_vm.isSceneSpread}}},[_vm._v(_vm._s(((!_vm.isSceneSpread ? '展开' : '收起') + \"所有 >\")))])],1)],1),_vm._l((product.sceneNames),function(item,idx){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item === _vm.curSceneName),expression:\"item === curSceneName\"}],key:idx},[_c('adt-tab-btns',{staticClass:\"task-tab\",attrs:{\"titleNames\":_vm.titleNames,\"isUnderline\":true,\"btnIndex\":_vm.tabIndex,\"width\":250,\"height\":40},on:{\"handleBtn\":_vm.handleBtn}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isBasicTask),expression:\"isBasicTask\"}],staticClass:\"basic-item\"},[_c('Row',{staticClass:\"item-container\"},[_c('Col',{staticClass:\"item\",attrs:{\"span\":\"10\"}},[_vm._v(\" 基础服务总费用： \"),_c('Input',{attrs:{\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(product.scenesList[idx].taskBasesList.taskCost),callback:function ($$v) {_vm.$set(product.scenesList[idx].taskBasesList, \"taskCost\", _vm._n((typeof $$v === 'string'? $$v.trim(): $$v)))},expression:\"product.scenesList[idx].taskBasesList.taskCost\"}}),_c('Select',{staticStyle:{\"width\":\"80px\"},attrs:{\"clearable\":\"\",\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(product.scenesList[idx].taskBasesList.curr),callback:function ($$v) {_vm.$set(product.scenesList[idx].taskBasesList, \"curr\", $$v)},expression:\"product.scenesList[idx].taskBasesList.curr\"}},_vm._l((_vm.currencyCode),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1),_vm._v(\"/\"+_vm._s(product.trspType === 'C' ? 'TEU' : 'KG')+\" \")],1),_c('Col',{staticClass:\"item\",attrs:{\"span\":\"14\"}},[_vm._v(\" 基础服务总时长： \"),_c('Input',{attrs:{\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(product.scenesList[idx].taskBasesList.serverDuration),callback:function ($$v) {_vm.$set(product.scenesList[idx].taskBasesList, \"serverDuration\", _vm._n((typeof $$v === 'string'? $$v.trim(): $$v)))},expression:\"product.scenesList[idx].taskBasesList.serverDuration\"}}),_c('Select',{staticStyle:{\"width\":\"80px\"},attrs:{\"clearable\":\"\",\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(product.scenesList[idx].taskBasesList.serverDurationUnit),callback:function ($$v) {_vm.$set(product.scenesList[idx].taskBasesList, \"serverDurationUnit\", $$v)},expression:\"product.scenesList[idx].taskBasesList.serverDurationUnit\"}},_vm._l((_vm.timeUnit),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)],1)],1),_c('adt-task-content',{attrs:{\"basicTask\":product.scenesList[idx].taskBasesList.lists,\"isAdditionalTasks\":false,\"showPriceAndTime\":false}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isBasicTask),expression:\"!isBasicTask\"}],staticClass:\"additional-item\"},[_c('h6',[_vm._v(\"选择附加任务:\")]),_c('div',{staticClass:\"task-container\"},_vm._l((product.scenesList[idx].taskAffixesList),function(additionalTask,key){return _c('div',{key:key,staticClass:\"task-item\"},[_c('Checkbox',{attrs:{\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(additionalTask.isChecked),callback:function ($$v) {_vm.$set(additionalTask, \"isChecked\", $$v)},expression:\"additionalTask.isChecked\"}}),_c('div',{staticClass:\"task-name\"},[_vm._v(_vm._s(additionalTask.taskName))]),_c('div',{staticClass:\"cost\"},[_vm._v(\" 费用： \"),_c('Input',{attrs:{\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(additionalTask.taskCost),callback:function ($$v) {_vm.$set(additionalTask, \"taskCost\", _vm._n((typeof $$v === 'string'? $$v.trim(): $$v)))},expression:\"additionalTask.taskCost\"}}),_c('Select',{staticStyle:{\"width\":\"80px\",\"margin-left\":\"12px\"},attrs:{\"clearable\":\"\",\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(additionalTask.curr),callback:function ($$v) {_vm.$set(additionalTask, \"curr\", $$v)},expression:\"additionalTask.curr\"}},_vm._l((_vm.currencyCode),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1),_vm._v(\"/\"+_vm._s(product.trspType === 'C' ? 'TEU' : 'KG')+\" \")],1),_c('div',{staticClass:\"time\"},[_vm._v(\" 时长： \"),_c('Input',{attrs:{\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(additionalTask.serverDuration),callback:function ($$v) {_vm.$set(additionalTask, \"serverDuration\", _vm._n((typeof $$v === 'string'? $$v.trim(): $$v)))},expression:\"additionalTask.serverDuration\"}}),_c('Select',{staticStyle:{\"width\":\"80px\",\"margin-left\":\"12px\"},attrs:{\"clearable\":\"\",\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(additionalTask.serverDurationUnit),callback:function ($$v) {_vm.$set(additionalTask, \"serverDurationUnit\", $$v)},expression:\"additionalTask.serverDurationUnit\"}},_vm._l((_vm.timeUnit),function(item){return _c('Option',{key:item.dictionaryKey,attrs:{\"value\":item.dictionaryKey}},[_vm._v(_vm._s(item.dictionaryValue))])}),1)],1)],1)}),0)])],1)}),_c('div',{staticClass:\"public-component-line thin-line\"}),_c('Row',{staticClass:\"set-dead-line\"},[_c('Col',{attrs:{\"span\":\"10\"}},[_vm._v(\" 产品起止日期：\"),_c('DatePicker',{attrs:{\"type\":\"date\",\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(product.serverStartTime),callback:function ($$v) {_vm.$set(product, \"serverStartTime\", $$v)},expression:\"product.serverStartTime\"}}),_vm._v(\" -- \"),_c('DatePicker',{attrs:{\"type\":\"date\",\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(product.serverEndTime),callback:function ($$v) {_vm.$set(product, \"serverEndTime\", $$v)},expression:\"product.serverEndTime\"}})],1),_c('Col',{attrs:{\"span\":\"14\"}},[_vm._v(\" 产品报价截止时间前 \"),_c('Input',{attrs:{\"disabled\":!(index === 0 && _vm.hasPendingProduct)},model:{value:(product.serverRemindDuration),callback:function ($$v) {_vm.$set(product, \"serverRemindDuration\", _vm._n($$v))},expression:\"product.serverRemindDuration\"}}),_vm._v(\" 天开始提醒 \")],1)],1)],2)])],1)]})],2)],1)])]),_c('adt-my-modal',{attrs:{\"title\":\"选择场景\",\"showModal\":_vm.isSceneModalShow,\"width\":\"80%\"},on:{\"on-visible-change\":_vm.sceneVisibleChange,\"on-ok\":function($event){return _vm.confirmChooseScene()}}},[_c('div',{staticClass:\"choose-scene-container\"},[_c('div',{staticClass:\"scene-container\"},[_c('div',{staticClass:\"search-container\"},[_c('div',{staticClass:\"search\"},[_vm._v(\" 场景名称：\"),_c('Input',{model:{value:(_vm.sceneName),callback:function ($$v) {_vm.sceneName=$$v},expression:\"sceneName\"}}),_c('Icon',{staticClass:\"search-btn\",attrs:{\"type\":\"ios-search\"},on:{\"click\":_vm.searchScene}})],1),_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.previewSort()}}},[_vm._v(\"排序预览\")])],1),_c('Table',{attrs:{\"columns\":_vm.sceneColumns,\"data\":_vm.sceneTableData,\"stripe\":\"\",\"max-height\":\"500\"},on:{\"on-selection-change\":_vm.selectionChange},scopedSlots:_vm._u([{key:\"sort\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('span',{staticClass:\"required-tag\"},[_vm._v(\"*\")]),_c('Input',{attrs:{\"clearable\":\"\"},on:{\"on-change\":function($event){return _vm.changeRowData(row, index, 'sort')}},model:{value:(row.sort),callback:function ($$v) {_vm.$set(row, \"sort\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"row.sort\"}})],1)]}}])})],1),_c('div',{staticClass:\"sort-container\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"场景排序\")]),_c('Table',{attrs:{\"columns\":_vm.previewColumns,\"data\":_vm.previewTableData,\"stripe\":\"\"}})],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"add-product\">\r\n        <div class=\"choose-type\">\r\n            选择服务产品类型：\r\n            <Select v-model=\"productType\" @on-change=\"goToAddProduct\">\r\n                <Option v-for=\"item in serviceType\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n            </Select>\r\n        </div>\r\n        <div class=\"white-bg\">\r\n            <div class=\"add-site\">\r\n                <Row>\r\n                    <Col span=\"3\">\r\n                        <div class=\"name\">添加场所:</div>\r\n                    </Col>\r\n                    <Col span=\"21\">\r\n                        <Form\r\n                        ref=\"formValidate\"\r\n                        inline\r\n                        :model=\"siteData\"\r\n                        :rules=\"ruleValidate\"\r\n                        :label-colon=\"true\"\r\n                        label-position=\"left\"\r\n                        :label-width=\"85\">\r\n                            <FormItem label=\"国家城市\" prop=\"dispatchCity\">\r\n                                <adt-city-selector @on-change=\"changeDispatchCity\"></adt-city-selector>\r\n                            </FormItem>\r\n                            <FormItem label=\"选择场所\" prop=\"dispatchSite\">\r\n                                <Select v-model=\"siteData.dispatchSite\" clearable>\r\n                                <Option v-for=\"(option, index) in dispatchOptions\" :value=\"`${option.value}~${option.label}`\" :key=\"index\">{{option.label}}</Option>\r\n                            </Select>\r\n                            </FormItem>\r\n                        </Form>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n            <div class=\"choose-parameter\">\r\n                <h6 style=\"margin-top: 0;\">选择参数：</h6>\r\n                <div class=\"container\">\r\n                    <Form\r\n                        ref=\"parameterFormValidate\"\r\n                        inline\r\n                        :model=\"parameterData\"\r\n                        :rules=\"parameterRuleValidate\"\r\n                        :label-colon=\"true\"\r\n                        label-position=\"left\"\r\n                        :label-width=\"126\">\r\n                        <FormItem label=\"运输类型\" prop=\"trspType\">\r\n                            <Select v-model=\"parameterData.trspType\" clearable>\r\n                                <Option v-for=\"item in trspType\" :key=\"item.dictionaryKey\" :value=\"`${item.dictionaryKey}~${item.dictionaryValue}`\">{{item.dictionaryValue}}</Option>\r\n                            </Select>\r\n                        </FormItem>\r\n                        <FormItem label=\"物流类型\" prop=\"logisticsType\">\r\n                            <Select v-model=\"parameterData.logisticsType\" clearable>\r\n                                <Option v-for=\"item in logisticsType\" :key=\"item.dictionaryKey\" :value=\"`${item.dictionaryKey}~${item.dictionaryValue}`\">{{item.dictionaryValue}}</Option>\r\n                            </Select>\r\n                        </FormItem>\r\n                    </Form>\r\n                    <div class=\"btns\">\r\n                        <Button @click=\"handleReset()\">重置参数</Button>\r\n                        <Button type=\"primary\" @click=\"saveParameter()\">保存参数</Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"public-component-line\"></div>\r\n            <!-- 一期不做删除、以后要做的时候，记得把./style.scss 165行的代码改一下 -->\r\n            <!-- <adt-button :allDelShow=\"true\" :delUrl=\"delUrl\" :selectList=\"selectList\" v-if=\"productAllInfo.length\"></adt-button> -->\r\n            <div class=\"product-list public-modify-record\">\r\n                <div class=\"collapse\">\r\n                    <Collapse v-model=\"curCollapse\" accordion>\r\n                        <template v-for=\"(product, index) in productAllInfo\">\r\n                            <!-- 一期不做删除、以后要做的时候，记得把./style.scss 165行的代码改一下 -->\r\n                            <!-- <Checkbox v-model=\"product.checked\" @on-change=\"chooseProduct(product.id, product.checked)\" :disabled=\"index === 0 && hasPendingProduct\"></Checkbox> -->\r\n                            <Panel :name=\"index + ''\" @click=\"curCollapse = index\">\r\n                                <Row>\r\n                                    <!-- <Col span=\"5\" class=\"product-number\" v-if=\"product.serverCode\">\r\n                                        产品编号：{{ product.serverCode }}\r\n                                    </Col>\r\n                                    <Col span=\"5\" class=\"line\">\r\n                                        {{ product.sites.dispatchCity }}{{ product.sites.dispatchSite }}\r\n                                    </Col>\r\n                                    <Col :span=\"product.serverCode ? 10 : 14\" class=\"parameter\">\r\n                                        产品参数：{{ product.parameters }}\r\n                                    </Col>\r\n                                    <Col span=\"3\" class=\"btns\" v-if=\"index === 0 && hasPendingProduct\">\r\n                                        <Button size=\"small\" @click.stop=\"saveProduct(product)\">保存产品</Button>\r\n                                    </Col> -->\r\n                                    <Col span=\"6\" class=\"product-number\" v-if=\"product.serverCode\">\r\n                                        产品编号：{{ product.serverCode }}\r\n                                    </Col>\r\n                                    <Col span=\"13\" class=\"parameter\">\r\n                                        产品参数：{{ product.parameters }}\r\n                                    </Col>\r\n                                    <Col span=\"4\" class=\"btns\" v-if=\"index === 0 && hasPendingProduct\">\r\n                                        <Button size=\"small\" @click.stop=\"saveProduct(product)\">保存产品</Button>\r\n                                    </Col>\r\n                                </Row>\r\n                                <div slot=\"content\">\r\n                                    <div class=\"product-content\">\r\n                                        <div :class=\"['scene-btns', { spread: isSceneSpread }]\">\r\n                                            <adt-tab-btns :titleNames=\"product.sceneNames\" :isSmallBtn=\"true\" :btnIndex=\"product.sceneTabIndex || -1\" :productIndex=\"index\" @handleBtn=\"handleSceneBtn\" class=\"scene-tab\"></adt-tab-btns>\r\n                                            <div class=\"right-item\">\r\n                                                <Button size=\"small\" @click=\"chooseScene(index)\" :disabled=\"!(index === 0 && hasPendingProduct)\">选择场景</Button>\r\n                                                <div class=\"show-all-scene\" @click=\"isSceneSpread = !isSceneSpread\">{{`${!isSceneSpread ? '展开' : '收起'}所有 >`}}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <!-- 循环场景，默认选中第一个场景 -->\r\n                                        <!-- <div v-for=\"(item, idx) in product.sceneNames\" :key=\"idx\" v-show=\"item === curSceneName || (!product.sceneTabIndex && idx === 0)\"> -->\r\n                                            <!-- 循环场景，默认不选中场景 -->\r\n                                        <div v-for=\"(item, idx) in product.sceneNames\" :key=\"idx\" v-show=\"item === curSceneName\">\r\n                                            <adt-tab-btns :titleNames=\"titleNames\" :isUnderline=\"true\" :btnIndex=\"tabIndex\" @handleBtn=\"handleBtn\" :width=\"250\" :height=\"40\" class=\"task-tab\"></adt-tab-btns>\r\n                                            <div class=\"basic-item\" v-show=\"isBasicTask\">\r\n                                                <Row class=\"item-container\">\r\n                                                    <Col span=\"10\" class=\"item\">\r\n                                                        基础服务总费用：\r\n                                                        <Input v-model.number.trim=\"product.scenesList[idx].taskBasesList.taskCost\" :disabled=\"!(index === 0 && hasPendingProduct)\" />\r\n                                                        <Select v-model=\"product.scenesList[idx].taskBasesList.curr\" clearable :disabled=\"!(index === 0 && hasPendingProduct)\" style=\"width: 80px;\">\r\n                                                            <Option v-for=\"item in currencyCode\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                                                        </Select>/{{ product.trspType === 'C' ? 'TEU' : 'KG' }}\r\n                                                    </Col>\r\n                                                    <Col span=\"14\" class=\"item\">\r\n                                                        基础服务总时长：\r\n                                                        <Input v-model.number.trim=\"product.scenesList[idx].taskBasesList.serverDuration\" :disabled=\"!(index === 0 && hasPendingProduct)\" />\r\n                                                        <Select v-model=\"product.scenesList[idx].taskBasesList.serverDurationUnit\" clearable  :disabled=\"!(index === 0 && hasPendingProduct)\" style=\"width: 80px;\">\r\n                                                            <Option v-for=\"item in timeUnit\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                                                        </Select>\r\n                                                    </Col>\r\n                                                </Row>\r\n                                                <adt-task-content :basicTask=\"product.scenesList[idx].taskBasesList.lists\" :isAdditionalTasks=\"false\" :showPriceAndTime=\"false\" />\r\n                                            </div>\r\n                                            <div class=\"additional-item\" v-show=\"!isBasicTask\">\r\n                                                <h6>选择附加任务:</h6>\r\n                                                <div class=\"task-container\">\r\n                                                    <!-- 一行放2个放不下，不能按照设计图来 -->\r\n                                                    <div class=\"task-item\" v-for=\"(additionalTask, key) in product.scenesList[idx].taskAffixesList\" :key=\"key\">\r\n                                                        <Checkbox v-model=\"additionalTask.isChecked\" :disabled=\"!(index === 0 && hasPendingProduct)\"></Checkbox>\r\n                                                        <div class=\"task-name\">{{ additionalTask.taskName }}</div>\r\n                                                        <div class=\"cost\">\r\n                                                            费用：\r\n                                                            <Input v-model.number.trim=\"additionalTask.taskCost\" :disabled=\"!(index === 0 && hasPendingProduct)\" />\r\n                                                            <Select v-model=\"additionalTask.curr\" clearable :disabled=\"!(index === 0 && hasPendingProduct)\" style=\"width: 80px; margin-left: 12px;\">\r\n                                                                <Option v-for=\"item in currencyCode\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                                                            </Select>/{{ product.trspType === 'C' ? 'TEU' : 'KG' }}\r\n                                                        </div>\r\n                                                        <div class=\"time\">\r\n                                                            时长：\r\n                                                            <Input v-model.number.trim=\"additionalTask.serverDuration\" :disabled=\"!(index === 0 && hasPendingProduct)\" />\r\n                                                            <Select v-model=\"additionalTask.serverDurationUnit\" clearable :disabled=\"!(index === 0 && hasPendingProduct)\"  style=\"width: 80px; margin-left: 12px;\">\r\n                                                                <Option v-for=\"item in timeUnit\" :key=\"item.dictionaryKey\" :value=\"item.dictionaryKey\">{{item.dictionaryValue}}</Option>\r\n                                                            </Select>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div class=\"public-component-line thin-line\"></div>\r\n                                        <Row class=\"set-dead-line\">\r\n                                            <Col span=\"10\">\r\n                                                产品起止日期：<DatePicker v-model=\"product.serverStartTime\" type=\"date\" :disabled=\"!(index === 0 && hasPendingProduct)\"></DatePicker> -- <DatePicker v-model=\"product.serverEndTime\" type=\"date\" :disabled=\"!(index === 0 && hasPendingProduct)\"></DatePicker>\r\n                                            </Col>\r\n                                            <Col span=\"14\">\r\n                                                产品报价截止时间前 <Input v-model.number=\"product.serverRemindDuration\" :disabled=\"!(index === 0 && hasPendingProduct)\" /> 天开始提醒\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </div>\r\n                                </div>\r\n                            </Panel>\r\n                        </template>\r\n                    </Collapse>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- 查看全部场景modal -->\r\n        <adt-my-modal\r\n            title=\"选择场景\"\r\n            :showModal=\"isSceneModalShow\"\r\n            @on-visible-change=\"sceneVisibleChange\"\r\n            @on-ok=\"confirmChooseScene()\"\r\n            width=\"80%\">\r\n            <div class=\"choose-scene-container\">\r\n                <div class=\"scene-container\">\r\n                    <div class=\"search-container\">\r\n                        <div class=\"search\">\r\n                            场景名称：<Input v-model=\"sceneName\"></Input><Icon @click=\"searchScene\" type=\"ios-search\" class=\"search-btn\" />\r\n                        </div>\r\n                        <Button @click=\"previewSort()\" type=\"primary\">排序预览</Button>\r\n                    </div>\r\n                    <Table :columns=\"sceneColumns\" :data=\"sceneTableData\" @on-selection-change=\"selectionChange\" stripe max-height=\"500\">\r\n                        <template #sort=\"{ row, index }\">\r\n                            <div style=\"position: relative;\">\r\n                                <span class=\"required-tag\">*</span><Input v-model.trim=\"row.sort\" @on-change=\"changeRowData(row, index, 'sort')\" clearable></Input>\r\n                            </div>\r\n                        </template>\r\n                    </Table>\r\n                </div>\r\n                <div class=\"sort-container\">\r\n                    <div class=\"title\">场景排序</div>\r\n                    <Table :columns=\"previewColumns\" :data=\"previewTableData\" stripe></Table>\r\n                </div>\r\n            </div>\r\n            <!-- <Form\r\n                ref=\"sceneFormValidate\"\r\n                inline\r\n                :label-colon=\"true\"\r\n                label-position=\"left\">\r\n                <FormItem>\r\n                    <CheckboxGroup v-model=\"chosenScene\" class=\"scene-checkbox\">\r\n                        <Checkbox v-for=\"(item, index) in 10\" :key=\"index\" :label=\"`${item}~场景`\">{{ `场景${index}` }}</Checkbox>\r\n                    </CheckboxGroup>\r\n                </FormItem>\r\n            </Form> -->\r\n        </adt-my-modal>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import addProductContent from '@/mixins/addProductContent'\r\n    import AdtTaskContent from '@/components/adt-task-content/Index'\r\n    import validateRules from '@/libs/validateRules'\r\n    import {\r\n        apiStationAddCode,\r\n        apiStationAddServer\r\n    } from '@/api/productEditor'\r\n    export default {\r\n        mixins: [addProductContent],\r\n        components: {\r\n            AdtTaskContent\r\n        },\r\n        data () {\r\n            return {\r\n                productType: 'Y',\r\n                serviceType: this.$getDictionary('SERVICE_TYPE'),\r\n                trspType: this.$getDictionary('TRANSPORT_TYPE'),\r\n                logisticsType: this.$getDictionary('LOGISTICS_TYPE'),\r\n                contaSizeType: this.$getDictionary('CONTAINER_SIZE_TYPE'),\r\n                currencyCode: this.$getDictionary('CURRENCY_CODE'),\r\n                timeUnit: this.$getDictionary('TIME_UNIT'),\r\n                siteData: {\r\n                    dispatchCity: '',\r\n                    dispatchSite: ''\r\n                },\r\n                ruleValidate: {\r\n                    dispatchCity: [\r\n                        validateRules.select('国家城市')[0]\r\n                    ],\r\n                    dispatchSite: [\r\n                        validateRules.select('场所')[0]\r\n                    ]\r\n                },\r\n                parameterData: {\r\n                    trspType: '',\r\n                    logisticsType: ''\r\n                },\r\n                parameterRuleValidate: {\r\n                    trspType: [\r\n                        validateRules.select('运输类型')[0]\r\n                    ],\r\n                    logisticsType: [\r\n                        validateRules.select('物流类型')[0]\r\n                    ]\r\n                },\r\n                dispatchOptions: [],\r\n                delUrl: function () {}\r\n            }\r\n        },\r\n        methods: {\r\n            // 保存产品\r\n            saveProduct (productData) {\r\n                let product = JSON.parse(JSON.stringify(productData))\r\n                // 至少选择一个场景\r\n                if (!product.sceneNames.length) {\r\n                    this.$Message.warning('请先选择场景！')\r\n                    return\r\n                }\r\n                product.serverStartTime = +new Date(product.serverStartTime) || ''\r\n                product.serverEndTime = +new Date(product.serverEndTime) || ''\r\n                // 产品起止日期必填\r\n                if (!product.serverStartTime || !product.serverEndTime) {\r\n                    this.$Message.warning('请输入产品起止日期！')\r\n                    return\r\n                }\r\n                // 起始时间不能大于截止时间\r\n                if (product.serverStartTime > product.serverEndTime) {\r\n                    this.$Message.warning('起始时间不能大于截止时间！')\r\n                    return\r\n                }\r\n                // 产品报价截止时间\r\n                if (!product.serverRemindDuration) {\r\n                    this.$Message.warning('请输入产品报价截止时间')\r\n                    return\r\n                }\r\n                for (let scene of product.scenesList) {\r\n                    // 基础任务必填校验\r\n                    if (!scene.taskBasesList.taskCost) {\r\n                        this.$Message.warning(`请输入${scene.sceneName}下的基础服务总费用！`)\r\n                        return\r\n                    }\r\n                    if (!scene.taskBasesList.curr) {\r\n                        this.$Message.warning(`请输入${scene.sceneName}下的基础服务总费用单位！`)\r\n                        return\r\n                    }\r\n                    if (!scene.taskBasesList.serverDuration) {\r\n                        this.$Message.warning(`请输入${scene.sceneName}下的基础服务总时长！`)\r\n                        return\r\n                    }\r\n                    if (!scene.taskBasesList.serverDurationUnit) {\r\n                        this.$Message.warning(`请输入${scene.sceneName}下的基础服务总时长单位！`)\r\n                        return\r\n                    }\r\n                    // 基础任务数据结构组装\r\n                    for (const list of scene.taskBasesList.lists) {\r\n                        list.taskCost = scene.taskBasesList.taskCost\r\n                        list.curr = scene.taskBasesList.curr\r\n                        list.serverDuration = scene.taskBasesList.serverDuration\r\n                        list.serverDurationUnit = scene.taskBasesList.serverDurationUnit\r\n                    }\r\n                    scene.taskBasesList = scene.taskBasesList.lists\r\n                    // 附加任务\r\n                    for (let key = 0; key < scene.taskAffixesList.length; key++) {\r\n                        // 选中的附加任务\r\n                        if (scene.taskAffixesList[key].isChecked) {\r\n                            if (!scene.taskAffixesList[key].taskCost) {\r\n                                this.$Message.warning(`请输入${scene.sceneName}选中的附加任务的费用！`)\r\n                                return\r\n                            }\r\n                            if (!scene.taskAffixesList[key].curr) {\r\n                                this.$Message.warning(`请输入${scene.sceneName}选中的附加任务的费用单位！`)\r\n                                return\r\n                            }\r\n                            if (!scene.taskAffixesList[key].serverDuration) {\r\n                                this.$Message.warning(`请输入${scene.sceneName}选中的附加任务的时长！`)\r\n                                return\r\n                            }\r\n                            if (!scene.taskAffixesList[key].serverDurationUnit) {\r\n                                this.$Message.warning(`请输入${scene.sceneName}选中的附加任务的时长单位！`)\r\n                                return\r\n                            }\r\n                            delete scene.taskAffixesList[key].isChecked\r\n                        } else {\r\n                            scene.taskAffixesList.splice(key, 1)\r\n                            key--\r\n                        }\r\n                    }\r\n                }\r\n                // 将数据结构处理成后端一摸一样的结构\r\n                delete product.parameters\r\n                delete product.sceneNames\r\n                delete product.sceneTabIndex\r\n                delete product.sites\r\n                // 保存成功\r\n                apiStationAddServer({ data: product }).then(res => {\r\n                    this.$Message.success(res.message)\r\n                    this.hasPendingProduct = false\r\n                })\r\n            },\r\n            // 选择启运地城市\r\n            async changeDispatchCity (value) {\r\n                this.siteData.dispatchCity = `${value.value.join(';')}~${value.data[value.data.length - 1].addressName}`\r\n                this.dispatchOptions = await this._handelDir(value.value)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @import './style.scss';\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./AddSiteProduct.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./AddSiteProduct.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddSiteProduct.vue?vue&type=template&id=14706e11&scoped=true&\"\nimport script from \"./AddSiteProduct.vue?vue&type=script&lang=js&\"\nexport * from \"./AddSiteProduct.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddSiteProduct.vue?vue&type=style&index=0&id=14706e11&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14706e11\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./AddSiteProduct.vue?vue&type=style&index=0&id=14706e11&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./AddSiteProduct.vue?vue&type=style&index=0&id=14706e11&lang=scss&scoped=true&\""],"sourceRoot":""}