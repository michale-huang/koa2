{"version":3,"sources":["webpack:///./src/api/organizationManage.js","webpack:///./src/pages/authority-manage/OrganizationManage.vue?4995","webpack:///./src/pages/authority-manage/OrganizationManage.vue?d18c","webpack:///src/pages/authority-manage/OrganizationManage.vue","webpack:///./src/pages/authority-manage/OrganizationManage.vue?9519","webpack:///./src/pages/authority-manage/OrganizationManage.vue"],"names":["apiGetOrganizationList","data","getRequest","baseUrl","apiAddOrganization","postRequest","apiModifyOrganization","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","add","_v","modelTitle","isModalShow","addvisibleChange","save","cancel","ref","formItem","formItemRule","model","value","callback","$$v","$set","expression","tableColumns","tableData","scopedSlots","_u","key","fn","row","index","edit","staticRenderFns","component"],"mappings":"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","file":"js/chunk-3a107880.11c7f5b3.js","sourcesContent":["import { postRequest, getRequest } from './common.js'\r\nimport { permission as baseUrl } from './api'\r\n\r\n//  查询组织机构信息\r\nexport const apiGetOrganizationList = (data) => {\r\n    return getRequest(`${baseUrl}/organizationInfo/getOrganizationList`, data)\r\n}\r\n\r\n//  新增组织机构信息\r\nexport const apiAddOrganization = (data) => {\r\n    return postRequest(`${baseUrl}/organizationInfo/addOrganization`, data)\r\n}\r\n\r\n//  修改组织机构信息\r\nexport const apiModifyOrganization = (data) => {\r\n    return postRequest(`${baseUrl}/organizationInfo/modifyOrganization`, data)\r\n}\r\n","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./OrganizationManage.vue?vue&type=style&index=0&id=7f75ef33&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.5.3@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./OrganizationManage.vue?vue&type=style&index=0&id=7f75ef33&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"btns-paginator\"},[_c('AdtButton',{attrs:{\"allDelShow\":false}},[_c('Button',{on:{\"click\":function($event){return _vm.add()}}},[_vm._v(\"新增总公司\"),_c('Icon',{attrs:{\"type\":\"ios-add-circle-outline\"}})],1)],1)],1),_c('AdtMyModal',{attrs:{\"title\":_vm.modelTitle,\"okText\":\"保存\",\"cancelText\":\"取消\",\"showModal\":_vm.isModalShow},on:{\"on-visible-change\":_vm.addvisibleChange,\"on-ok\":function($event){return _vm.save()},\"on-cancel\":function($event){return _vm.cancel()}}},[_c('Form',{ref:\"formItemData\",attrs:{\"model\":_vm.formItem,\"rules\":_vm.formItemRule,\"label-width\":100,\"label-colon\":\"\"}},[_c('FormItem',{attrs:{\"label\":\"公司名称\",\"prop\":\"organizationName\"}},[_c('Input',{model:{value:(_vm.formItem.organizationName),callback:function ($$v) {_vm.$set(_vm.formItem, \"organizationName\", $$v)},expression:\"formItem.organizationName\"}})],1)],1)],1),_c('Table',{attrs:{\"columns\":_vm.tableColumns,\"data\":_vm.tableData,\"stripe\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Icon',{staticClass:\"icon-action\",attrs:{\"type\":\"md-create\"},on:{\"click\":function($event){return _vm.edit(row)}}})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <div class=\"btns-paginator\">\r\n            <AdtButton :allDelShow=\"false\">\r\n                <Button @click=\"add()\">新增总公司<Icon type=\"ios-add-circle-outline\" /></Button>\r\n            </AdtButton>\r\n        </div>\r\n        <AdtMyModal :title=\"modelTitle\" okText=\"保存\" cancelText=\"取消\" :showModal=\"isModalShow\" @on-visible-change=\"addvisibleChange\" @on-ok=\"save()\" @on-cancel=\"cancel()\">\r\n            <Form :model=\"formItem\" ref=\"formItemData\" :rules=\"formItemRule\" :label-width=\"100\" label-colon>\r\n                <FormItem label=\"公司名称\" prop=\"organizationName\">\r\n                    <Input v-model=\"formItem.organizationName\"></Input>\r\n                </FormItem>\r\n            </Form>\r\n        </AdtMyModal>\r\n        <Table :columns=\"tableColumns\" :data=\"tableData\" stripe>\r\n            <!-- 操作 -->\r\n            <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n                <Icon class=\"icon-action\" type=\"md-create\" @click=\"edit(row)\" />\r\n                <!-- <Icon class=\"icon-action\" type=\"md-close\" @click=\"remove(row)\" /> -->\r\n            </template>\r\n        </Table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { apiGetOrganizationList, apiAddOrganization, apiModifyOrganization } from '@/api/organizationManage'\r\nexport default {\r\n    data() {\r\n        return {\r\n            isModalShow: false,\r\n            modelTitle: '',\r\n            tableColumns: [\r\n                {\r\n                    title: '公司名称',\r\n                    align: 'center',\r\n                    key: 'organizationName'\r\n                },\r\n                {\r\n                    title: '创建时间',\r\n                    align: 'center',\r\n                    key: 'createDatetime'\r\n                },\r\n                {\r\n                    title: '操作',\r\n                    align: 'center',\r\n                    slot: 'action'\r\n                }\r\n            ],\r\n            tableData: [],\r\n            formItem: {},\r\n            formItemRule: {\r\n                organizationName: [\r\n                    { required: true, message: '请输入公司名称', trigger: 'blur' }\r\n                ]\r\n            },\r\n            // 新增编辑区分  1为新增 2为编辑\r\n            distinguish: 0,\r\n        }\r\n    },\r\n    mounted() {\r\n        this.getData()\r\n    },\r\n    methods: {\r\n        addvisibleChange (changeStatus) {\r\n            this.isModalShow = changeStatus\r\n        },\r\n        // dataInit () {\r\n        //     this.getData()\r\n        // },\r\n        getData () {\r\n            apiGetOrganizationList().then(res => {\r\n                if (res.code == 200) {\r\n                    this.tableData = res.data || []\r\n                }\r\n            })\r\n        },\r\n        add () {\r\n            this.isModalShow = true\r\n            this.distinguish = 1\r\n            this.modelTitle = '新增总公司'\r\n        },\r\n        save () {\r\n            if (this.distinguish == 1) {\r\n                const data = {\r\n                    organizationPid: 0,\r\n                    organizationName: this.formItem.organizationName\r\n                }\r\n                this.$refs[\"formItemData\"].validate((valid) => {\r\n                    if (valid) {\r\n                        apiAddOrganization({ data: data }).then(res => {\r\n                            if (res.code == 200) {\r\n                                this.$Message.info(\"保存成功\")\r\n                                this.isModalShow = false\r\n                                // 刷新列表\r\n                                this.getData()\r\n                            } else {\r\n                                this.$Message.info(\"保存失败\")\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n            if (this.distinguish == 2) {\r\n                const data = {\r\n                    organizationId: this.formItem.organizationId,\r\n                    organizationName: this.formItem.organizationName\r\n                }\r\n                this.$refs[\"formItemData\"].validate((valid) => {\r\n                    if (valid) {\r\n                        apiModifyOrganization({ data: data }).then(res => {\r\n                            if (res.code == 200) {\r\n                                this.$Message.info(\"保存成功\")\r\n                                this.isModalShow = false\r\n                                // 刷新列表\r\n                                this.getData()\r\n                            } else {\r\n                                this.$Message.info(\"保存失败\")\r\n                            }\r\n                        })\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        cancel () {\r\n            this.isModalShow = false\r\n            // 重置form表单\r\n            this.$refs.formItemData.resetFields()\r\n            // 刷新表格\r\n            this.getData()\r\n        },\r\n        edit (row) {\r\n            this.isModalShow = true\r\n            this.formItem = row\r\n            this.distinguish = 2\r\n            this.modelTitle = '编辑总公司'\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/deep/.ivu-form-item > .ivu-form-item-label{\r\n    text-align: left;\r\n}\r\n.icon-action{\r\n    margin: 0 10px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./OrganizationManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./OrganizationManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrganizationManage.vue?vue&type=template&id=7f75ef33&scoped=true&\"\nimport script from \"./OrganizationManage.vue?vue&type=script&lang=js&\"\nexport * from \"./OrganizationManage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrganizationManage.vue?vue&type=style&index=0&id=7f75ef33&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7f75ef33\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}