(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b38ec862"],{"05c9":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"singleDetail"},[a("header-btn",{attrs:{title:"方案信息"}},[a("div",{attrs:{slot:"btn"},slot:"btn"},[t.cptisDiaodu?a("div",{staticClass:"btns"},[a("Button",{on:{click:function(e){return t.accept("formValidate")}}},[t._v("接受委托")]),a("Button",{attrs:{type:"primary"},on:{click:t.unacceptDialog}},[t._v("拒绝委托")])],1):t._e(),t.cptisDiaodu?t._e():a("div",{staticClass:"btns"},[a("Button",{attrs:{type:"primary"},on:{click:t.sendTrust_m}},[t._v("发送委托")])],1)])]),a("line-header",{attrs:{lineHeaderData:t.cptlineHeaderData}}),a("div",{staticClass:"tas-box"},[a("span",[t._v("单次物流委托编号：")]),a("span",[t._v(t._s(t.cptId))])]),a("div",{staticClass:"public-form-box"},[a("div",{staticClass:"public-form-content"},[a("Row",{staticClass:"publc-bottom20",attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("Col",{attrs:{span:"8"}},[a("detaiFormItem",{attrs:{tit:"发货人信息",titleList:t.titleList,valueObj:t.FH}})],1),a("Col",{attrs:{span:"8"}},[a("detaiFormItem",{attrs:{tit:"收货人信息",titleList:t.titleList,valueObj:t.SH}})],1),a("Col",{attrs:{span:"8"}},[a("detaiFormItem",{attrs:{tit:"通知人信息",titleList:t.titleList,valueObj:t.TZ}})],1)],1),a("Col",{attrs:{span:"6"}},[a("detaiFormItem",{attrs:{tit:"服务参数",titleList:t.titleFuWu,valueObj:t.formModel}})],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("p",{staticClass:"item-form-title"},[t._v("货物信息")]),a("div",{staticClass:"public-line"}),a("div",{staticClass:"scroll-box"},[t.timeShow?a("cargo-info",{attrs:{arr:t.entrustCargoRes}},[a("template",{slot:"btns-end"},[a("span",[t._v("货物类型：")]),a("span",[t._v(t._s(t.formModel.cargoType))])])],2):t._e()],1)]),a("Col",{attrs:{span:"6"}},[a("detaiFormItem",{attrs:{tit:"运输要求",titleList:t.titleYunShu,valueObj:t.formModel}})],1)],1)],1)]),a("adt-my-modal",{attrs:{showModal:t.showItemModal,title:t.itemTitle},on:{"on-visible-change":t.visibleChange,"on-ok":t.handleItemModalOk}},[a("Form",{ref:"formValidate",attrs:{model:t.remarkForm,rules:t.remarkFormruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"拒绝理由",prop:"remark"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入..."},model:{value:t.remarkForm.remark,callback:function(e){t.$set(t.remarkForm,"remark",e)},expression:"remarkForm.remark"}})],1)],1)],1)],1)},i=[],n=(a("4194"),a("80a0")),s=a("77ab"),o=(a("b962"),a("35f4")),l=a.n(o),u=a("8f27"),c=a("21c2"),m=a("6458"),d=a("5e47"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"item-form-title"},[t._v(t._s(t.tit))]),a("div",{staticClass:"table-boxjz"},t._l(t.titleList,(function(e,r){return a("div",{key:r,staticClass:"table-rowjz"},[a("div",[t._v(t._s(e.title))]),a("div",{attrs:{title:t.valueObj[e.name]}},[t._v(t._s(t.valueObj[e.name])+t._s(e.unit))])])})),0)])},f=[],v={name:"detail-form-item",props:{titleList:{type:Array,default:function(){return[]}},valueObj:{type:Object,default:function(){return{}}},tit:{type:String,default:""}},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},b=v,h=(a("5455"),a("4023")),y=Object(h["a"])(b,p,f,!1,null,"294b12f1",null),C=y.exports,g={name:"singleDetail",mixins:[u["a"]],components:{CargoInfo:c["a"],lineHeader:m["a"],headerBtn:d["a"],detaiFormItem:C},data:function(){return{titleList:[{title:"通知人名称：",name:"attenName"},{title:"代码：",name:"code"},{title:"地址：",name:"attenAddr"},{title:"电话：",name:"attenTel"},{title:"传真：",name:"attenFax"},{title:"邮箱：",name:"attenEmail"}],FH:{},SH:{},TZ:{},titleFuWu:[{title:"运输类型：",name:"trspType"},{title:"集装箱尺寸：",name:"contaSize"},{title:"集装箱来源：",name:"containerSource"},{},{},{}],titleYunShu:[{title:"主要运输方式：",name:"trspMode"},{title:"物流类型：",name:"logisticsType"},{title:"提箱类型：",name:"suitcaseType"},{title:"集装箱数量：",name:"suitcaseQty"},{title:"货物适宜温度：",name:"setTemperatureAt",unit:"°C"},{title:"出口报关地：",name:"exPort"},{title:"进口报关地：",name:"imPort"},{title:"最迟启运时间：",name:"lastStartTime"},{title:"最低时长要求：",name:"lowestTimeReq",unit:"天"},{title:"最高费用要求：",name:"highestCostReq",unit:"元"},{title:"预计货好时间：",name:"cargoReadyTime"},{title:"最晚到达时间：",name:"lastArriveTime"},{title:"合同编号：",name:"contractCode"},{title:"备注：",name:"remark"}],showItemModal:!1,itemTitle:"拒绝理由",remarkForm:{},remarkFormruleValidate:{remark:[{required:!0,message:"拒绝理由必填",trigger:"blur"},{type:"string",min:2,message:"最小输入两个字符",trigger:"blur"}]},timeShow:!1,formModel:{},entrustCargoRes:[]}},computed:{cptId:function(){var t=this.$route.query.executoryEntrustCode;return t},cptexecutoryEntrustCode:function(){var t=this.$route.query.executoryEntrustCode;return t},cptlineHeaderData:function(){var t=JSON.parse(this.$route.query.lineHeaderData);return t},cptisDiaodu:function(){var t=this.$route.query.role;return"admin"==t}},created:function(){this.getDetail()},methods:{visibleChange:function(t){this.showItemModal=t},handleItemModalOk:function(){this.showItemModal=!1,this.unaccept()},unacceptDialog:function(t){this.showItemModal=!0},accept:function(t){var e=this,a={executoryEntrustCode:this.cptexecutoryEntrustCode,entrustExecutoryStatus:"已接受"};Object(s["m"])({data:a}).then((function(t){t.data;e.$Message.success("操作成功")}))},unaccept:function(t){var e=this,a={executoryEntrustCode:this.cptexecutoryEntrustCode,remark:this.remarkForm.remark,entrustExecutoryStatus:"已拒绝"};Object(s["m"])({data:a}).then((function(t){t.data;e.$Message.success("操作成功")}))},save:function(t){alert("功能开发中")},getDetail:function(){var t=this;Object(s["k"])({executoryEntrustCode:this.cptId}).then((function(e){var a=e.data,r=a.transportationAskRes,i=a.entrustAttenResList,s=a.entrustCargoRes,o=i.find((function(t){return"发货人"==t.linkType}));t.FH=o;var u=i.find((function(t){return"收货人"==t.linkType}));t.SH=u;var c=i.find((function(t){return"通知人"==t.linkType}));t.TZ=c;var m=Object(n["a"])(Object(n["a"])({},r),{},{cargoType:s[0].cargoType});t.formModel=Object(n["a"])(Object(n["a"])({},m),{},{lastStartTime:m.lastStartTime&&l()(m.lastStartTime).format("YYYY-MM-DD"),cargoReadyTime:m.cargoReadyTime&&l()(m.cargoReadyTime).format("YYYY-MM-DD"),lastArriveTime:m.lastArriveTime&&l()(m.lastArriveTime).format("YYYY-MM-DD")}),t.entrustCargoRes=s,t.timeShow=!0}))}}},k=g,T=(a("144d"),Object(h["a"])(k,r,i,!1,null,"0b562769",null));e["default"]=T.exports},"05d3":function(t,e,a){},"144d":function(t,e,a){"use strict";var r=a("4ac8"),i=a.n(r);i.a},"4ac8":function(t,e,a){},5455:function(t,e,a){"use strict";var r=a("05d3"),i=a.n(r);i.a}}]);
//# sourceMappingURL=chunk-b38ec862.6dad21eb.js.map