(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cd83bec"],{"05c9":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"singleDetail"},[a("header-btn",{attrs:{title:"方案信息"}},[a("div",{attrs:{slot:"btn"},slot:"btn"},["AFORM"==t.formModel.entrustExecutoryStatus&&t.isRoles_m(["DIS"])?a("div",{staticClass:"btns"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.accept("formValidate")}}},[t._v("接受委托")]),a("Button",{on:{click:t.unacceptDialog}},[t._v("拒绝委托")])],1):t._e(),"CREATE"==t.formModel.entrustExecutoryStatus&&t.isRoles_m(["ENT","SALE"])?a("div",{staticClass:"btns"},[a("Button",{attrs:{type:"primary"},on:{click:t.sendTrust_m}},[t._v("发送委托")])],1):t._e()])]),a("line-header",{attrs:{lineHeaderData:t.cptlineHeaderData,trspTypeTranslate:t.cpttrspTypeTranslate,cargoTypeTranslate:t.cptcargoTypeTranslate,entrustCode:t.cptexecutoryEntrustCode,logisticsSchemeCode:t.formModel.logisticsSchemeCode,freightReqCode:t.formModel.freightReqCode,status:t.formModel.entrustExecutoryStatus,isFWSShow:!0}}),a("div",{staticClass:"tas-box"},[a("span",[t._v("单次物流委托编号：")]),a("span",[t._v(t._s(t.cptId))])]),a("div",{staticClass:"public-form-box"},[a("div",{staticClass:"public-form-content"},[a("Row",{staticClass:"publc-bottom20",attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("Col",{attrs:{span:"8"}},[a("detaiFormItem",{attrs:{tit:"发货人信息",titleList:t.titleList,valueObj:t.FH}})],1),a("Col",{attrs:{span:"8"}},[a("detaiFormItem",{attrs:{tit:"收货人信息",titleList:t.titleList,valueObj:t.SH}})],1),a("Col",{attrs:{span:"8"}},[a("detaiFormItem",{attrs:{tit:"通知人信息",titleList:t.titleList,valueObj:t.TZ}})],1)],1),a("Col",{attrs:{span:"6"}},[a("detaiFormItem",{attrs:{tit:"服务参数",titleList:t.titleFuWu,valueObj:t.formModel}})],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"18"}},[a("p",{staticClass:"item-form-title"},[t._v("货物信息")]),a("div",{staticClass:"public-line"}),a("div",{staticClass:"scroll-box"},[t.timeShow?a("cargo-info",{attrs:{arr:t.entrustCargoRes,isOne:t.isOne}},[a("template",{slot:"btns-end"},[a("span",[t._v("货物类型：")]),a("span",[t._v(t._s(t.formModel.cargoTypeTranslate))])])],2):t._e()],1)]),a("Col",{attrs:{span:"6"}},[a("detaiFormItem",{attrs:{tit:"运输要求",titleList:t.titleYunShu,valueObj:t.formModel}})],1)],1)],1)]),a("adt-my-modal",{attrs:{showModal:t.showItemModal,title:t.itemTitle},on:{"on-visible-change":t.visibleChange,"on-ok":t.handleItemModalOk}},[a("Form",{ref:"formValidate",attrs:{model:t.remarkForm,rules:t.remarkFormruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"拒绝理由",prop:"remark"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入..."},model:{value:t.remarkForm.remark,callback:function(e){t.$set(t.remarkForm,"remark",e)},expression:"remarkForm.remark"}})],1)],1)],1),a("adt-reconfirm-modal",{attrs:{showModal:t.fwsReconfirm.showDeleteModal,message:t.fwsReconfirm.message,cancelShow:!1},on:{"on-visible-change":t.deleteVisibleChange,"on-ok":t.handleDeleteModalOk}})],1)},i=[],r=(a("7db0"),a("5530")),n=a("77ab"),o=(a("b962"),a("c1df")),l=a.n(o),c=a("8f27"),u=a("36d5"),m=a("21c2"),d=a("6458"),p=a("5e47"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",{staticClass:"item-form-title"},[t._v(t._s(t.tit))]),a("div",{staticClass:"table-boxjz"},t._l(t.titleList,(function(e,s){return a("div",{key:s,staticClass:"table-rowjz"},[a("div",[t._v(t._s(e.title))]),a("div",{attrs:{title:t.valueObj[e.name]}},[t._v(t._s(t.valueObj[e.name])+t._s(e.unit))])])})),0)])},f=[],g={name:"detail-form-item",props:{titleList:{type:Array,default:function(){return[]}},valueObj:{type:Object,default:function(){return{}}},tit:{type:String,default:""}},data:function(){return{}},created:function(){},mounted:function(){},methods:{}},v=g,y=(a("5455"),a("2877")),_=Object(y["a"])(v,h,f,!1,null,"294b12f1",null),b=_.exports,C={name:"singleDetail",mixins:[c["a"],u["a"]],components:{CargoInfo:m["a"],lineHeader:d["a"],headerBtn:p["a"],detaiFormItem:b},data:function(){return{isOne:!0,fwsReconfirm:{showDeleteModal:!1,message:"接受委托后必须要去确定方案唯一 服务商，才能生成物流全程计划！"},titleList:[{title:"通知人名称：",name:"attenName"},{title:"代码：",name:"code"},{title:"地址：",name:"attenAddr"},{title:"电话：",name:"attenTel"},{title:"传真：",name:"attenFax"},{title:"邮箱：",name:"attenEmail"}],FH:{},SH:{},TZ:{},titleFuWu:[{title:"运输类型：",name:"trspTypeTranslate"},{title:"集装箱尺寸：",name:"contaSizeTranslate"},{title:"集装箱来源：",name:"containerSourceTranslate"},{},{},{}],titleYunShu:[{title:"主要运输方式：",name:"trspModeTranslate"},{title:"物流类型：",name:"logisticsTypeTranslate"},{title:"提箱类型：",name:"suitcaseTypeTranslate"},{title:"集装箱数量：",name:"suitcaseQty"},{title:"货物适宜温度：",name:"setTemperatureAt",unit:"°C"},{title:"出口报关地：",name:"exPortTranslate"},{title:"进口报关地：",name:"imPortTranslate"},{title:"最迟启运时间：",name:"lastStartTime"},{title:"最低时长要求：",name:"lowestTimeReq",unit:"天"},{title:"最高费用要求：",name:"highestCostReq",unit:"元"},{title:"预计货好时间：",name:"cargoReadyTime"},{title:"最晚到达时间：",name:"lastArriveTime"},{title:"合同编号：",name:"contractCode"},{title:"备注：",name:"remark"}],showItemModal:!1,itemTitle:"拒绝理由",remarkForm:{},remarkFormruleValidate:{remark:[{required:!0,message:"拒绝理由必填",trigger:"blur"},{type:"string",min:2,message:"最小输入两个字符",trigger:"blur"}]},timeShow:!1,formModel:{},entrustCargoRes:[]}},computed:{cptId:function(){var t=this.$route.query.executoryEntrustCode;return t},cptexecutoryEntrustCode:function(){var t=this.$route.query.executoryEntrustCode;return t},cptentrustCode:function(){var t=this.$route.query.entrustCode;return t},cptlineHeaderData:function(){var t=JSON.parse(this.$route.query.lineHeaderData);return t},cptcargoTypeTranslate:function(){var t=this.$route.query.cargoTypeTranslate;return t},cpttrspTypeTranslate:function(){var t=this.$route.query.trspTypeTranslate;return t},cptisDiaodu:function(){var t=this.$route.query.role;return"admin"==t}},created:function(){this.getDetail()},methods:{deleteVisibleChange:function(t){this.fwsReconfirm.showDeleteModal=t},handleDeleteModalOk:function(){this.fwsReconfirm.showDeleteModal=!1,this.$router.push({path:"/logistics-solutions/determine-logistics-solution-service-provider",query:{executoryEntrustCode:this.cptexecutoryEntrustCode,logisticsSchemeCode:this.$route.query.logisticsSchemeCode,freightReqCode:this.$route.query.freightReqCode,routeList:this.$route.query.lineHeaderData}})},visibleChange:function(t){this.showItemModal=t},handleItemModalOk:function(){this.showItemModal=!1,this.unaccept()},unacceptDialog:function(t){this.showItemModal=!0},accept:function(t){var e=this,a={executoryEntrustCode:this.cptexecutoryEntrustCode,entrustExecutoryStatus:"RECEIVE"};Object(n["O"])({data:a}).then((function(t){t.data;e.fwsReconfirm.showDeleteModal=!0,e.$Message.success("操作成功")}))},unaccept:function(t){var e=this,a={executoryEntrustCode:this.cptexecutoryEntrustCode,remark:this.remarkForm.remark,entrustExecutoryStatus:"REJECT"};Object(n["O"])({data:a}).then((function(t){t.data;e.$router.push("/logisstics-commission/one-logistics/1"),e.$Message.success("操作成功")}))},getDetail:function(){var t=this;Object(n["C"])({executoryEntrustCode:this.cptId}).then((function(e){var a=e.data,s=a.transportationAskRes,i=a.entrustAttenResList,n=a.entrustCargoRes,o=i.find((function(t){return"发货人"==t.linkType}));t.FH=o;var c=i.find((function(t){return"收货人"==t.linkType}));t.SH=c;var u=i.find((function(t){return"通知人"==t.linkType}));t.TZ=u;var m=Object(r["a"])({},s,{cargoTypeTranslate:n[0].cargoTypeTranslate});t.formModel=Object(r["a"])({},m,{lastStartTime:m.lastStartTime&&l()(m.lastStartTime).format("YYYY-MM-DD"),cargoReadyTime:m.cargoReadyTime&&l()(m.cargoReadyTime).format("YYYY-MM-DD"),lastArriveTime:m.lastArriveTime&&l()(m.lastArriveTime).format("YYYY-MM-DD"),entrustExecutoryStatus:a.entrustExecutoryStatus,logisticsSchemeCode:a.logisticsSchemeCode,freightReqCode:a.freightReqCode}),t.entrustCargoRes=n,t.timeShow=!0}))}}},I=C,T=(a("845d"),Object(y["a"])(I,s,i,!1,null,"325f0e86",null));e["default"]=T.exports},"0c5c":function(t,e,a){},1479:function(t,e,a){"use strict";var s=a("5492"),i=a.n(s);i.a},"14f5":function(t,e,a){},"1f1a0":function(t,e,a){"use strict";var s=a("a5dc"),i=a.n(s);i.a},"3b7e":function(t,e,a){},"3bfb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("adt-search-folder",{attrs:{searchRouter:{query:t.search},isStatus:!0,isTitle:!1}},[a("template",{slot:"status"},[a("div",{staticClass:"status"},[a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"name"},[t._v("产品状态：")]),t._l(t.productStatus,(function(e){return a("span",{key:e.dictionaryKey,class:{"click-status":t.search.serverStatus===e.dictionaryKey},on:{click:function(a){return t.auditStatus(e.dictionaryKey)}}},[t._v(" "+t._s(e.dictionaryValue)+" ")])}))],2),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"name"},[t._v("审核状态：")]),t._l(t.examineStatusDic,(function(e){return a("span",{key:e.dictionaryKey,class:{"click-status":t.search.examineStatus===e.dictionaryKey},on:{click:function(a){return t.auditStatus(e.dictionaryKey,!0)}}},[t._v(" "+t._s(e.dictionaryValue)+" ")])}))],2)],1)]),a("template",{slot:"always-show"},[a("Col",{staticClass:"form-item",attrs:{span:"8"}},[a("span",[t._v("报关城市:")]),a("adt-city-selector",{attrs:{defaultData:t.search.customsCity},on:{"on-change":t.changeCustomsCity}})],1)],1)],2),a("div",{staticClass:"btns-paginator"},[a("adt-button",{attrs:{selectList:t.selectList}},[a("Button",{on:{click:function(e){return t.addProduct()}}},[t._v(" 新建产品 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_tianjia"}})])]),a("Button",{on:{click:function(e){return t.validApply(t.apiAuditTrue,"")}}},[t._v(" "+t._s("有效"+(t.isManager?"":"申请"))+" "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-shenqing"}})])]),a("Button",{on:{click:function(e){return t.invalidApply(t.apiAuditFalse,"")}}},[t._v(" "+t._s("失效"+(t.isManager?"":"申请"))+" "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-shenqing"}})])]),a("Button",{on:{click:function(e){return t.batchDel()}}},[t._v(" 批量删除 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_piliangshanchu"}})])])],1),a("adt-paginator",{attrs:{currentPage:~~t.page,total:~~t.total,size:t.size}})],1),a("div",{staticClass:"public-list one-column"},t._l(t.listData,(function(e,s){return a("div",{key:s,staticClass:"public-component-card"},[a("adt-list-item",{attrs:{logistics:e,showCheckbox:!0,resetCheckStatus:t.resetCheckStatus},on:{checkData:t.checkData}},[a("template",{slot:"tab-title"},[a("span",[t._v("产品编号:"+t._s(e.serverCode))])]),a("template",{slot:"tab-operat"},[a("span",{class:{"card-status-success":"upload"===e.serverStatus||"enable"===e.serverStatus,"card-status-disable":"disable"===e.serverStatus}},[t._v(t._s(e.serverStatusTranslate))]),a("span",{class:{"card-status-success":"wait"===e.examineStatus||"pass"===e.examineStatus,"card-status-error":"fail"===e.examineStatus}},[t._v(t._s(e.examineStatusTranslate))]),a("Poptip",{staticClass:"card-icon",attrs:{placement:"right-start",trigger:"hover"}},[a("span",[t._v("详情")]),a("Icon",{attrs:{type:"md-arrow-dropdown"}}),a("div",{staticClass:"card-poptip-font",attrs:{slot:"content"},slot:"content"},[t.isManager&&"wait"===e.examineStatus?a("div",{on:{click:function(a){return t.examine(e)}}},[t._v(" 审核 ")]):t._e(),"upload"!==e.serverStatus&&"disable"!==e.serverStatus||"wait"===e.examineStatus?t._e():a("div",{on:{click:function(a){return t.validApply(t.apiAuditTrue,e)}}},[t._v(" "+t._s("有效"+(t.isManager?"":"申请"))+" ")]),"enable"===e.serverStatus&&"wait"!==e.examineStatus?a("div",{on:{click:function(a){return t.invalidApply(t.apiAuditFalse,e)}}},[t._v(" "+t._s("失效"+(t.isManager?"":"申请"))+" ")]):t._e(),a("div",{on:{click:function(a){return t.detail(e)}}},[t._v("详情")]),a("div",{on:{click:function(a){return t.edit(e)}}},[t._v("编辑")]),a("div",{staticClass:"failure",on:{click:function(a){return t.remove(e)}}},[t._v("删除")])])],1)],1),a("template",{slot:"tab-content"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"province"},[t._v(t._s("A"===e.customsType?"普通关务":"综保区关务"))]),a("div",{staticClass:"city-task"},[t._v(" "+t._s(e.customsCityTranslate&&e.customsCityTranslate.split(";").pop())),e.ieflag?[t._v("-")]:t._e(),e.ieflag?a("span",{staticClass:"task"},[t._v(" （"+t._s(e.ieflag.includes("I")?"进口报关":"")+t._s(2===e.ieflag.length?"、":"")+t._s(e.ieflag.includes("E")?"出口报关":"")+"） ")]):t._e()],2),e.PrefDiscount?[a("div",{staticClass:"account"},[a("span",[t._v(t._s(e.PrefDiscount))]),t._v("%")]),a("svg",{staticClass:"iconfont account-tag",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongcaidanICON_huaban28youhuizhekou"}})])]:t._e()],2)]),a("template",{slot:"tab-bottom"},[a("div",{staticClass:"tab-bottom"},[a("div",[t._v("产品执行时长："+t._s(e.totalTime)+t._s(e.totalTimeUnitTranslate))]),a("div",{staticClass:"valid-time"},[t._v(" 产品有效期： "+t._s(t.timestampFormat(e.serverStartTime))+" -- "+t._s(t.timestampFormat(e.serverEndTime))+" ")]),a("div",[t._v(" 价格：￥"),a("span",[t._v(t._s(e.priceTotal))])])])])],2)],1)})),0),a("adt-my-modal",{attrs:{title:"设置优惠折扣比",showModal:t.isModalShow},on:{"on-visible-change":t.visibleChange,"on-ok":function(e){return t.confirmSetDiscount()}}},[a("Form",{ref:"formValidate",attrs:{"label-position":"left",model:t.discountData,rules:t.ruleValidate,"label-colon":!0,"label-width":120,inline:""}},[a("FormItem",{attrs:{label:"优惠折扣比",prop:"discount"}},[a("Input",{attrs:{placeholder:"输入1~99之间的数字"},model:{value:t.discountData.discount,callback:function(e){t.$set(t.discountData,"discount",e)},expression:"discountData.discount"}},[a("span",{staticStyle:{"line-height":"32px"},attrs:{slot:"suffix"},slot:"suffix"},[t._v("%")])])],1)],1)],1),a("adt-reconfirm-modal",{attrs:{message:"确认取消勾选产品的优惠折扣吗？",title:"取消折扣",showModal:t.isCancelDiscountModalShow},on:{"on-visible-change":t.cancelDiscountVisibleChange,"on-ok":function(e){return t.confirmCancelDiscount()}}}),a("adt-my-modal",{attrs:{width:"600",title:t.examineModalTitle,showModal:t.isExamineModalShow},on:{"on-visible-change":t.examineVisibleChange,"on-ok":function(e){return t.examineSave(t.apiAuditTrueOk,t.apiAuditTrueNo,t.apiAuditFalseOk,t.apiAuditFalseNo)}}},[a("RadioGroup",{staticStyle:{"margin-bottom":"20px"},model:{value:t.agree,callback:function(e){t.agree=e},expression:"agree"}},[a("Radio",{attrs:{label:"1"}},[t._v("同意"+t._s(1===t.examineType?"有效":"失效"))]),a("Radio",{staticStyle:{"margin-left":"30px"},attrs:{label:"0"}},[t._v("不同意"+t._s(1===t.examineType?"有效":"失效"))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.agree,expression:"agree === '0'"}]},[a("div",{staticClass:"reason-name",staticStyle:{"margin-bottom":"6px"}},[t._v("不同意原因备注:")]),a("Input",{attrs:{type:"textarea",placeholder:"请输入内容..."},model:{value:t.reason,callback:function(e){t.reason="string"===typeof e?e.trim():e},expression:"reason"}})],1)],1),a("adt-reconfirm-modal",{attrs:{title:"失效审核",message:t.sxMessage,showModal:t.isSxModalShow},on:{"on-visible-change":t.sxVisibleChange,"on-ok":function(e){return t.confirmSx()}}}),a("adt-reconfirm-modal",{attrs:{showModal:t.isDeleteModalShow},on:{"on-visible-change":t.deleteVisibleChange,"on-ok":function(e){return t.confirmDelete()}}})],1)},i=[],r=(a("a15b"),a("ac1f"),a("841c"),a("1276"),a("96cf"),a("1da1")),n=a("01ef"),o=a("35ec"),l={mixins:[n["a"]],props:{customsCity:"",serverStatus:"",examineStatus:""},data:function(){return{productType:3,apiAuditTrue:o["g"],apiAuditFalse:o["d"],apiAuditTrueOk:o["i"],apiAuditTrueNo:o["h"],apiAuditFalseOk:o["f"],apiAuditFalseNo:o["e"],search:{customsCity:this.customsCity,serverStatus:this.serverStatus,examineStatus:this.examineStatus},btnIndex:1}},methods:{getData:function(){var t=this,e=this.search.customsCity?this.search.customsCity.split("~"):[],a={page:this.page,size:this.size,customsCity:e.length?e.join(";"):"",serverStatus:this.search.serverStatus,examineStatus:this.search.examineStatus};this.resetCheckStatus=!1,Object(o["m"])({data:a}).then((function(e){var a=e.data;t.listData=a.content||[],t.total=a.totalElements,t.selectList=[],t.resetCheckStatus=!0}))},addProduct:function(){this.$router.push("/product-editor/add-customs-product")},edit:function(t){this.$router.push("/product-editor/edit-product/".concat(t.serverCode,"?type=customs"))},detail:function(t){this.$router.push("/product-editor/product-detail/".concat(t.serverCode,"?type=customs"))},changeCustomsCity:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.search.customsCity=t.value.join("~");case 1:case"end":return a.stop()}}),a)})))()}}},c=l,u=(a("ccb9"),a("2877")),m=Object(u["a"])(c,s,i,!1,null,"0cdf60a3",null);e["default"]=m.exports},"426a":function(t,e,a){},"432e":function(t,e,a){},4654:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"formItemData",attrs:{model:t.formItem,rules:t.ruleValidate,"label-width":200}},[a("div",{staticClass:"public-form-card"},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"委托类型:",prop:"entrustType"}},[t.isDetail?a("div",[t._v(t._s(t.formItem.entrustTypeTranslate))]):a("Select",{attrs:{clearable:""},model:{value:t.formItem.entrustType,callback:function(e){t.$set(t.formItem,"entrustType",e)},expression:"formItem.entrustType"}},t._l(t.delegationTypeList,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同编号:"}},[a("Input",{model:{value:t.formItem.contractCode,callback:function(e){t.$set(t.formItem,"contractCode",e)},expression:"formItem.contractCode"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同委托起期:",prop:"startPeriod"}},[t.isDetail?a("div",[t._v(t._s(t.formItem.startPeriod))]):a("DatePicker",{attrs:{type:"date","split-panels":""},model:{value:t.formItem.startPeriod,callback:function(e){t.$set(t.formItem,"startPeriod",e)},expression:"formItem.startPeriod"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同委托止期:",prop:"untilPeriod"}},[t.isDetail?a("div",[t._v(t._s(t.formItem.untilPeriod))]):a("DatePicker",{attrs:{type:"date","split-panels":""},model:{value:t.formItem.untilPeriod,callback:function(e){t.$set(t.formItem,"untilPeriod",e)},expression:"formItem.untilPeriod"}})],1)],1)],1),t.isDetail||t.isEdit?a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"货物总量:"}},[t._v(" "+t._s(t.formItem.cargoTotal)+t._s(t.formItem.weightUnitTranslate||"KG")+" ")])],1),"R"==t.formItem.entrustType?a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"委托周期:"}},[t._v(" "+t._s(t.formItem.entrustPeriod)+t._s(t.formItem.entrustPeriodUnitTranslate||"天")+" ")])],1):t._e(),"R"!==t.formItem.entrustType?a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:" "}})],1):t._e()],1):a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"货物总量:",prop:"cargoTotal"}},[a("Input",{attrs:{type:"number"},model:{value:t.formItem.cargoTotal,callback:function(e){t.$set(t.formItem,"cargoTotal",t._n(e))},expression:"formItem.cargoTotal"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("kg")])])],1)],1),"R"==t.formItem.entrustType?a("Col",{staticClass:"no-right-border",attrs:{span:"12"}},[a("FormItem",{attrs:{label:"委托周期:",prop:"entrustPeriod"}},[a("Input",{attrs:{type:"number"},model:{value:t.formItem.entrustPeriod,callback:function(e){t.$set(t.formItem,"entrustPeriod",t._n(e))},expression:"formItem.entrustPeriod"}},[a("Select",{staticStyle:{width:"80px"},attrs:{slot:"append"},slot:"append",model:{value:t.formItem.entrustPeriodUnit,callback:function(e){t.$set(t.formItem,"entrustPeriodUnit",e)},expression:"formItem.entrustPeriodUnit"}},t._l(t.timeUnits,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(t._s(e.dictionaryValue))])})),1)],1)],1)],1):t._e(),"R"!==t.formItem.entrustType?a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:" "}})],1):t._e()],1)],1)]),t.isDetail?t._e():a("div",{staticClass:"public-btns-group"},[a("Button",{attrs:{type:"primary",shape:"circle",size:"large"},on:{click:t.submitForm}},[t._v("下一步")])],1)],1)},i=[],r=(a("a9e3"),a("b962")),n={props:{defaultData:{type:Object,default:function(){return{entrustType:"",startPeriod:"",untilPeriod:"",cargoTotal:"",entrustPeriod:"",entrustPeriodUnit:"D",cooperationType:""}}},isDetail:{type:Boolean,default:!0},isEdit:{type:Boolean,default:!0},eStatus:{type:String,default:"CREATEs"},judge:{type:Object,default:function(){return{}}}},data:function(){return{timeUnits:this.$getDictionary("TIME_UNIT"),delegationTypeList:this.$getDictionary("DELEGATION_TYPE"),formItem:this.defaultData,ruleValidate:{entrustType:[r["a"].select("委托类型")[0]],startPeriod:[{required:!0,validator:r["a"].validateTime,trigger:"change"}],untilPeriod:[{required:!0,validator:r["a"].validateTime,trigger:"change"}],cargoTotal:[r["a"].requiredNoNumber("货物总量")[0]],entrustPeriod:[r["a"].positiveInteger("委托周期")[0]]}}},methods:{submitForm:function(){var t=this;this.$refs.formItemData.validate((function(e){e&&(t.formItem.cargoTotal=Number(t.formItem.cargoTotal),t.formItem.entrustPeriod=Number(t.formItem.entrustPeriod),t.$emit("submit-form",t.formItem))}))},enablefn:function(){var t="CREATE",e="AFORM",a="REJECT",s="CANCEL",i=(this.judge.enter,this.judge.input),r=this.eStatus,n=this.judge.coopType;return{base:function(){if("S"==n){if("input"==i)return!1;if("edit"==i)return r!=t&&r!=e&&r!=a&&r!=s}else{if("input"==i)return!1;if("edit"==i)return!0}}}}}},o=n,l=(a("fa5c"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,"7f1d15e6",null);e["default"]=c.exports},"47bf":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"5"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("报关类型:")]),a("Col",{staticClass:"col-center",attrs:{span:"7"}},t._l(t.declType||["进口"],(function(e,s){return a("span",{key:s,staticClass:"cargo-item-check"},[t._v(" "+t._s(t.declTypeTrans(e))+" ")])})),0),a("Col",{staticClass:"gray-bg",attrs:{span:"5"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("货物类型:")]),a("Col",{staticClass:"col-center",attrs:{span:"7"}},t._l(t.cargoType||["普货"],(function(e,s){return a("span",{key:s,staticClass:"cargo-item-check"},[t._v(" "+t._s(t.cargoTypeTrans(e))+" ")])})),0)],1),a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"5"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("运输方式:")]),a("Col",{staticClass:"col-center",attrs:{span:"7"}},t._l(t.trspMode||["空运","水运"],(function(e,s){return a("span",{key:s,staticClass:"cargo-item-check"},[t._v(" "+t._s(t.trspModeTrans(e))+" ")])})),0),a("Col",{staticClass:"gray-bg",attrs:{span:"5"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("运输类型:")]),a("Col",{staticClass:"col-center",attrs:{span:"7"}},t._l(t.trspType||["集装箱"],(function(e,s){return a("span",{key:s,staticClass:"cargo-item-check"},[t._v(" "+t._s(t.trspTypeTrans(e))+" ")])})),0)],1),a("Row",{staticClass:"rowauto"},[a("Col",{staticClass:"gray-bg",staticStyle:{border:"none"},attrs:{span:"5"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("主要申报货物:")]),a("Col",{staticClass:"collpan colauto",attrs:{span:"19"}},t._l(t.mainDeclGoods,(function(e,s){return a("span",{key:s,staticClass:"cargo-item-label"},[t._v(" "+t._s(e)+" ")])})),0)],1),a("Row",{staticClass:"rowauto"},[a("Col",{staticClass:"gray-bg",staticStyle:{border:"none"},attrs:{span:"5"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("不能申报货物:")]),a("Col",{staticClass:"collpan colauto",attrs:{span:"19"}},t._l(t.banDeclGoods,(function(e,s){return a("span",{key:s,staticClass:"cargo-item-label"},[t._v(" "+t._s(e)+" ")])})),0)],1),a("Row",{staticClass:"rowauto"},[a("Col",{staticClass:"gray-bg",staticStyle:{border:"none"},attrs:{span:"5"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("申报关区:")]),a("Col",{staticClass:"collpan colauto",attrs:{span:"19"}},t._l(t.formItem.declCustomsList,(function(e,s){return a("span",{key:s,staticClass:"cargo-item-label"},[t._v(" "+t._s(e.declCuatomsCodeTranslate||e.declCuatomsCode)+" ")])})),0)],1),a("Row",{staticClass:"rowauto"},[a("Col",{staticClass:"gray-bg",staticStyle:{border:"none"},attrs:{span:"5"}},[t._v(" 报关单据要求: ")]),a("Col",{staticClass:"collpan colauto",attrs:{span:"19"}},t._l(t.formItem.customsBillList,(function(e,s){return a("div",{key:s,staticClass:"cargo-item-row"},[a("span",{staticClass:"cargo-item-label"},[t._v(" "+t._s(e.certName||"单据名称")+" ")]),t._v(" "+t._s("CT"==e.modeType?"国家要求模板":"自定义模板")+" "),a("span",{staticClass:"cargo-item-label",on:{click:function(a){return t.aDownload(e)}}},[t._v(" 附件下载 ")])])})),0)],1),a("Row",[a("Col",{staticClass:"gray-bg collr3",attrs:{span:"5"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("作业时间范围:")]),a("Col",{staticClass:"collr3 collpan",attrs:{span:"19"}},[t._l(t.dateList,(function(e,s){return a("span",{key:s,class:{"cargo-item-label":e.check,uncheck:!e.check},on:{click:function(a){return t.checkTime(e)}}},[t._v(t._s(e.name))])})),a("div",{staticClass:"cargo-main-input"},[t._v(" "+t._s(t.timeRange)+" ")])],2)],1),a("Row",{staticClass:"rowauto"},[a("Col",{staticClass:"gray-bg",staticStyle:{border:"none"},attrs:{span:"5"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("服务/报价:")]),a("Col",{staticClass:"collpan colauto",attrs:{span:"19"}},t._l(t.formItem.receiptServerList,(function(e,s){return a("div",{key:s,staticClass:"cargo-item-row"},[a("span",{staticClass:"cargo-item-label"},[t._v(" "+t._s(e.serverName)+" ")]),t._v(" "+t._s(e.serverNumber)+" "+t._s(t.currTrans(e.serverCurr))+" / "+t._s(t.currGoodsUnitTrans(e.serverUnit))+" ")])})),0)],1)],1)]),a("companyItemDetail",{attrs:{defaultData:t.companyData}})],1)},i=[],r=(a("7db0"),a("4160"),a("b0c0"),a("d3b7"),a("ac1f"),a("1276"),a("159b"),a("90fe")),n={name:"GenCustomsTempDetail",components:{companyItemDetail:function(){return a.e("chunk-bf428e66").then(a.bind(null,"850d"))}},props:{defaultData:{type:Object,default:{}}},data:function(){return{isShowDrawer:!1,CUSTOMS_DECLARATION_TYPE:[{dictionaryKey:"I",dictionaryValue:"进口"},{dictionaryKey:"E",dictionaryValue:"出口"}],TRANSPORT_MODE:[{dictionaryKey:"WATERWAY",dictionaryValue:"水运"},{dictionaryKey:"AIRLIFT",dictionaryValue:"空运"},{dictionaryKey:"PUBROAD",dictionaryValue:"公路"},{dictionaryKey:"RAILWAY",dictionaryValue:"铁运"}],CURRENCY_CODE:[{dictionaryKey:"CNY",dictionaryValue:"元"},{dictionaryKey:"USD",dictionaryValue:"美元"},{dictionaryKey:"EUR",dictionaryValue:"欧元"}],GOODS_UNIT:[{dictionaryKey:"TEU",dictionaryValue:"TEU"},{dictionaryKey:"KG",dictionaryValue:"KG"},{dictionaryKey:"NUM",dictionaryValue:"次数"}],GOODS_TYPE:[{dictionaryKey:"G",dictionaryValue:"普货"},{dictionaryKey:"C",dictionaryValue:"恒温货"}],TRANSPORT_TYPE:[{dictionaryKey:"C",dictionaryValue:"集装箱"},{dictionaryKey:"B",dictionaryValue:"件杂货"}],TEMPLATEl_TYPE:[{dictionaryKey:"CT",dictionaryValue:"国家要求模板"},{dictionaryKey:"CD",dictionaryValue:"自定义模板"}],arrList:[{name:"周一",check:!1},{name:"周二",check:!1},{name:"周三",check:!1},{name:"周四",check:!1},{name:"周五",check:!1},{name:"周六",check:!1},{name:"周日",check:!1}],timeRange:"",formItem:{declCustomsList:[],mainDeclGoods:"",banDeclGoods:"",customsBillList:[],trspType:"",trspMode:"",declType:"",cargoType:"",receiptPeriodList:[],receiptServerList:[{serverName:"服务一",serverNumber:15,serverCurr:"元",serverUnit:"集装箱"}]},companyData:{}}},methods:{drawerChange:function(t){this.$emit("on-visible-change",t)},declTypeTrans:function(t){var e=this.CUSTOMS_DECLARATION_TYPE.find((function(e){return e.dictionaryKey===t}));return e&&e.dictionaryValue},trspModeTrans:function(t){var e=this.TRANSPORT_MODE.find((function(e){return e.dictionaryKey===t}));return e&&e.dictionaryValue},trspTypeTrans:function(t){var e=this.TRANSPORT_TYPE.find((function(e){return e.dictionaryKey===t}));return e&&e.dictionaryValue},tempTypeTrans:function(t){var e=this.TEMPLATEl_TYPE.find((function(e){return e.dictionaryKey===t}));return e&&e.dictionaryValue},currTrans:function(t){var e=this.CURRENCY_CODE.find((function(e){return e.dictionaryKey===t}));return e&&e.dictionaryValue},currGoodsUnitTrans:function(t){var e=this.GOODS_UNIT.find((function(e){return e.dictionaryKey===t}));return e&&e.dictionaryValue},cargoTypeTrans:function(t){return"G"===t?"普货(不控温相关免责条款)":"恒温货(温度设定相关免责条款)"},aDownload:function(t){if(t.modePath){var e=t.modePath;if(2!==e.split("~").length)return;var a=e.split("~")[0],s=e.split("~")[1];Object(r["b"])(a,s)}else this.$Message.warning("缺失自定义文件下载路径")},checkTime:function(t){t.check&&(t.time?this.timeRange=t.time:this.timeRange="")},save:function(){this.isShowDrawer=!1},cancel:function(){this.isShowDrawer=!1}},computed:{cargoType:function(){if(this.formItem.cargoType)return this.formItem.cargoType.split(";")},declType:function(){if(this.formItem.declType)return this.formItem.declType.split(";")},trspType:function(){if(this.formItem.trspType)return this.formItem.trspType.split(";")},trspMode:function(){if(this.formItem.trspMode)return this.formItem.trspMode.split(";")},mainDeclGoods:function(){if(this.formItem.mainDeclGoods)return this.formItem.mainDeclGoods.split(";")},banDeclGoods:function(){if(this.formItem.banDeclGoods)return this.formItem.banDeclGoods.split(";")},dateList:function(){var t=this;if(this.formItem.receiptPeriodList)return this.arrList.forEach((function(e){t.formItem.receiptPeriodList.forEach((function(t){e.name===t.cycle&&(e.check=!0,e.time=t.workShift+" - "+t.workOff)}))})),this.arrList}},watch:{defaultData:{handler:function(t){var e=JSON.parse(JSON.stringify(t));if(this.formItem={cargoType:e.cargoType,banDeclGoods:e.banDeclGoods,mainDeclGoods:e.mainDeclGoods,customsBillList:e.customsBillList,declCustomsList:e.declCustomsList,inquiryPlanCode:e.inquiryPlanCode,receiptPeriodList:e.receiptPeriodList,receiptServerList:e.receiptServerList,trspType:e.trspType,trspMode:e.trspMode,declType:e.declType},e.receiptPeriodList&&e.receiptPeriodList.length){var a=e.receiptPeriodList[0];this.timeRange=a.workShift+" - "+a.workOff}this.companyData={etcpName:e.etcpName,etcpAddr:e.etcpAddr,enterpriseCode:e.enterpriseCode,businessEr:e.businessEr,businessTel:e.businessTel,billNumber:e.billNumber,billPath:e.billPath,billType:e.billType,billUnit:e.billUnit,payUnit:e.payUnit,payType:e.payType,payNumber:e.payNumber}},immediate:!0}}},o=n,l=(a("1479"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,"364edd70",null);e["default"]=c.exports},"4d21":function(t,e,a){},"4f81":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("adt-search-folder",{attrs:{searchRouter:{query:t.search},isStatus:!0,isTitle:!1}},[a("template",{slot:"status"},[a("div",{staticClass:"status"},[a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"name"},[t._v("产品状态：")]),t._l(t.productStatus,(function(e){return a("span",{key:e.dictionaryKey,class:{"click-status":t.search.serverStatus===e.dictionaryKey},on:{click:function(a){return t.auditStatus(e.dictionaryKey)}}},[t._v(" "+t._s(e.dictionaryValue)+" ")])}))],2),a("Col",{attrs:{span:"8"}},[a("div",{staticClass:"name"},[t._v("审核状态：")]),t._l(t.examineStatusDic,(function(e){return a("span",{key:e.dictionaryKey,class:{"click-status":t.search.examineStatus===e.dictionaryKey},on:{click:function(a){return t.auditStatus(e.dictionaryKey,!0)}}},[t._v(" "+t._s(e.dictionaryValue)+" ")])}))],2)],1)]),a("template",{slot:"always-show"},[a("Col",{staticClass:"form-item",attrs:{span:"8"}},[a("span",{staticStyle:{width:"55px","flex-shrink":"0"}},[t._v("启运地:")]),a("adt-city-selector",{attrs:{defaultData:t.search.dispatchCity},on:{"on-change":t.changeDispatchCity}}),a("span",{staticStyle:{width:"65px","flex-shrink":"0"}},[t._v("选择场所:")]),a("Select",{attrs:{clearable:""},model:{value:t.search.dispatchSite,callback:function(e){t.$set(t.search,"dispatchSite",e)},expression:"search.dispatchSite"}},t._l(t.dispatchOptions,(function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1),a("Col",{staticClass:"form-item",attrs:{span:"8",offset:"2"}},[a("span",{staticStyle:{width:"55px","flex-shrink":"0"}},[t._v("目的地:")]),a("adt-city-selector",{attrs:{defaultData:t.search.destinationCity},on:{"on-change":t.changeDestinationCity}}),a("span",{staticStyle:{width:"65px","flex-shrink":"0"}},[t._v("选择场所:")]),a("Select",{attrs:{clearable:""},model:{value:t.search.destinationSite,callback:function(e){t.$set(t.search,"destinationSite",e)},expression:"search.destinationSite"}},t._l(t.destinationOptions,(function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1),a("Col",{staticClass:"form-item",attrs:{span:"5",offset:"1"}},[a("span",{staticStyle:{"margin-right":"12px","text-align":"right"}},[t._v("产品编号:")]),a("Input",{attrs:{clearable:""},model:{value:t.search.serverCode,callback:function(e){t.$set(t.search,"serverCode",e)},expression:"search.serverCode"}})],1)],1)],2),a("div",{staticClass:"btns-paginator"},[a("adt-button",{attrs:{selectList:t.selectList}},[a("Button",{on:{click:function(e){return t.addProduct()}}},[t._v(" 新建产品 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_tianjia"}})])]),a("Button",{on:{click:function(e){return t.validApply(t.apiAuditTrue,"")}}},[t._v(" "+t._s("有效"+(t.isManager?"":"申请"))+" "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-shenqing"}})])]),a("Button",{on:{click:function(e){return t.invalidApply(t.apiAuditFalse,"")}}},[t._v(" "+t._s("失效"+(t.isManager?"":"申请"))+" "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-shenqing"}})])]),a("Button",{on:{click:function(e){return t.batchDel()}}},[t._v(" 批量删除 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_piliangshanchu"}})])])],1),a("adt-paginator",{attrs:{currentPage:~~t.page,total:~~t.total,size:t.size}})],1),a("div",{staticClass:"public-list one-column"},t._l(t.listData,(function(e,s){return a("div",{key:s,staticClass:"public-component-card"},[a("adt-list-item",{attrs:{logistics:e,showCheckbox:!0,resetCheckStatus:t.resetCheckStatus},on:{checkData:t.checkData}},[a("template",{slot:"tab-title"},[a("span",[t._v("产品编号:"+t._s(e.serverCode))])]),a("template",{slot:"tab-operat"},[a("span",{class:{"card-status-success":"upload"===e.serverStatus||"enable"===e.serverStatus,"card-status-disable":"disable"===e.serverStatus}},[t._v(t._s(e.serverStatusTranslate))]),a("span",{class:{"card-status-success":"wait"===e.examineStatus||"pass"===e.examineStatus,"card-status-error":"fail"===e.examineStatus}},[t._v(t._s(e.examineStatusTranslate))]),a("Poptip",{staticClass:"card-icon",attrs:{placement:"right-start",trigger:"hover"}},[a("span",[t._v("详情")]),a("Icon",{attrs:{type:"md-arrow-dropdown"}}),a("div",{staticClass:"card-poptip-font",attrs:{slot:"content"},slot:"content"},[t.isManager&&"wait"===e.examineStatus?a("div",{on:{click:function(a){return t.examine(e)}}},[t._v(" 审核 ")]):t._e(),"upload"!==e.serverStatus&&"disable"!==e.serverStatus||"wait"===e.examineStatus?t._e():a("div",{on:{click:function(a){return t.validApply(t.apiAuditTrue,e)}}},[t._v(" "+t._s("有效"+(t.isManager?"":"申请"))+" ")]),"enable"===e.serverStatus&&"wait"!==e.examineStatus?a("div",{on:{click:function(a){return t.invalidApply(t.apiAuditFalse,e)}}},[t._v(" "+t._s("失效"+(t.isManager?"":"申请"))+" ")]):t._e(),a("div",{on:{click:function(a){return t.detail(e)}}},[t._v("详情")]),a("div",{on:{click:function(a){return t.edit(e)}}},[t._v("编辑")]),a("div",{staticClass:"failure",on:{click:function(a){return t.remove(e)}}},[t._v("删除")])])],1)],1),a("template",{slot:"tab-content"},[a("div",{staticClass:"tab-content"},[a("div",{staticClass:"transport-info"},[a("div",{staticClass:"city",attrs:{title:e.departurePortTranslate&&e.departurePortTranslate.split(";").pop()}},[t._v(" "+t._s(e.departurePortTranslate&&e.departurePortTranslate.split(";").pop())+" ")]),"WATERWAY"===e.trspMode?a("svg",{staticClass:"iconfont way",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongcaidanICON_lunchuan"}})]):t._e(),"AIRLIFT"===e.trspMode?a("svg",{staticClass:"iconfont way",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-feiji800"}})]):t._e(),"PUBROAD"===e.trspMode?a("svg",{staticClass:"iconfont way",staticStyle:{transform:"rotateY(180deg)","font-size":"20px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-huoche"}})]):t._e(),"RAILWAY"===e.trspMode?a("svg",{staticClass:"iconfont way",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongcaidanICON_huoche"}})]):t._e(),a("div",{staticClass:"type"},[t._v(t._s(e.logisticsTypeTranslate)+"-"+t._s(e.trspTypeTranslate))]),a("svg",{staticClass:"iconfont arrow",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongcaidanICON_jiantou"}})]),a("div",{staticClass:"city",attrs:{title:e.destinationPortTranslate&&e.destinationPortTranslate.split(";").pop()}},[t._v(" "+t._s(e.destinationPortTranslate&&e.destinationPortTranslate.split(";").pop())+" ")])]),e.PrefDiscount?[a("div",{staticClass:"account"},[a("span",[t._v(t._s(e.PrefDiscount))]),t._v("%")]),a("svg",{staticClass:"iconfont account-tag",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongcaidanICON_huaban28youhuizhekou"}})])]:t._e()],2)]),a("template",{slot:"tab-bottom"},[a("div",{staticClass:"tab-bottom"},[a("div",[t._v("产品执行时长："+t._s(e.totalTime)+t._s(e.totalTimeUnitTranslate))]),a("div",{staticClass:"valid-time"},[t._v(" 产品有效期： "+t._s(t.timestampFormat(e.serverStartTime))+" -- "+t._s(t.timestampFormat(e.serverEndTime))+" ")]),a("div",[t._v(" 价格：￥"),a("span",[t._v(t._s(e.priceTotal))])])])])],2)],1)})),0),a("adt-my-modal",{attrs:{title:"设置优惠折扣比",showModal:t.isModalShow},on:{"on-visible-change":t.visibleChange,"on-ok":function(e){return t.confirmSetDiscount()}}},[a("Form",{ref:"formValidate",attrs:{"label-position":"left",model:t.discountData,rules:t.ruleValidate,"label-colon":!0,"label-width":120,inline:""}},[a("FormItem",{attrs:{label:"优惠折扣比",prop:"discount"}},[a("Input",{attrs:{placeholder:"输入1~99之间的数字"},model:{value:t.discountData.discount,callback:function(e){t.$set(t.discountData,"discount",e)},expression:"discountData.discount"}},[a("span",{staticStyle:{"line-height":"32px"},attrs:{slot:"suffix"},slot:"suffix"},[t._v("%")])])],1)],1)],1),a("adt-reconfirm-modal",{attrs:{message:"确认取消勾选产品的优惠折扣吗？",title:"取消折扣",showModal:t.isCancelDiscountModalShow},on:{"on-visible-change":t.cancelDiscountVisibleChange,"on-ok":function(e){return t.confirmCancelDiscount()}}}),a("adt-my-modal",{attrs:{width:"600",title:t.examineModalTitle,showModal:t.isExamineModalShow},on:{"on-visible-change":t.examineVisibleChange,"on-ok":function(e){return t.examineSave(t.apiAuditTrueOk,t.apiAuditTrueNo,t.apiAuditFalseOk,t.apiAuditFalseNo)}}},[a("RadioGroup",{staticStyle:{"margin-bottom":"20px"},model:{value:t.agree,callback:function(e){t.agree=e},expression:"agree"}},[a("Radio",{attrs:{label:"1"}},[t._v("同意"+t._s(1===t.examineType?"有效":"失效"))]),a("Radio",{staticStyle:{"margin-left":"30px"},attrs:{label:"0"}},[t._v("不同意"+t._s(1===t.examineType?"有效":"失效"))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"0"===t.agree,expression:"agree === '0'"}]},[a("div",{staticClass:"reason-name",staticStyle:{"margin-bottom":"6px"}},[t._v("不同意原因备注:")]),a("Input",{attrs:{type:"textarea",placeholder:"请输入内容..."},model:{value:t.reason,callback:function(e){t.reason="string"===typeof e?e.trim():e},expression:"reason"}})],1)],1),a("adt-reconfirm-modal",{attrs:{title:"失效审核",message:t.sxMessage,showModal:t.isSxModalShow},on:{"on-visible-change":t.sxVisibleChange,"on-ok":function(e){return t.confirmSx()}}}),a("adt-reconfirm-modal",{attrs:{showModal:t.isDeleteModalShow},on:{"on-visible-change":t.deleteVisibleChange,"on-ok":function(e){return t.confirmDelete()}}})],1)},i=[],r=(a("99af"),a("a15b"),a("ac1f"),a("841c"),a("1276"),a("96cf"),a("1da1")),n=a("01ef"),o=a("35ec"),l={mixins:[n["a"]],props:{dispatchCity:"",dispatchSite:"",destinationCity:"",destinationSite:"",serverStatus:"",examineStatus:"",serverCode:""},data:function(){return{productType:2,apiAuditTrue:o["H"],apiAuditFalse:o["E"],apiAuditTrueOk:o["J"],apiAuditTrueNo:o["I"],apiAuditFalseOk:o["G"],apiAuditFalseNo:o["F"],search:{dispatchCity:this.dispatchCity,dispatchSite:this.dispatchSite,destinationCity:this.destinationCity,destinationSite:this.destinationSite,serverStatus:this.serverStatus,examineStatus:this.examineStatus,serverCode:this.serverCode},dispatchOptions:[],destinationOptions:[],btnIndex:1}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.search.dispatchCity){e.next=4;break}return e.next=3,t._handelDir(t.search.dispatchCity.split("~"));case 3:t.dispatchOptions=e.sent;case 4:if(!t.search.destinationCity){e.next=8;break}return e.next=7,t._handelDir(t.search.destinationCity.split("~"));case 7:t.destinationOptions=e.sent;case 8:case"end":return e.stop()}}),e)})))()},methods:{getData:function(){var t=this,e=this.search.dispatchCity?this.search.dispatchCity.split("~"):[],a=this.search.destinationCity?this.search.destinationCity.split("~"):[],s={page:this.page,size:this.size,departurePort:e.length?"".concat(e.join(";"),";").concat(this.search.dispatchSite||""):"",destinationPort:a.length?"".concat(a.join(";"),";").concat(this.search.destinationSite||""):"",serverStatus:this.search.serverStatus,examineStatus:this.search.examineStatus,serverCode:this.search.serverCode};this.resetCheckStatus=!1,Object(o["N"])({data:s}).then((function(e){var a=e.data;t.listData=a.content||[],t.total=a.totalElements,t.selectList=[],t.resetCheckStatus=!0}))},addProduct:function(){this.$router.push("/product-editor/add-transport-product")},edit:function(t){this.$router.push("/product-editor/edit-product/".concat(t.serverCode,"?type=transport"))},detail:function(t){this.$router.push("/product-editor/product-detail/".concat(t.serverCode,"?type=transport"))},changeDispatchCity:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.search.dispatchCity=t.value.join("~"),a.next=3,e._handelDir(t.value);case 3:e.dispatchOptions=a.sent;case 4:case"end":return a.stop()}}),a)})))()},changeDestinationCity:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.search.destinationCity=t.value.join("~"),a.next=3,e._handelDir(t.value);case 3:e.destinationOptions=a.sent;case 4:case"end":return a.stop()}}),a)})))()}}},c=l,u=(a("c733"),a("2877")),m=Object(u["a"])(c,s,i,!1,null,"1ef17938",null);e["default"]=m.exports},51352:function(t,e,a){"use strict";var s=a("6105"),i=a.n(s);i.a},5455:function(t,e,a){"use strict";var s=a("caed"),i=a.n(s);i.a},5492:function(t,e,a){},"5f40":function(t,e,a){},6105:function(t,e,a){},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"62fd":function(t,e,a){},"6d21":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"formItemData",class:{"is-check":t.isCheck},attrs:{model:t.formItem,rules:t.isCheck?{}:t.ruleValidate}},[a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计价箱型箱量：")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("集装箱类型：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"contaType"}},[a("Select",{attrs:{clearable:""},model:{value:t.formItem.contaType,callback:function(e){t.$set(t.formItem,"contaType",e)},expression:"formItem.contaType"}},t._l(t.contaSizeType,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:""+e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("集装箱数量：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"contaQty"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.contaQty,callback:function(e){t.$set(t.formItem,"contaQty",t._n("string"===typeof e?e.trim():e))},expression:"formItem.contaQty"}})],1)],1)],1),a("table",{staticClass:"table",attrs:{border:"1"}},[a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"16.7%"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v(" 计价免箱期")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"11.5%"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v(" 启运港免箱期")]),a("td",{staticStyle:{width:"16.7%"}},[a("div",{staticClass:"flex"},[a("FormItem",{attrs:{prop:"departureFreePeriod"}},[a("Input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:t.formItem.departureFreePeriod,callback:function(e){t.$set(t.formItem,"departureFreePeriod",t._n(e))},expression:"formItem.departureFreePeriod"}})],1),a("FormItem",{attrs:{prop:"departureFreePeriodUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.departureFreePeriodUnit,callback:function(e){t.$set(t.formItem,"departureFreePeriodUnit",e)},expression:"formItem.departureFreePeriodUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)]),a("td",{staticClass:"gray-bg",staticStyle:{width:"11.5%"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v(" 目的港免箱期")]),a("td",{staticStyle:{width:"16.7%"}},[a("div",{staticClass:"flex"},[a("FormItem",{attrs:{prop:"destinationFreePeriod"}},[a("Input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:t.formItem.destinationFreePeriod,callback:function(e){t.$set(t.formItem,"destinationFreePeriod",t._n(e))},expression:"formItem.destinationFreePeriod"}})],1),a("FormItem",{attrs:{prop:"destinationFreePeriodUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.destinationFreePeriodUnit,callback:function(e){t.$set(t.formItem,"destinationFreePeriodUnit",e)},expression:"formItem.destinationFreePeriodUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)]),a("td",{staticClass:"gray-bg",staticStyle:{width:"11%"},attrs:{rowspan:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("冻箱免费插电期： ")]),a("td",{attrs:{rowspan:"2"}},[a("div",{staticClass:"flex"},[a("FormItem",{attrs:{prop:"contaPlugPeriod"}},[a("Input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:t.formItem.contaPlugPeriod,callback:function(e){t.$set(t.formItem,"contaPlugPeriod",t._n(e))},expression:"formItem.contaPlugPeriod"}})],1),a("FormItem",{attrs:{prop:"contaPlugPeriodUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.contaPlugPeriodUnit,callback:function(e){t.$set(t.formItem,"contaPlugPeriodUnit",e)},expression:"formItem.contaPlugPeriodUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)])]),a("tr",[a("td",{staticClass:"gray-bg"},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v(" 计价免堆期")]),a("td",{staticClass:"gray-bg"},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v(" 启运港免堆期")]),a("td",[a("div",{staticClass:"flex"},[a("FormItem",{attrs:{prop:"departureFreeStorage"}},[a("Input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:t.formItem.departureFreeStorage,callback:function(e){t.$set(t.formItem,"departureFreeStorage",t._n(e))},expression:"formItem.departureFreeStorage"}})],1),a("FormItem",{attrs:{prop:"departureFreeStorageUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.departureFreeStorageUnit,callback:function(e){t.$set(t.formItem,"departureFreeStorageUnit",e)},expression:"formItem.departureFreeStorageUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)]),a("td",{staticClass:"gray-bg"},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v(" 目的港免堆期")]),a("td",[a("div",{staticClass:"flex"},[a("FormItem",{attrs:{prop:"destinationFreeStorage"}},[a("Input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:t.formItem.destinationFreeStorage,callback:function(e){t.$set(t.formItem,"destinationFreeStorage",t._n(e))},expression:"formItem.destinationFreeStorage"}})],1),a("FormItem",{attrs:{prop:"destinationFreeStorageUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.destinationFreeStorageUnit,callback:function(e){t.$set(t.formItem,"destinationFreeStorageUnit",e)},expression:"formItem.destinationFreeStorageUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)])])])],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计价额外服务项： ")]),a("Col",{staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"20"}},[a("FormItem",{staticStyle:{"padding-top":"20px"},attrs:{prop:"addiServerList"}},[a("Input",{attrs:{placeholder:"请输入服务项内容",size:"small"},model:{value:t.priceServeItem,callback:function(e){t.priceServeItem="string"===typeof e?e.trim():e},expression:"priceServeItem"}}),a("Button",{attrs:{size:"small"},on:{click:function(e){return t.addServeItem(0)}}},[t._v("添加")]),a("div",{staticClass:"label-box flex-wrap"},t._l(t.formItem.addiServerList,(function(e,s){return a("Button",{key:s,staticClass:"button-active",staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v(" "+t._s(e.serverName)+" "),a("Icon",{staticStyle:{position:"absolute",right:"5px",top:"5px"},attrs:{type:"ios-close"},on:{click:function(e){return t.delButton(0,s)}}})],1)})),1)],1)],1)],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计费固定条目： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运费：")]),a("Col",{staticClass:"flex",attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"trspFee"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.trspFee,callback:function(e){t.$set(t.formItem,"trspFee",t._n("string"===typeof e?e.trim():e))},expression:"formItem.trspFee"}})],1),a("FormItem",{attrs:{prop:"trspFeeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.trspFeeUnit,callback:function(e){t.$set(t.formItem,"trspFeeUnit",e)},expression:"formItem.trspFeeUnit"}},t._l(t.currencyCode,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运杂费：")]),a("Col",{staticClass:"flex",attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"trspOtherFee"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.trspOtherFee,callback:function(e){t.$set(t.formItem,"trspOtherFee",t._n("string"===typeof e?e.trim():e))},expression:"formItem.trspOtherFee"}})],1),a("FormItem",{attrs:{prop:"trspOtherFeeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.trspOtherFeeUnit,callback:function(e){t.$set(t.formItem,"trspOtherFeeUnit",e)},expression:"formItem.trspOtherFeeUnit"}},t._l(t.currencyCode,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("代收费：")]),a("Col",{staticClass:"flex",attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"collectFee"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.collectFee,callback:function(e){t.$set(t.formItem,"collectFee",t._n("string"===typeof e?e.trim():e))},expression:"formItem.collectFee"}})],1),a("FormItem",{attrs:{prop:"collectFeeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.collectFeeUnit,callback:function(e){t.$set(t.formItem,"collectFeeUnit",e)},expression:"formItem.collectFeeUnit"}},t._l(t.currencyCode,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("附加费：")]),a("Col",{staticClass:"flex",attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"addiFee"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.addiFee,callback:function(e){t.$set(t.formItem,"addiFee",t._n("string"===typeof e?e.trim():e))},expression:"formItem.addiFee"}})],1),a("FormItem",{attrs:{prop:"addiFeeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.addiFeeUnit,callback:function(e){t.$set(t.formItem,"addiFeeUnit",e)},expression:"formItem.addiFeeUnit"}},t._l(t.currencyCode,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)],1),a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计费可能条目： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("超期费：")]),a("Col",{staticClass:"flex",attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"overdFee"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.overdFee,callback:function(e){t.$set(t.formItem,"overdFee",t._n("string"===typeof e?e.trim():e))},expression:"formItem.overdFee"}})],1),a("FormItem",{attrs:{prop:"overdFeeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.overdFeeUnit,callback:function(e){t.$set(t.formItem,"overdFeeUnit",e)},expression:"formItem.overdFeeUnit"}},t._l(t.currencyCode,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("更改费：")]),a("Col",{staticClass:"flex",attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"changeFee"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.changeFee,callback:function(e){t.$set(t.formItem,"changeFee",t._n("string"===typeof e?e.trim():e))},expression:"formItem.changeFee"}})],1),a("FormItem",{attrs:{prop:"changeFeeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.changeFeeUnit,callback:function(e){t.$set(t.formItem,"changeFeeUnit",e)},expression:"formItem.changeFeeUnit"}},t._l(t.currencyCode,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("延误费：")]),a("Col",{staticClass:"flex",attrs:{span:"4"}},[a("FormItem",{attrs:{prop:"delayFee"}},[a("Input",{staticStyle:{width:"100px"},attrs:{size:"small"},model:{value:t.formItem.delayFee,callback:function(e){t.$set(t.formItem,"delayFee",t._n("string"===typeof e?e.trim():e))},expression:"formItem.delayFee"}})],1),a("FormItem",{attrs:{prop:"delayFeeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.delayFeeUnit,callback:function(e){t.$set(t.formItem,"delayFeeUnit",e)},expression:"formItem.delayFeeUnit"}},t._l(t.currencyCode,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("取消费：")]),a("Col",{staticClass:"flex",attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"cancelFee"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.cancelFee,callback:function(e){t.$set(t.formItem,"cancelFee",t._n("string"===typeof e?e.trim():e))},expression:"formItem.cancelFee"}})],1),a("FormItem",{attrs:{prop:"cancelFeeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.cancelFeeUnit,callback:function(e){t.$set(t.formItem,"cancelFeeUnit",e)},expression:"formItem.cancelFeeUnit"}},t._l(t.currencyCode,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("额外费：")]),a("Col",{staticClass:"flex",attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"addedFee"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.addedFee,callback:function(e){t.$set(t.formItem,"addedFee",t._n("string"===typeof e?e.trim():e))},expression:"formItem.addedFee"}})],1),a("FormItem",{attrs:{prop:"trspFeeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.addedFeeUnit,callback:function(e){t.$set(t.formItem,"addedFeeUnit",e)},expression:"formItem.addedFeeUnit"}},t._l(t.currencyCode,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)],1),a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("报价有效期：")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("固定航次：")]),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"fixedMeans"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.fixedMeans,callback:function(e){t.$set(t.formItem,"fixedMeans","string"===typeof e?e.trim():e)},expression:"formItem.fixedMeans"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("固定时间：")]),a("Col",{attrs:{span:"11"}},[a("FormItem",{attrs:{prop:"fixedTime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:t.formItem.fixedTime,callback:function(e){t.$set(t.formItem,"fixedTime",e)},expression:"formItem.fixedTime"}})],1)],1)],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("订舱有效期：")]),a("Col",{attrs:{span:"20"}},[a("FormItem",{attrs:{prop:"bookingPeriod"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:t.formItem.bookingPeriod,callback:function(e){t.$set(t.formItem,"bookingPeriod",e)},expression:"formItem.bookingPeriod"}})],1)],1)],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"4"}},[t._v("备注：")]),a("Col",{staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"20"}},[a("FormItem",[a("Input",{staticStyle:{width:"96%","margin-top":"2px"},attrs:{type:"textarea"},model:{value:t.formItem.remark,callback:function(e){t.$set(t.formItem,"remark","string"===typeof e?e.trim():e)},expression:"formItem.remark"}})],1)],1)],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("公司名称：")]),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"etcpName"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.etcpName,callback:function(e){t.$set(t.formItem,"etcpName","string"===typeof e?e.trim():e)},expression:"formItem.etcpName"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("公司地址：")]),a("Col",{attrs:{span:"13"}},[a("FormItem",{attrs:{prop:"etcpAddr"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.etcpAddr,callback:function(e){t.$set(t.formItem,"etcpAddr","string"===typeof e?e.trim():e)},expression:"formItem.etcpAddr"}})],1)],1)],1),a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("统一社会信用代码：")]),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"enterpriseCode"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.enterpriseCode,callback:function(e){t.$set(t.formItem,"enterpriseCode","string"===typeof e?e.trim():e)},expression:"formItem.enterpriseCode"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("业务联系人：")]),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"businessEr"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.businessEr,callback:function(e){t.$set(t.formItem,"businessEr","string"===typeof e?e.trim():e)},expression:"formItem.businessEr"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("电话：")]),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"businessTel"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.businessTel,callback:function(e){t.$set(t.formItem,"businessTel","string"===typeof e?e.trim():e)},expression:"formItem.businessTel"}})],1)],1)],1),a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("平台结算规则： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("对账期")]),a("Col",{staticClass:"radio flex-ac",attrs:{span:"19"}},[a("RadioGroup",{model:{value:t.formItem.billType,callback:function(e){t.$set(t.formItem,"billType",e)},expression:"formItem.billType"}},[a("Radio",{attrs:{label:"G"}},[t._v("固定方式")]),a("Input",{attrs:{size:"small"},model:{value:t.billNumberFixed,callback:function(e){t.billNumberFixed=t._n(e)},expression:"billNumberFixed"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.billUnitFixed,callback:function(e){t.billUnitFixed=e},expression:"billUnitFixed"}},t._l(t.quarterUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1),a("span",{staticStyle:{"margin-right":"80px"}},[t._v("/次")]),a("Radio",{attrs:{label:"S"}},[t._v("单次")]),t._v(" 完成后 "),a("Input",{attrs:{size:"small"},model:{value:t.billNumberSingle,callback:function(e){t.billNumberSingle=t._n(e)},expression:"billNumberSingle"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.billUnitSingle,callback:function(e){t.billUnitSingle=e},expression:"billUnitSingle"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1),a("Upload",{staticClass:"upload",attrs:{"show-upload-list":!1,format:["jpg","jpeg","png"],"max-size":2048,"on-success":t.handleSuccess,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-error":t.handleErr,type:"drag",action:t.action}},[a("span",{staticClass:"cargo-item-label"},[t._v(" 上传对账单模板 ")])])],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("付款期")]),a("Col",{staticClass:"radio",attrs:{span:"19"}},[a("RadioGroup",{model:{value:t.formItem.payType,callback:function(e){t.$set(t.formItem,"payType",e)},expression:"formItem.payType"}},[a("Radio",{attrs:{label:"G"}},[t._v("固定方式")]),a("Input",{attrs:{size:"small"},model:{value:t.payNumberFixed,callback:function(e){t.payNumberFixed=t._n(e)},expression:"payNumberFixed"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.payUnitFixed,callback:function(e){t.payUnitFixed=e},expression:"payUnitFixed"}},t._l(t.quarterUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1),a("span",{staticStyle:{"margin-right":"80px"}},[t._v("/次")]),a("Radio",{attrs:{label:"S"}},[t._v("单次")]),t._v(" 完成后 "),a("Input",{attrs:{size:"small"},model:{value:t.payNumberSingle,callback:function(e){t.payNumberSingle=t._n(e)},expression:"payNumberSingle"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.payUnitSingle,callback:function(e){t.payUnitSingle=e},expression:"payUnitSingle"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)],1)],1)])],1)},i=[],r=(a("4de4"),a("a15b"),a("45fc"),a("a434"),a("d3b7"),a("25f0"),a("5530")),n=a("b962"),o={addiServerList:[],receiptScheduleList:[{keyId:"keyId_1",checked:!1}],billType:"",billUrl:"",pickGoodsAddr:"",takeCargoAddr:""},l={contaType:[n["a"].required("集装箱类型")[0]],contaQty:[n["a"].requiredNumber("集装箱数量")[0]],departureFreePeriod:[n["a"].requiredNumber("启运港免箱期")[0]],destinationFreePeriod:[n["a"].requiredNumber("目的港免箱期")[0]],departureFreeStorage:[n["a"].requiredNumber("启运港免堆期")[0]],destinationFreeStorage:[n["a"].requiredNumber("目的港免堆期")[0]],departureFreePeriodUnit:[n["a"].select("启运港免箱期单位")[0]],destinationFreePeriodUnit:[n["a"].select("目的港免箱期单位")[0]],departureFreeStorageUnit:[n["a"].select("启运港免堆期单位")[0]],destinationFreeStorageUnit:[n["a"].select("目的港免堆期单位")[0]],contaPlugPeriod:[n["a"].requiredNumber("冻箱免费插电期")[0]],contaPlugPeriodUnit:[n["a"].select("冻箱免费插电期单位")[0]],trspFee:[n["a"].requiredNumber("运费")[0]],trspFeeUnit:[n["a"].select("运费单位")[0]],trspOtherFee:[n["a"].requiredNumber("运杂费")[0]],trspOtherFeeUnit:[n["a"].select("运杂费单位")[0]],collectFee:[n["a"].requiredNumber("代收费")[0]],collectFeeUnit:[n["a"].select("代收费单位")[0]],addiFee:[n["a"].requiredNumber("附加费")[0]],addiFeeUnit:[n["a"].select("附加费单位")[0]],overdFee:[n["a"].requiredNumber("超期费")[0]],overdFeeUnit:[n["a"].select("超期费单位")[0]],changeFee:[n["a"].requiredNumber("更改费")[0]],changeFeeUnit:[n["a"].select("更改费单位")[0]],delayFee:[n["a"].requiredNumber("延误费")[0]],delayFeeUnit:[n["a"].select("延误费单位")[0]],cancelFee:[n["a"].requiredNumber("取消费")[0]],cancelFeeUnit:[n["a"].select("取消费单位")[0]],addedFee:[n["a"].requiredNumber("额外费")[0]],addedFeeUnit:[n["a"].select("额外费单位")[0]],fixedMeans:[n["a"].select("固定航次")[0]],fixedTime:[{required:!0,validator:n["a"].validateTime,trigger:"change"}],bookingPeriod:[{required:!0,validator:n["a"].validateTime,trigger:"change"}],remark:[n["a"].required("备注")[0]],etcpName:[n["a"].required("公司名称")[0]],etcpAddr:[n["a"].required("公司地址")[0]],enterpriseCode:[n["a"].required("统一社会信用代码")[0]],businessEr:[n["a"].required("业务联系人")[0]],businessTel:[n["a"].required("业务联系人电话")[0]]},c=a("90fe"),u=a("1352"),m=a("4ec3"),d={props:{isCheck:{type:Boolean,default:!1},defaultData:{type:Object,default:function(){return{}}}},data:function(){return{transportType:this.$getDictionary("TRANSPORT_TYPE"),goodsType:this.$getDictionary("GOODS_TYPE"),contaSizeType:this.$getDictionary("CONTAINER_SIZE_TYPE"),currencyCode:this.$getDictionary("CURRENCY_CODE"),quarterUnit:this.$getDictionary("QUARTER_UNIT"),timeUnit:this.$getDictionary("TIME_UNIT"),SETTLEMENT_RULE_TYPE:this.$getDictionary("SETTLEMENT_RULE_TYPE"),action:"".concat(m["s"],"/file-record/upload"),formItem:o,ruleValidate:l,dispatchOptions:[],isShowDrawer:!1,serveItem:"",priceServeItem:"",billNumberFixed:"",billUnitFixed:"",billNumberSingle:"",billUnitSingle:"",payNumberFixed:"",payUnitFixed:"",payNumberSingle:"",payUnitSingle:""}},watch:{defaultData:function(t){this.formItem=Object(r["a"])({},this.formItem,{},this.defaultData),this.formItem.fixedTime=t.fixedTime?this.timestampFormat(t.fixedTime):"",this.formItem.bookingPeriod=t.bookingPeriod?this.timestampFormat(t.bookingPeriod):"",t.billType&&"G"===t.billType&&(this.billNumberFixed=t.billNumber,this.billUnitFixed=t.billUnit),t.billType&&"S"===t.billType&&(this.billNumberSingle=t.billNumber,this.billUnitSingle=t.billUnit),t.payType&&"G"===t.payType&&(this.payNumberFixed=t.payNumber,this.payUnitFixed=t.payUnit),t.payType&&"S"===t.payType&&(this.payNumberSingle=t.payNumber,this.payUnitSingle=t.payUnit)}},methods:{timestampFormat:function(t){return Object(c["j"])(t,!0,"/")},selectCountry:function(t,e){var a=t.data.length?"".concat(t.value.join(";")):"";switch(e){case 1:this.formItem.pickGoodsAddr=a;break;case 2:this.formItem.takeCargoAddr=a;break;default:break}},addServeItem:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t&&this.serveItem&&this.formItem.receiptServerList.push({serverName:this.serveItem}),!t&&this.priceServeItem&&this.formItem.addiServerList.push({serverName:this.priceServeItem})},delButton:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;t?this.formItem.receiptServerList.splice(e,1):this.formItem.addiServerList.splice(e,1)},addSchedule:function(){var t="keyId_"+Math.random().toString().substr(3,5)+Date.now().toString();this.formItem.receiptScheduleList.push({keyId:t,checked:!1})},delSchedule:function(){var t=this.formItem.receiptScheduleList.some((function(t){return!0===t.checked}));t?this.formItem.receiptScheduleList=this.formItem.receiptScheduleList.filter((function(t){return!t.checked})):this.$Message.error("请先选择要删除的班期序号")},submit:function(){var t=this;this.$refs.formItemData.validate((function(e){if(e){if(!t.formItem.addiServerList.length)return t.$Message.warning("请添加额外服务项");if(!t.formItem.billUrl)return t.$Message.warning("请上传对账单模板");if(!t.formItem.billType)return t.$Message.warning("请选择对账期规则");if(!t.formItem.payType)return t.$Message.warning("请选择付款期规则");var a=Object(r["a"])({},t.formItem,{billNumber:"G"===t.formItem.billType?t.billNumberFixed:t.billNumberSingle,billUnit:"G"===t.formItem.billType?t.billUnitFixed:t.billUnitSingle,payNumber:"G"===t.formItem.payType?t.payNumberFixed:t.payNumberSingle,payUnit:"G"===t.formItem.payType?t.payUnitFixed:t.payUnitSingle});Object(u["a"])({data:a}).then((function(e){if(200!=e.code)return t.$Message.error(e.message);t.$Message.success("保存成功"),t.$emit("on-submit-success")}))}}))},open:function(){this.isShowDrawer=!0},close:function(){this.isShowDrawer=!1},handleSuccess:function(t){this.$Message.success("上传成功");var e=t.data.fileName+"~"+t.data.code;this.formItem.billUrl=e},handleFormatError:function(){this.$Message.error({background:!0,content:"请上传jpg、jpeg、png格式的文件",duration:3})},handleMaxSize:function(){this.$Message.error({background:!0,content:"上传尺寸最大2048kb"})},handleErr:function(){this.$Message.error({background:!0,content:"上传失败"})}}},p=d,h=(a("51352"),a("2877")),f=Object(h["a"])(p,s,i,!1,null,"11eabf82",null);e["default"]=f.exports},"71bb":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._l(t.cargoList,(function(e,s){return a("div",{key:s,staticClass:"cargo-item"},[t.isDetail?t._e():a("Checkbox",{model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"formItem.checked"}}),a("div",{staticClass:"cargo-info"},[a("div",{staticClass:"title required-title",on:{click:function(a){return t.onOpen(e)}}},[a("div",{staticClass:"name"},[t._v("00"+t._s(t.cargoList.length-s)+"货物信息")]),a("span",{staticClass:"icon"},[e.isShow?a("Icon",{attrs:{type:"ios-arrow-down"}}):a("Icon",{attrs:{type:"ios-arrow-up"}})],1)]),a("Form",{ref:"formItemData_"+s,refInFor:!0,attrs:{model:e,rules:t.ruleValidate,"label-width":160}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"formItem.isShow"}],staticClass:"public-form-card required-class"},[a("Row",[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"货物名称:"}},[t._v(t._s(e.cargoName))]):a("FormItem",{attrs:{label:"货物名称:",prop:"cargoName"}},[t.isDisabled?a("Select",{attrs:{disabled:t.enablefns(e.status).base(),clearable:""},on:{"on-clear":function(a){return t.onclear(e)},"on-change":function(a){return t.chooseName(e,s)}},model:{value:e.cargoName,callback:function(a){t.$set(e,"cargoName",a)},expression:"formItem.cargoName"}},t._l(t.cargoListName,(function(e){return a("Option",{key:e.cargoName,attrs:{value:e.cargoName}},[t._v(" "+t._s(e.cargoName)+" ")])})),1):a("Select",{attrs:{filterable:"","label-in-value":"",placeholder:"请输入货物关键字搜索",disabled:t.enablefns(e.status).base(),"remote-method":t.remoteMethod1,loading:t.loading},on:{"on-change":t.changeCargoName},model:{value:e.cargoName,callback:function(a){t.$set(e,"cargoName",a)},expression:"formItem.cargoName"}},t._l(t.nameList,(function(e,i){return a("Option",{key:i,attrs:{tag:s,value:e.cargoName}},[t._v(t._s(e.cargoName))])})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"一级包装类型:",prop:"firstPackageType"}},[a("Select",{attrs:{disabled:t.isDisabled,clearable:""},model:{value:e.firstPackageType,callback:function(a){t.$set(e,"firstPackageType",a)},expression:"formItem.firstPackageType"}},t._l(t.packageType,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"二级包装类型:"}},[a("Select",{attrs:{disabled:t.isDisabled,clearable:""},model:{value:e.secondPackageType,callback:function(a){t.$set(e,"secondPackageType",a)},expression:"formItem.secondPackageType"}},t._l(t.packageType,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"唛头:"}},[t._v(t._s(e.markNo))]):a("FormItem",{attrs:{label:"唛头:",prop:"markNo"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.markNo,callback:function(a){t.$set(e,"markNo",a)},expression:"formItem.markNo"}})],1)],1),a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"一级包装毛重:"}},[t._v(t._s(e.firstGrossWeight)+" "+t._s(e.firstGrossWeight&&"kg")+" ")]):a("FormItem",{attrs:{label:"一级包装毛重:",prop:"firstGrossWeight"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.firstGrossWeight,callback:function(a){t.$set(e,"firstGrossWeight",t._n(a))},expression:"formItem.firstGrossWeight"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("kg")])])],1)],1),a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"二级包装毛重:"}},[t._v(t._s(e.secondGrossWeight)+" "+t._s(e.secondGrossWeight&&"kg")+" ")]):a("FormItem",{attrs:{label:"二级包装毛重:"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.secondGrossWeight,callback:function(a){t.$set(e,"secondGrossWeight",t._n(a))},expression:"formItem.secondGrossWeight"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("kg")])])],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"HS编码:"}},[t._v(t._s(e.hsCode))]):a("FormItem",{attrs:{label:"HS编码:",prop:"hsCode"}},[a("Select",{attrs:{filterable:"","label-in-value":"",placeholder:"请输入HS关键字搜索","remote-method":t.remoteMethod2,loading:t.loading},on:{"on-change":t.changeHsCode},model:{value:e.hsCode,callback:function(a){t.$set(e,"hsCode",a)},expression:"formItem.hsCode"}},t._l(t.hsList,(function(e,i){return a("Option",{key:i,attrs:{tag:s,value:e.hsCode}},[t._v(t._s(e.hsCode))])})),1)],1)],1),a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"一级包装净重:"}},[t._v(t._s(e.firstNetWeight)+" "+t._s(e.firstNetWeight&&"kg")+" ")]):a("FormItem",{attrs:{label:"一级包装净重:",prop:"firstNetWeight"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.firstNetWeight,callback:function(a){t.$set(e,"firstNetWeight",t._n(a))},expression:"formItem.firstNetWeight"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("kg")])])],1)],1),a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"二级包装净重:"}},[t._v(t._s(e.secondNetWeight)+" "+t._s(e.secondNetWeight&&"kg")+" ")]):a("FormItem",{attrs:{label:"二级包装净重:"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.secondNetWeight,callback:function(a){t.$set(e,"secondNetWeight",t._n(a))},expression:"formItem.secondNetWeight"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("kg")])])],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"毛重:"}},[t._v(t._s(e.grossWeight)+" "+t._s(e.grossWeight&&"kg")+" ")]):a("FormItem",{attrs:{label:"毛重:",prop:"grossWeight"}},[a("Input",{attrs:{disabled:t.isDisabled&&t.enablefns(e.status).base()},model:{value:e.grossWeight,callback:function(a){t.$set(e,"grossWeight",t._n(a))},expression:"formItem.grossWeight"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("kg")])])],1)],1),a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"一级包装件数:"}},[t._v(t._s(e.firstPackQty))]):a("FormItem",{attrs:{label:"一级包装件数:",prop:"firstPackQty"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.firstPackQty,callback:function(a){t.$set(e,"firstPackQty",t._n(a))},expression:"formItem.firstPackQty"}})],1)],1),a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"二级包装件数:"}},[t._v(t._s(e.secondPackQty))]):a("FormItem",{attrs:{label:"二级包装件数:"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.secondPackQty,callback:function(a){t.$set(e,"secondPackQty",t._n(a))},expression:"formItem.secondPackQty"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"净重:"}},[t._v(t._s(e.netWeight)+" "+t._s(e.netWeight&&"kg")+" ")]):a("FormItem",{attrs:{label:"净重:",prop:"netWeight"}},[a("Input",{attrs:{disabled:t.isDisabled&&t.enablefns(e.status).base()},model:{value:e.netWeight,callback:function(a){t.$set(e,"netWeight",t._n(a))},expression:"formItem.netWeight"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("kg")])])],1)],1),a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"一级包装体积:"}},[t._v(t._s(e.firstPackVol)+" "+t._s(e.firstPackVol&&"m³")+" ")]):a("FormItem",{attrs:{label:"一级包装体积:",prop:"firstPackVol"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.firstPackVol,callback:function(a){t.$set(e,"firstPackVol",t._n(a))},expression:"formItem.firstPackVol"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("m³")])])],1)],1),a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"二级包装体积:"}},[t._v(t._s(e.secondPackVol)+" "+t._s(e.secondPackVol&&"m³")+" ")]):a("FormItem",{attrs:{label:"二级包装体积:"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.secondPackVol,callback:function(a){t.$set(e,"secondPackVol",t._n(a))},expression:"formItem.secondPackVol"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("m³")])])],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"货物件数:"}},[t._v(t._s(e.cargoQty)+" ")]):a("FormItem",{attrs:{label:"货物件数:",prop:"cargoQty"}},[a("Input",{attrs:{disabled:t.isDisabled&&t.enablefns(e.status).base()},model:{value:e.cargoQty,callback:function(a){t.$set(e,"cargoQty",t._n(a))},expression:"formItem.cargoQty"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"货物体积:"}},[t._v(t._s(e.cargoVol)+" "+t._s(e.cargoVol&&"m³")+" ")]):a("FormItem",{attrs:{label:"货物体积:",prop:"cargoVol"}},[a("Input",{attrs:{disabled:t.isDisabled&&t.enablefns(e.status).base()},model:{value:e.cargoVol,callback:function(a){t.$set(e,"cargoVol",t._n(a))},expression:"formItem.cargoVol"}},[a("span",{attrs:{slot:"append"},slot:"append"},[t._v("m³")])])],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"货物类型:"}},[t._v(" "+t._s(e.cargoTypeTranslate||"没翻译")+" ")]):a("FormItem",{attrs:{label:"货物类型:"}},[a("Select",{attrs:{disabled:t.isDisabled||t.enablefns(e.status).scheme(),clearable:""},model:{value:e.cargoType,callback:function(a){t.$set(e,"cargoType",a)},expression:"formItem.cargoType"}},t._l(t.goodsType,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"货物适宜温度:"}},[t._v(" "+t._s("assign"==e.suitableTemperature?"指定温度":"")+" ")]):a("FormItem",{attrs:{label:"货物适宜温度:"}},[a("Select",{attrs:{disabled:t.isDisabled,clearable:""},model:{value:e.suitableTemperature,callback:function(a){t.$set(e,"suitableTemperature",a)},expression:"formItem.suitableTemperature"}},t._l(t.suitableTemperatureList,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1)],1),a("Row",{directives:[{name:"show",rawName:"v-show",value:"assign"==e.suitableTemperature,expression:"formItem.suitableTemperature == 'assign'"}]},[a("Col",{attrs:{span:"8"}},[t.isDetail?a("FormItem",{attrs:{label:"指定温度:"}},[t._v(" "+t._s(e.assignTemperature)+t._s(e.temperatureUnitTranslate||"°C")+" ")]):a("FormItem",{attrs:{label:"指定温度:"}},[a("Input",{attrs:{disabled:t.isDisabled},model:{value:e.assignTemperature,callback:function(a){t.$set(e,"assignTemperature",t._n(a))},expression:"formItem.assignTemperature"}},[a("Select",{staticStyle:{width:"80px"},attrs:{slot:"append"},slot:"append",model:{value:e.temperatureUnit,callback:function(a){t.$set(e,"temperatureUnit",a)},expression:"formItem.temperatureUnit"}},t._l(t.temperatureUnitList,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(t._s(e.dictionaryValue))])})),1)],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:" "}})],1)],1)],1)])],1)],1)})),0)},i=[],r=(a("7db0"),a("a434"),a("a9e3"),a("b962")),n=a("cc52"),o=a("f951"),l=a("956c"),c={props:{entrustIndex:{type:Number,default:0},defaultData:{type:Array,default:function(){return[]}},isDisabled:{type:Boolean,default:!1},disEdit:{type:Boolean,default:!1},isDetail:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},eStatus:{type:String,default:""},cargoSelect:{type:Array,default:function(){return[]}},judge:{type:Object,default:function(){return{}}}},data:function(){return{nameList:[],hsList:[],loading:!1,changeTime:!0,cargoListName:[],temperatureUnit:this.$getDictionary("TEMPERATURE_UNIT"),goodsType:this.$getDictionary("GOODS_TYPE"),delegationType:this.$getDictionary("DELEGATION_TYPE"),packageType:this.$getDictionary("PACKAGE_TYPE"),temperatureUnitList:this.$getDictionary("TEMPERATURE_UNIT"),suitableTemperatureList:[{dictionaryKey:"assign",dictionaryValue:"指定温度"}],cargoList:[],ruleValidate:{cargoName:[r["a"].select("货物名称")[0]],markNo:[r["a"].required("唛头")[0]],hsCode:[r["a"].required("HS编码")[0]],grossWeight:[r["a"].requiredNoNumber("毛重")[0]],cargoQty:[r["a"].positiveInteger("货物件数")[0]],firstPackageType:[r["a"].select("一级包装类型")[0]],firstGrossWeight:[r["a"].requiredNoNumber("一级包装毛重")[0]],firstNetWeight:[r["a"].requiredNoNumber("一级包装净重")[0]],firstPackQty:[r["a"].positiveInteger("一级包装件数")[0]],netWeight:[r["a"].noNumber("净重")[0]],cargoVol:[r["a"].noNumber("货物体积")[0]],firstPackVol:[r["a"].requiredNoNumber("一级包装体积")[0]]}}},methods:{remoteMethod1:function(t){var e=this;""!==t?0==this.loading&&(this.loading=!0,setTimeout((function(){var a={cargoName:t,page:1,size:10};Object(l["e"])({data:a}).then((function(t){var a=t.data;e.nameList=a?a.content:[],e.loading=!1}))}),1e3)):this.nameList=[]},remoteMethod2:function(t){var e=this;""!==t?0==this.loading&&(this.loading=!0,setTimeout((function(){var a={hsCode:t,page:1,size:10};Object(l["e"])({data:a}).then((function(t){var a=t.data;e.hsList=a?a.content:[],e.loading=!1}))}),1e3)):this.hsList=[]},submitForm:function(){for(var t=this,e=!0,a=!0,s=function(s){t.$refs["formItemData_".concat(s)][0].validate((function(a){a||(e=!1,t.cargoList[s].isShow=!0)})),!t.cargoList[s].temperatureUnit&&t.cargoList[s].assignTemperature&&(a=!1)},i=0;i<this.cargoList.length;i++)s(i);this.cargoList.length?a?e?this.$emit("submit-form",this.cargoList,this.entrustIndex):this.$Message.warning("货物信息还有必填项没有填写"):this.$Message.warning("货物信息还有温度单位没有填写"):this.$Message.warning("请至少添加一个货物")},addCargoInfo:function(){var t=this,e="";if(this.cargoList[0]&&(e=this.cargoList[0].cargoType),this.cargoList.push({isShow:!0,cargoType:e,volUnit:"m³",weightUnit:"kg",status:"CREATE"}),this.isDisabled&&1==this.cargoList.length){var a=JSON.parse(sessionStorage.getItem("contractEntrustsave")),s="";if(s=a?a.entrustCode:this.$route.query.isEdit,!s)return;if(this.cargoListName.length)return;Object(o["h"])({entrustCode:s}).then((function(e){if(200==e.code){var a=[];for(var s in e.data)e.data.hasOwnProperty(s)&&a.push(e.data[s]);var i=Object(n["b"])(a);t.cargoListName=i.arr}}))}},delCargoInfo:function(){for(var t=0;t<this.cargoList.length;t++)this.cargoList[t].checked&&(this.cargoList.splice(t,1),t--)},onOpen:function(t){t.isShow?this.$set(t,"isShow",!1):this.$set(t,"isShow",!0)},changeCargoName:function(t){if(this.changeTime){var e=this.nameList.find((function(e){return e.cargoName==t.value}));this.chooseInfo(this.cargoList[t.tag],e,1,t.tag)}},changeHsCode:function(t){if(this.changeTime){var e=this.hsList.find((function(e){return e.hsCode==t.value}));this.chooseInfo(this.cargoList[t.tag],e,2,t.tag)}},chooseInfo:function(t,e,a){var s=this;this.changeTime=!1,1===a&&(this.hsList=[e],t.hsCode=e.hsCode),2===a&&(this.nameList=[e],t.cargoName=e.cargoName),t.cargoType=e.cargoType,t.suitableTemperature=e.hghtTemperature&&"assign",t.assignTemperature=e.hghtTemperature,t.assignTemperatureUnit=e.temperatureUnit,setTimeout((function(){s.changeTime=!0}),500)},chooseName:function(t){var e=this.cargoListName[this.getIndex(this.cargoListName,t.cargoName,"cargoName")];for(var a in e)this.$set(t,a,e[a])},getIndex:function(t,e,a){for(var s=0;s<t.length;s++)if(t[s][a]===e)return s},onclear:function(t){for(var e in t)"isShow"!=e&&"checked"!=e&&(t[e]="")},enablefns:function(t){var e="EXFIN",a="FINISH",s="VCLR",i=this.judge.enter,r=this.judge.input,n=t||this.eStatus,o=t?"S":this.judge.coopType;return{scheme:function(){if("S"==o){if("send"==i){if("input"==r)return!1;if("edit"==r)return n==e||n==a||n==s}if("noreqsend"==i){if("input"==r)return!1;if("edit"==r)return n==e||n==a||n==s}if("reqsend"==i)return!0}else{if("send"==i){if("input"==r)return!1;if("edit"==r)return!0}if("noreqsend"==i){if("input"==r)return!1;if("edit"==r)return!0}if("reqsend"==i)return!0}},base:function(){if("S"==o){if("input"==r)return!1;if("edit"==r)return n==e||n==a||n==s}else{if("input"==r)return!1;if("edit"==r)return n==e||n==a||n==s}}}}},watch:{defaultData:{handler:function(t){t.length>=1&&(this.cargoList=t)},deep:!0,immediate:!0},cargoSelect:{handler:function(t){t.length&&(this.cargoListName=t)}}}},u=c,m=(a("7b55"),a("2877")),d=Object(m["a"])(u,s,i,!1,null,"7c1e35bd",null);e["default"]=d.exports},7510:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"contract-main",class:{"is-detail":t.isDetail}},[t.isDetail&&t.entrustList.length?a("div",{staticClass:"contract-info"},[a("div",{staticClass:"item"},[t._v("合同重量："+t._s(t.cargoData.cargoTotal||0)+" "+t._s(t.cargoData.weightUnitTranslate||"KG"))]),a("div",{staticClass:"item"},[t._v("已交付重量："+t._s(t.cargoData.deliveredWeight||0)+" "+t._s(t.cargoData.weightUnitTranslate||"KG"))]),a("div",{staticClass:"item"},[t._v("在途货量 "+t._s(t.cargoData.underwayWeight||0)+" "+t._s(t.cargoData.weightUnitTranslate||"KG"))]),a("div",{staticClass:"item"},[t._v("未启运总量："+t._s(t.cargoData.noPlaceWeight||0)+" "+t._s(t.cargoData.weightUnitTranslate||"KG"))])]):t._e(),t._l(t.entrustList,(function(e,s){return a("div",{key:s,staticClass:"entrust-item"},[t.isDetail?t._e():a("Checkbox",{model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"formItem.checked"}}),a("div",{staticClass:"entrust-info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"name"},[t._v("00"+t._s(s+1)+"单次委托")]),a("span",{staticClass:"icon"},[t.isEdit&&!t.enablefn(e.status).base()?a("Button",{attrs:{size:"default"},on:{click:function(e){return t.submitItem(s)}}},[t._v("保存")]):t._e(),e.isShow?a("Icon",{attrs:{type:"ios-arrow-down"},on:{click:function(a){return t.onClose(e)}}}):a("Icon",{attrs:{type:"ios-arrow-up"},on:{click:function(a){return t.onOpen(e,s)}}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"formItem.isShow"}],staticClass:"public-form-card"},[a("div",{staticClass:"cargo-head"},[t.isDetail||t.enablefn(e.status).base()?t._e():a("div",{staticClass:"btns"},[a("Button",{on:{click:function(e){return t.delCargoInfo(s)}}},[t._v(" 批量删除 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_piliangshanchu"}})])]),a("Button",{on:{click:function(e){return t.addCargoInfo(s)}}},[t._v(" 添加货物信息 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_tianjia"}})])]),a("Button",{on:{click:function(e){return t.choosePeople(s)}}},[t._v(" 选择通知人信息 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_tianjia"}})])]),a("Button",{on:{click:function(e){return t.setTimeDemand(s)}}},[t._v(" 设置时间要求 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_tianjia"}})])])],1),t.isDetail||t.enablefn(e.status).base()?a("div",{staticClass:"btns"},[a("Button",{staticClass:"detail-btn",on:{click:function(e){return t.checkPeople(s)}}},[t._v(" 查看通知人 ")]),a("Button",{staticClass:"detail-btn",on:{click:function(e){return t.checkTimeDemand(s)}}},[t._v(" 查看时间要求 ")])],1):t._e(),a("Form",{ref:"formItemData_"+s,refInFor:!0,attrs:{model:e,rules:t.ruleValidate,"label-width":100,"label-colon":""}},[a("FormItem",{attrs:{label:"开始时间",prop:"startDate"}},[a("DatePicker",{attrs:{disabled:t.enablefn(e.status).base(),type:"date"},model:{value:e.startDate,callback:function(a){t.$set(e,"startDate",a)},expression:"formItem.startDate"}})],1)],1)],1),a("cargo-info",{ref:"childForm_"+s,refInFor:!0,attrs:{defaultData:e.cargoList,judge:t.judge,cargoSelect:t.cargoSelect,entrustIndex:s,isDisabled:!0,isDetail:t.isDetail},on:{"submit-form":t.submitCargoInfo}})],1)])],1)})),a("div",{staticClass:"public-btns-group"},[t.isEdit?t._e():a("Button",{attrs:{type:"primary",shape:"circle",size:"large"},on:{click:t.submitEntrustForm}},[t._v("保存")]),a("Button",{attrs:{shape:"circle",size:"large"},on:{click:t.addEntrust}},[t._v("添加单次委托")]),a("Button",{attrs:{shape:"circle",size:"large"},on:{click:t.delEntrust}},[t._v("删除")])],1),a("set-time-demand",{attrs:{hasRouteList:t.hasRouteList,eStatus:t.eStatus,judge:t.judge,showDrawer:t.showSetTimeDrawer,random:t.timeRandom,defaultData:t.timeData,hasRoute:t.hasRoute},on:{"on-ok":t.submitTimeDemand,"on-visible-change":t.setTimeVisiableChange}}),a("choose-people",{attrs:{userData:t.userData,eStatus:t.eStatus,judge:t.judge,showDrawer:t.showPeopleDrawer,random:t.peopleRandom,defaultData:t.peopleData},on:{"on-ok":t.submitPeople,"on-visible-change":t.peopleVisiableChange}}),a("check-time-demand",{attrs:{showDrawer:t.showCheckSetTimeDrawer,defaultData:t.timeData},on:{"on-visible-change":t.checkTimeVisiableChange}}),a("check-people",{attrs:{showDrawer:t.showCheckPeopleDrawer,defaultData:t.peopleData},on:{"on-visible-change":t.checkPeopleVisiableChange}})],2)},i=[],r=(a("4160"),a("a434"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("53ca")),n=a("5530"),o=(a("90fe"),a("b962")),l=a("cc52"),c=a("f951"),u={components:{CargoInfo:function(){return a.e("chunk-7cd83bec").then(a.bind(null,"71bb"))},SetTimeDemand:function(){return a.e("chunk-7cd83bec").then(a.bind(null,"bcd3"))},ChoosePeople:function(){return a.e("chunk-7cd83bec").then(a.bind(null,"ca18"))},CheckTimeDemand:function(){return a.e("chunk-bf428e66").then(a.bind(null,"44ea"))},CheckPeople:function(){return a.e("chunk-bf428e66").then(a.bind(null,"9ab0"))}},props:{eStatus:{type:String,default:"CREATE"},hasRoute:{type:Boolean,default:!1},isDetail:{type:Boolean,default:!1},isEdit:{type:Boolean,default:!1},defaultData:{type:Array,default:function(){return[]}},cargoSelect:{type:Array,default:function(){return[]}},hasRouteList:{type:Array,default:function(){return[]}},cargoData:{type:Object,default:function(){return{}}},timeCost:{type:Object,default:function(){return{}}},userData:{type:Array,default:function(){return[]}},judge:{type:Object,default:function(){return{}}}},data:function(){return{roleType:this.$getUserInfo().roleType,entrustList:[],entrustCode:"",peopleData:{},timeData:{},ruleValidate:{startDate:[{required:!0,validator:o["a"].validateTime,trigger:"change"}]},timeRandom:"",peopleRandom:"",showSetTimeDrawer:!1,showPeopleDrawer:!1,showCheckSetTimeDrawer:!1,showCheckPeopleDrawer:!1,curOperateEntrustIndex:0,cargoIsValidCount:0,cargoValid:!1}},methods:{submitCargoInfo:function(t,e){var a=this;if(this.cargoValid=!0,this.entrustList[e].entrustCargoReq=t,!this.$route.query.isEdit&&(this.cargoIsValidCount++,this.cargoIsValidCount===this.entrustList.length)){var s="",i=JSON.parse(sessionStorage.getItem("contractEntrustsave"));if(i&&(s=i&&i.routeCode||!1,this.entrustCode=i&&i.entrustCode||"",!s))return;var r={entrustCode:this.entrustCode||this.$route.query.isEdit,entrustExcetoryType:1,entrustOnceListReq:[]};this.entrustList.forEach((function(t){var e=JSON.parse(JSON.stringify(t)),a=[];e.contactReqList.forEach((function(t,e){var s={attenAddr:t.attenAddr||"",attenEmail:t.attenEmail||"",attenFax:t.attenFax||"",attenName:t.attenName||"",attenTel:t.attenTel||"",code:t.code||"",linkType:0==e?"发货人":1==e?"收货人":"通知人"};a.push(s)}));var s=Object(l["a"])(e.entrustCargoReq||[]),n={startDatetime:e.startDate,entrustCargoListReq:s.arr,entrustContactListReq:a,cargoReadyTime:e.entrustBaseReq.cargoReadyTime||null,lastStartTime:e.entrustBaseReq.lastStartTime||null,lastArriveTime:e.entrustBaseReq.lastArriveTime||null,lastDeliveryTime:e.entrustBaseReq.lastDeliveryTime||null,lastStartPort:e.entrustBaseReq.lastStartTime&&e.entrustBaseReq.lastStartPort||"",lastArrivePort:e.entrustBaseReq.lastArriveTime&&e.entrustBaseReq.lastArrivePort||"",lastStartLoad:i&&i.lastStartLoad||null,lastArriveLoad:i&&i.lastArriveLoad||null,lowestTimeReq:e.entrustBaseReq.lowestTimeReq||null,lowestTimeUnit:e.entrustBaseReq.lowestTimeUnit||""};r.entrustOnceListReq.push(n)})),Object(c["d"])({data:r}).then((function(t){if(200==t.code){a.$Message.success({content:t.message});var e={isDetail:a.entrustCode};a.$route.query.logisticsSchemeCode&&(e.logisticsSchemeCode=a.$route.query.logisticsSchemeCode),a.$route.query.freightReqCode&&(e.freightReqCode=a.$route.query.freightReqCode),a.$emit("goDetail",e)}}))}},addCargoInfo:function(t){this.$refs["childForm_".concat(t)][0].addCargoInfo()},delCargoInfo:function(t){this.$refs["childForm_".concat(t)][0].delCargoInfo()},choosePeople:function(t){this.curOperateEntrustIndex=t;var e=this.entrustList[t],a=e.contactReqList;a&&a.length>=1?this.peopleData={senderFormItem:a[0],takerFormItem:a[1],notifierFormItem:a[2]}:this.peopleData={senderFormItem:{},takerFormItem:{},notifierFormItem:{}},this.peopleRandom=String(Math.random()),this.showPeopleDrawer=!0},submitPeople:function(t){var e=this.entrustList[this.curOperateEntrustIndex],a=e.contactReqList;a&&a.length&&a.forEach((function(e){t.forEach((function(t){e.linkType!=t.linkType||t.contactCode||(t.contactCode=e.contactCode,t.executoryEntrustCode=e.executoryEntrustCode,t.version=e.version||0)}))})),this.entrustList[this.curOperateEntrustIndex].contactReqList=JSON.parse(JSON.stringify(t))},setTimeDemand:function(t){this.curOperateEntrustIndex=t;var e=this.entrustList[this.curOperateEntrustIndex].entrustBaseReq,a={};e&&e.cargoReadyTime?a=e:this.timeCost.cargoReadyTime&&(a.cargoReadyTime=this.timeCost.cargoReadyTime||"",a.lastArriveTime=this.timeCost.lastArriveTime||"",a.lastDeliveryTime=this.timeCost.lastDeliveryTime||"",a.lastStartTime=this.timeCost.lastStartTime||"",a.lowestTimeReq=this.timeCost.lowestTimeReq||"",a.lowestTimeUnit=this.timeCost.lowestTimeUnit||""),this.timeCost.lastStartPort&&!a.lastStartPort&&(a.lastStartPort=this.timeCost.lastStartPort||""),this.timeCost.lastArrivePort&&!a.lastArrivePort&&(a.lastArrivePort=this.timeCost.lastArrivePort||""),this.timeData=a,this.timeRandom=String(Math.random()),this.showSetTimeDrawer=!0},submitTimeDemand:function(t){this.entrustList[this.curOperateEntrustIndex].entrustBaseReq=t},checkPeople:function(t){this.peopleData=this.entrustList[t].peoples,this.showCheckPeopleDrawer=!0},checkTimeDemand:function(t){this.timeData=this.entrustList[t].times,this.showCheckSetTimeDrawer=!0},submitItem:function(t){var e=this,a=!0;if(this.$refs["formItemData_".concat(t)][0].validate((function(s){s||(a=!1,e.$Message.warning("00".concat(t+1,"开始时间没有选择")))})),a){if(!this.entrustList[t].contactReqList)return a=!1,void this.$Message.warning("00".concat(t+1,"单次委托的通知人没有选择"));if(!this.entrustList[t].entrustBaseReq)return a=!1,void this.$Message.warning("00".concat(t+1,"单次委托的时间要求没有设置"));if(a){if(this.$refs["childForm_".concat(t)][0].submitForm(),!this.cargoValid)return;this.cargoValid=!1;var s=JSON.parse(JSON.stringify(this.entrustList[t])),i=Object(l["a"])(s.entrustCargoReq||[]);if(s.executoryEntrustCode){var r={entrustTimeReq:s.entrustBaseReq,entrustCargoListReq:i.arr,modifyEntrustContactReqList:s.contactReqList,entrustCode:s.entrustCode||"",startDatetime:s.startDate||null,executoryEntrustCode:s.executoryEntrustCode||"",version:s.version},n=r.entrustTimeReq;n.cargoReadyTime=n.cargoReadyTime?new Date(n.cargoReadyTime).getTime():null,n.lastArriveTime=n.lastArriveTime?new Date(n.lastArriveTime).getTime():null,n.lastDeliveryTime=n.lastDeliveryTime?new Date(n.lastDeliveryTime).getTime():null,n.lastStartTime=n.lastStartTime?new Date(n.lastStartTime).getTime():null,Object(c["y"])({data:r}).then((function(a){var s=a.data;e.$Message.success("修改成功");var i=s.cargoVersion,r=s.concatVersion,n=s.entrustVersion;e.entrustList[t].version=n,e.entrustList[t].entrustCargoReq.forEach((function(t){t.version=i})),e.entrustList[t].contactReqList.forEach((function(t){t.version=r}))}))}else{var o={entrustCode:this.$route.query.isEdit,entrustExcetoryType:1,entrustOnceListReq:[]},u=s,m=Object(l["a"])(u.entrustCargoReq||[]),d={startDatetime:u.startDate,entrustCargoListReq:m.arr,entrustContactListReq:s.contactReqList,cargoReadyTime:u.entrustBaseReq.cargoReadyTime||null,lastStartTime:u.entrustBaseReq.lastStartTime||null,lastArriveTime:u.entrustBaseReq.lastArriveTime||null,lastDeliveryTime:u.entrustBaseReq.lastDeliveryTime||null,lastStartPort:u.entrustBaseReq.lastStartPort||"",lastArrivePort:u.entrustBaseReq.lastArrivePort||"",lowestTimeReq:u.entrustBaseReq.lowestTimeReq||null,lowestTimeUnit:u.entrustBaseReq.lowestTimeUnit||""};o.entrustOnceListReq.push(d);var p=o.entrustOnceListReq[0];p.cargoReadyTime=p.cargoReadyTime&&new Date(p.cargoReadyTime).getTime(),p.lastArriveTime=p.lastArriveTime&&new Date(p.lastArriveTime).getTime(),p.lastDeliveryTime=p.lastDeliveryTime&&new Date(p.lastDeliveryTime).getTime(),p.lastStartTime=p.lastStartTime&&new Date(p.lastStartTime).getTime(),Object(c["d"])({data:o}).then((function(a){var i=a.data;e.$Message.success("保存成功"),e.entrustList[t].times=u.entrustBaseReq,e.entrustList[t].cargoList=u.entrustCargoReq,e.entrustList[t].contactReqList=s.contactReqList,e.entrustList[t].entrustCode=o.entrustCode||e.$route.query.isEdit,e.entrustList[t].executoryEntrustCode=i&&i[0],e.entrustList[t].startDatetime=p.startDatetime,e.entrustList[t].version=0,e.entrustList[t].status="AFORM",e.entrustList[t].entrustCargoReq.forEach((function(t){t.version=0})),i[0]&&Object(c["l"])({data:i[0]}).then((function(a){var s=a.data;s.entrustContactListRes.forEach((function(a){e.entrustList[t].contactReqList.forEach((function(t){a.linkType==t.linkType&&(t.contactCode=a.contactCode,t.executoryEntrustCode=a.executoryEntrustCode,t.version=0)}))}))}))}))}}}},onOpen:function(t,e){var a=this;t.contactReqList&&t.contactReqList.length>=1?t.isShow=!0:Object(c["l"])({data:t.executoryEntrustCode}).then((function(e){if(200==e.code){var s=Object(l["b"])(e.data.entrustCargoListRes),i=[1,2,3];s.arr.forEach((function(t){t.status=e.data.entrustExecutoryStatus})),t.cargoList=s.arr,t.status=e.data.entrustExecutoryStatus,e.data.entrustContactListRes.forEach((function(e){"发货人"==e.linkType&&(t.peoples.senderFormItem=e,i.splice(0,1,e)),"收货人"==e.linkType&&(i.splice(1,1,e),t.peoples.takerFormItem=e),"通知人"==e.linkType&&(t.peoples.notifierFormItem=e,i.splice(2,1,e))})),t.contactReqList=i;var r=e.data.onceEntrustTimeRes;t.times={lastArriveLoad:r.lastArriveLoad,lastArrivePort:r.lastArrivePort,lastStartLoad:r.lastStartLoad,lastStartPort:r.lastStartPort,lowestTimeUnit:r.lowestTimeUnit,lastArrivePortTranslate:r.lastArrivePortTranslate,lastStartPortTranslate:r.lastStartPortTranslate,lowestTimeReq:r.lowestTimeReq,lowestTimeReqUnitTranslate:r.lowestTimeReqUnitTranslate,cargoReadyTime:r.cargoReadyTime&&new Date(r.cargoReadyTime).toLocaleDateString(),lastArriveTime:r.lastArriveTime&&new Date(r.lastArriveTime).toLocaleDateString(),lastDeliveryTime:r.lastDeliveryTime&&new Date(r.lastDeliveryTime).toLocaleDateString(),lastStartTime:r.lastStartTime&&new Date(r.lastStartTime).toLocaleDateString()},t.startDate=new Date(e.data.startDatetime),t.version=e.data.version;var o=e.data.onceEntrustTimeRes;t.entrustBaseReq=Object(n["a"])({},e.data.onceEntrustTimeRes),t.entrustBaseReq.lastStartTime=o.lastStartTime&&new Date(o.lastStartTime),t.entrustBaseReq.lastDeliveryTime=o.lastDeliveryTime&&new Date(o.lastDeliveryTime),t.entrustBaseReq.cargoReadyTime=o.cargoReadyTime&&new Date(o.cargoReadyTime),t.entrustBaseReq.lastArriveTime=o.lastArriveTime&&new Date(o.lastArriveTime),a.$nextTick((function(){t.isShow=!0}))}}))},onClose:function(t){t.isShow=!1},send:function(){var t=this,e={entrustCode:this.entrustCode,version:0};Object(c["B"])({data:e}).then((function(e){200==e.code&&(t.$Message.success({content:e.message}),t.$router.replace({path:"/logistics-entrust/contract-entrust-list/1"}))}))},addEntrust:function(){this.entrustList.push({isShow:!0})},delEntrust:function(){var t=this;if(this.$route.query.isEdit){for(var e=[],a=[],s=0;s<this.entrustList.length;s++)this.entrustList[s].checked&&(this.entrustList[s].executoryEntrustCode?(e.push(this.entrustList[s]),a.push(s)):(this.entrustList.splice(s,1),s--));if(e.length>=1){var i=this.$route.query.isEdit,r=[];e.forEach((function(t){var e=t.version,a=t.executoryEntrustCode;r.push({version:e,entrustCode:i,executoryEntrustCode:a})})),Object(c["g"])({data:r}).then((function(e){e.data;a.forEach((function(e){t.entrustList.splice(e,1)}))}))}}else for(var n=0;n<this.entrustList.length;n++)this.entrustList[n].checked&&(this.entrustList.splice(n,1),n--)},submitEntrustForm:function(){var t=this;if(this.cargoIsValidCount=0,0!=this.entrustList.length){for(var e=!0,a=function(a){return t.$refs["formItemData_".concat(a)][0].validate((function(s){s||(e=!1,t.$route.query.isEdit||(t.entrustList[a].isShow=!0))})),e?t.entrustList[a].contactReqList?t.entrustList[a].entrustBaseReq?void 0:(e=!1,t.$Message.warning("00".concat(a+1,"单次委托的时间要求没有设置")),t.entrustList[a].isShow=!0,{v:void 0}):(e=!1,t.$Message.warning("00".concat(a+1,"单次委托的通知人没有选择")),t.entrustList[a].isShow=!0,{v:void 0}):{v:void 0}},s=0;s<this.entrustList.length;s++){var i=a(s);if("object"===Object(r["a"])(i))return i.v}if(e)for(var n=0;n<this.entrustList.length;n++){if(this.$refs["childForm_".concat(n)][0].submitForm(),!this.cargoValid){this.entrustList[n].isShow=!0;break}this.cargoValid=!1}}else this.$Message.warning({content:"请至少添加一个委托!"})},setTimeVisiableChange:function(t){this.showSetTimeDrawer=t},peopleVisiableChange:function(t){this.showPeopleDrawer=t},checkTimeVisiableChange:function(t){this.showCheckSetTimeDrawer=t},checkPeopleVisiableChange:function(t){this.showCheckPeopleDrawer=t},enablefn:function(t){var e="EXFIN",a="FINISH",s="VCLR",i=(this.judge.enter,this.judge.input),r=t||this.eStatus,n=this.judge.coopType;return{base:function(){if("S"==n){if("input"==i)return!1;if("edit"==i)return r==e||r==a||r==s}else{if("input"==i)return!1;if("edit"==i)return r==e||r==a||r==s}}}}},watch:{defaultData:{handler:function(t){t.length>=1&&(this.entrustList=t)}}}},m=u,d=(a("a7303"),a("2877")),p=Object(d["a"])(m,s,i,!1,null,"5d1b00f2",null);e["default"]=p.exports},7731:function(t,e,a){"use strict";var s=a("14f5"),i=a.n(s);i.a},"7b55":function(t,e,a){"use strict";var s=a("e619"),i=a.n(s);i.a},"7e35":function(t,e,a){},"845d":function(t,e,a){"use strict";var s=a("ef1f"),i=a.n(s);i.a},"8efd":function(t,e,a){"use strict";var s=a("3b7e"),i=a.n(s);i.a},9446:function(t,e,a){"use strict";var s=a("da01"),i=a.n(s);i.a},"9cb5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"public-form-card"},[a("Form",{ref:"formItemData",attrs:{model:t.formItem,rules:t.ruleValidate,"label-width":200,"label-colon":""}},[a("div",{staticClass:"public-form-card"},[a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"开始时间",prop:"startDate"}},[a("DatePicker",{attrs:{disabled:t.isSave,type:"date"},model:{value:t.formItem.startDate,callback:function(e){t.$set(t.formItem,"startDate",e)},expression:"formItem.startDate"}})],1)],1)],1)],1)]),a("cargo-info",{ref:"childForm",attrs:{disEdit:t.isSave,isDisabled:!0,isDetail:t.isDetail},on:{"submit-form":t.submitCargoInfo}}),t.isDetail?t._e():a("div",{staticClass:"public-btns-group"},[t.isSave?t._e():a("Button",{attrs:{type:"primary",shape:"circle",size:"large"},on:{click:t.submitForm}},[t._v("保存")]),t.isSave?t._e():a("Button",{attrs:{shape:"circle",size:"large"},on:{click:t.addCargoInfo}},[t._v("添加货物信息")]),t.isSave?t._e():a("Button",{attrs:{shape:"circle",size:"large"},on:{click:t.choosePeople}},[t._v("选择通知人信息")]),t.isSave?t._e():a("Button",{attrs:{shape:"circle",size:"large"},on:{click:t.setTimeDemand}},[t._v("设置时间要求")]),t.isSave?t._e():a("Button",{attrs:{shape:"circle",size:"large"},on:{click:t.delCargoInfo}},[t._v("删除")])],1),a("set-time-demand",{attrs:{hasRouteList:t.hasRouteList,defaultData:t.timeData,random:t.timeRandom,showDrawer:t.showSetTimeDrawer,hasRoute:t.hasRoute},on:{"on-ok":t.submitTimeDemand,"on-visible-change":t.setTimeVisiableChange}}),a("choose-people",{attrs:{defaultData:t.peopleData,userData:t.userData,random:t.peopleRandom,showDrawer:t.showPeopleDrawer},on:{"on-ok":t.submitPeople,"on-visible-change":t.peopleVisiableChange}})],1)},i=[],r=(a("4160"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("71bb")),n=a("ca18"),o=a("b962"),l=a("cc52"),c=a("f951"),u={components:{CargoInfo:r["default"],SetTimeDemand:function(){return a.e("chunk-7cd83bec").then(a.bind(null,"bcd3"))},ChoosePeople:n["default"]},props:{isDetail:{type:Boolean,default:!1},timeCost:{type:Object,default:function(){return{}}},userData:{type:Array,default:function(){return[]}},hasRouteList:{type:Array,default:function(){return[]}},hasRoute:{type:Boolean,default:!1}},data:function(){return{roleType:this.$getUserInfo().roleType,formItem:{startDate:""},isSave:!1,entrustCode:"",ruleValidate:{startDate:[{required:!0,validator:o["a"].validateTime,trigger:"change"}]},peopleData:{},timeData:{},timeRandom:"0",peopleRandom:"",showSetTimeDrawer:!1,showPeopleDrawer:!1}},methods:{submitCargoInfo:function(t){var e=this;this.formItem.entrustCargoReq=t;var a="",s="",i=JSON.parse(sessionStorage.getItem("contractEntrustsave"));if(i&&(a=JSON.parse(sessionStorage.getItem("contractEntrustsave")).routeCode||!1,s=JSON.parse(sessionStorage.getItem("contractEntrustsave")).entrustCode||"","R"==JSON.parse(sessionStorage.getItem("contractEntrustsave")).periodEntrustBaseReq.entrustType?0:1,a)){var r=JSON.parse(JSON.stringify(this.formItem)),n=[];r.contactReqList.forEach((function(t,e){var a="";0==e?a="发货人":1==e?a="收货人":2==e&&(a="通知人");var s={attenAddr:t.attenAddr||"",attenEmail:t.attenEmail||"",attenFax:t.attenFax||"",attenName:t.attenName||"",attenTel:t.attenTel||"",code:t.code||"",linkType:a};n.push(s)}));var o=Object(l["a"])(this.formItem.entrustCargoReq||[]),u={entrustCode:s,entrustExcetoryType:0,entrustOnceListReq:[{startDatetime:r.startDate,entrustCargoListReq:o.arr,entrustContactListReq:n,cargoReadyTime:r.entrustBaseReq.cargoReadyTime||null,lastStartTime:r.entrustBaseReq.lastStartTime||null,lastArriveTime:r.entrustBaseReq.lastArriveTime||null,lastDeliveryTime:r.entrustBaseReq.lastDeliveryTime||null,lastStartPort:r.entrustBaseReq.lastStartPort||i.lastStartPort||"",lastArrivePort:r.entrustBaseReq.lastArrivePort||i.lastArrivePort||"",lastStartLoad:i.lastStartLoad||null,lastArriveLoad:i.lastArriveLoad||null,lowestTimeReq:r.entrustBaseReq.lowestTimeReq||null,lowestTimeUnit:r.entrustBaseReq.lowestTimeUnit||""}]};Object(c["d"])({data:u}).then((function(t){200==t.code&&Object(c["a"])({entrustCode:s}).then((function(t){if(200==t.code){e.$Message.success({content:t.message});var a={isDetail:s};e.$route.query.logisticsSchemeCode&&(a.logisticsSchemeCode=e.$route.query.logisticsSchemeCode),e.$route.query.freightReqCode&&(a.freightReqCode=e.$route.query.freightReqCode),e.$emit("goDetail",a)}}))}))}},submitForm:function(){var t=this;return this.formItem.contactReqList?this.formItem.entrustBaseReq?void this.$refs.formItemData.validate((function(e){e&&t.$refs["childForm"].submitForm()})):(!1,void this.$Message.warning("请先设置时间要求")):(!1,void this.$Message.warning("请先选择通知人"))},addCargoInfo:function(){this.$refs["childForm"].addCargoInfo()},delCargoInfo:function(){this.$refs["childForm"].delCargoInfo()},send:function(){var t=this,e={entrustCode:this.entrustCode,version:0};Object(c["B"])({data:e}).then((function(e){200==e.code&&(t.$Message.success({content:e.message}),t.$router.replace({path:"/logistics-entrust/contract-entrust-list/1"}))}))},choosePeople:function(){var t=this.formItem.contactReqList||[];t&&t.length>=1?this.peopleData={senderFormItem:t[0],takerFormItem:t[1],notifierFormItem:t[2]}:this.peopleData={senderFormItem:{},takerFormItem:{},notifierFormItem:{}},this.peopleRandom=String(Math.random()),this.showPeopleDrawer=!0},submitPeople:function(t){this.formItem.contactReqList=t},setTimeDemand:function(t){var e=this.formItem.entrustBaseReq,a={};e&&e.cargoReadyTime?a=e:this.timeCost.cargoReadyTime&&(a.cargoReadyTime=this.timeCost.cargoReadyTime||"",a.lastArriveTime=this.timeCost.lastArriveTime||"",a.lastDeliveryTime=this.timeCost.lastDeliveryTime||"",a.lastStartTime=this.timeCost.lastStartTime||"",a.lowestTimeReq=this.timeCost.lowestTimeReq||"",a.lowestTimeUnit=this.timeCost.lowestTimeUnit||""),this.timeCost.lastStartPort&&!a.lastStartPort&&(a.lastStartPort=this.timeCost.lastStartPort||""),this.timeCost.lastArrivePort&&!a.lastArrivePort&&(a.lastArrivePort=this.timeCost.lastArrivePort||""),this.timeData=a,this.timeRandom=String(Math.random()),this.showSetTimeDrawer=!0},submitTimeDemand:function(t){this.formItem.entrustBaseReq=t},setTimeVisiableChange:function(t){this.showSetTimeDrawer=t},peopleVisiableChange:function(t){this.showPeopleDrawer=t}}},m=u,d=(a("a134"),a("2877")),p=Object(d["a"])(m,s,i,!1,null,"150c37e3",null);e["default"]=p.exports},a134:function(t,e,a){"use strict";var s=a("0c5c"),i=a.n(s);i.a},a4db:function(t,e,a){},a5dc:function(t,e,a){},a7303:function(t,e,a){"use strict";var s=a("d9bc"),i=a.n(s);i.a},b207:function(t,e,a){},bcd3:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"set-time-demand"},[a("Drawer",{attrs:{width:"1100"},on:{"on-visible-change":t.drawerChange},model:{value:t.isShowDrawer,callback:function(e){t.isShowDrawer=e},expression:"isShowDrawer"}},[a("h3",[t._v("设置时间要求")]),a("Form",{ref:"formItemData",attrs:{model:t.formItem,rules:t.ruleValidate,"label-position":"top","label-colon":""}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"预计货好时间",prop:"cargoReadyTime"}},[a("DatePicker",{attrs:{type:"date"},model:{value:t.formItem.cargoReadyTime,callback:function(e){t.$set(t.formItem,"cargoReadyTime",e)},expression:"formItem.cargoReadyTime"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"最迟交货时间",prop:"lastDeliveryTime"}},[a("DatePicker",{attrs:{type:"date"},model:{value:t.formItem.lastDeliveryTime,callback:function(e){t.$set(t.formItem,"lastDeliveryTime",e)},expression:"formItem.lastDeliveryTime"}})],1)],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"最迟启运时间",prop:"lastStartTime"}},[a("DatePicker",{attrs:{type:"date"},model:{value:t.formItem.lastStartTime,callback:function(e){t.$set(t.formItem,"lastStartTime",e)},expression:"formItem.lastStartTime"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:t.formItem.lastStartTime&&!t.hasRoute,expression:"formItem.lastStartTime && !hasRoute"}],attrs:{span:"12"}},[a("FormItem",{attrs:{label:"指定地点"}},[a("Input",{attrs:{disabled:""},model:{value:t.departurePortName,callback:function(e){t.departurePortName=e},expression:"departurePortName"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:t.hasRoute,expression:"hasRoute"}],attrs:{span:"12"}},[a("FormItem",{attrs:{label:"指定地点"}},[a("Select",{attrs:{clearable:""},model:{value:t.formItem.lastStartPort,callback:function(e){t.$set(t.formItem,"lastStartPort",e)},expression:"formItem.lastStartPort"}},t._l(t.hasRouteList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"最晚运抵时间",prop:"lastArriveTime"}},[a("DatePicker",{attrs:{type:"date"},model:{value:t.formItem.lastArriveTime,callback:function(e){t.$set(t.formItem,"lastArriveTime",e)},expression:"formItem.lastArriveTime"}})],1)],1),a("Col",{directives:[{name:"show",rawName:"v-show",value:t.formItem.lastArriveTime&&!t.hasRoute,expression:"formItem.lastArriveTime && !hasRoute"}],attrs:{span:"12"}},[a("FormItem",{attrs:{label:"指定地点"}},[a("Input",{attrs:{disabled:""},model:{value:t.destinationPortName,callback:function(e){t.destinationPortName=e},expression:"destinationPortName"}})],1)],1),t.hasRoute?a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"指定地点"}},[a("Select",{attrs:{clearable:""},model:{value:t.formItem.lastArrivePort,callback:function(e){t.$set(t.formItem,"lastArrivePort",e)},expression:"formItem.lastArrivePort"}},t._l(t.hasRouteList,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1)],1)],1):t._e()],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:t.isDetail?12:7}},[a("FormItem",{staticClass:"no-right-border",attrs:{label:"最低时长要求"}},[t.isDetail?a("div",[t._v(t._s(t.formItem.lowestTimeReq)+" "+t._s("H"==t.formItem.lowestTimeUnit?"小时":"天"))]):a("Input",{attrs:{type:"number"},model:{value:t.formItem.lowestTimeReq,callback:function(e){t.$set(t.formItem,"lowestTimeReq",t._n(e))},expression:"formItem.lowestTimeReq"}})],1)],1),t.isDetail?t._e():a("Col",{staticStyle:{"padding-top":"23px"},attrs:{span:"5"}},[a("FormItem",{attrs:{"label-width":0}},[a("Select",{attrs:{clearable:""},model:{value:t.formItem.lowestTimeUnit,callback:function(e){t.$set(t.formItem,"lowestTimeUnit",e)},expression:"formItem.lowestTimeUnit"}},t._l(t.timeUnits,(function(e,s){return a("Option",{key:s,attrs:{value:e.dictionaryKey}},[t._v(t._s(e.dictionaryValue))])})),1)],1)],1)],1)],1),a("div",{staticClass:"drawer-btns"},[a("Button",{attrs:{type:"primary",shape:"circle",size:"large"},on:{click:t.submitForm}},[t._v("确定")]),a("Button",{attrs:{shape:"circle",size:"large"},on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},i=[],r=a("b962"),n=a("90fe"),o={props:{hasRoute:{type:Boolean,default:!1},isDetail:{type:Boolean,default:!1},hasRouteList:{type:Array,default:function(){return[]}},defaultData:{type:Object,default:function(){return{}}},random:{type:String,default:"0"},showDrawer:{type:Boolean,default:!1},eStatus:{type:String,default:"CREATE"},judge:{type:Object,default:function(){return{}}}},data:function(){return{isShowDrawer:!1,formItem:{cargoReadyTime:"",lastDeliveryTime:"",lastStartTime:"",lastArriveTime:"",lastStartPort:"",lastArrivePort:"",lowestTimeReq:"",lowestTimeUnit:""},ruleValidate:{cargoReadyTime:[{required:!0,validator:r["a"].validateTime,trigger:"change"}]},timeUnits:this.$getDictionary("TIME_UNIT"),departurePortName:"",destinationPortName:"",forGl:!0,lastStartPort:"",lastArrivePort:"",scData:{}}},watch:{showDrawer:{handler:function(t){if(this.isShowDrawer=t,t){var e=JSON.parse(sessionStorage.getItem("contractEntrustsave"));!e||this.$route.query.isEdit||this.$route.query.logisticsSchemeCode||(this.departurePortName=e.departurePortName||"",this.destinationPortName=e.destinationPortName||"",this.lastStartPort=e.lastStartPort||"",this.lastArrivePort=e.lastArrivePort||"",this.formItem.lastStartPort=e.lastStartPort||"",this.formItem.lastArrivePort=e.lastArrivePort||"")}},immediate:!1,deep:!0},random:{handler:function(){this.formItem=Object(n["e"])(this.defaultData)||{}},deep:!0}},methods:{submitForm:function(){var t=this;this.$refs.formItemData.validate((function(e){if(e){if(t.formItem.lowestTimeReq&&0==Boolean(t.formItem.lowestTimeUnit))return void t.$Message.warning("请选择时间单位!");t.formItem.lowestTimeReq=t.formItem.lowestTimeReq||"",t.$emit("on-ok",t.formItem),t.isShowDrawer=!1}}))},cancel:function(){this.$emit("on-cancel"),this.$refs.formItemData.resetFields(),this.isShowDrawer=!1},drawerChange:function(t){this.$emit("on-visible-change",t)}}},l=o,c=a("2877"),u=Object(c["a"])(l,s,i,!1,null,"0bdc2a76",null);e["default"]=u.exports},bec0:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"160px","line-height":"160px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("合适运输工具： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("接货时间：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.pickGoodsTime))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("接货地点：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.pickGoodsAddrTranslate))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("启运时间：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.departureDatetime))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运输工具号：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.trspCode))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("航次：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.meansNum))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运抵时间：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.shipDatetime))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("联系人：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.contactEr))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("联系电话：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.contactTel))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("提货时间：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.takeCargoTime))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("提货地点：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.takeCargoAddrTranslate))])],1),a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("服务耗时：")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("预计在途耗时：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.predctTime)+t._s(t.formItem.predctTimeUnitTranslate))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("其他耗时：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.otherTime)+t._s(t.formItem.otherTimeUnitTranslate))])],1),a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"160px","line-height":"160px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("服务水平： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("直达/中转：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s("N"===t.formItem.hasTransfer?"直达":"中转"))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("整箱/拼箱：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s("N"===t.formItem.hasLcl?"整箱":"拼箱"))]),a("Col",{staticClass:"gray-bg",staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("固定/附加服务： ")]),a("Col",{staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"16"}},[a("div",{staticClass:"label-box flex-wrap"},t._l(t.formItem.receiptServerList,(function(e,s){return a("Button",{key:s,staticClass:"button-active",staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v(" "+t._s(e.serverName)+" ")])})),1)])],1)],1),a("div",{staticClass:"card-title"},[t._v("班期信息")]),a("table",{staticClass:"table-schedule",attrs:{border:"1"}},[t._l(t.formItem.receiptScheduleList,(function(e,s){return[a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"50px"}},[t._v("序号")]),t._m(0,!0),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("停靠时间")]),a("td",{staticStyle:{width:"190px"}},[t._v(t._s(e.stopTheTime))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"130px"}},[t._v("运输工具号")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"130px"}},[t._v("航次")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"130px"}},[t._v("运输失效")]),t._m(1,!0),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截关时间")]),a("td",{staticStyle:{width:"190px"}},[t._v(t._s(e.letDeclareDatetime)+t._s(e.letDeclareDatetimeUnit))])]),a("tr",[a("td",{attrs:{rowspan:"3"}},[t._v(t._s(s+1))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("接货时间")]),a("td",{staticStyle:{width:"192px"}},[t._v(t._s(e.pickGoodsTime))]),a("td",{attrs:{rowspan:"3"}},[t._v(t._s(e.trspCode))]),a("td",{attrs:{rowspan:"3"}},[t._v(t._s(e.meansNum))]),a("td",{attrs:{rowspan:"3"}},[t._v(t._s(e.transportTime))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截港时间")]),a("td",{staticStyle:{width:"102px"}},[t._v(t._s(e.letApproachDatetime)+t._s(e.letApproachDatetimeUnit))])]),a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("驶离时间")]),a("td",{staticStyle:{width:"192px"}},[t._v(t._s(e.departureDatetime))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截单时间")]),a("td",{staticStyle:{width:"102px"}},[t._v(t._s(e.letBillDatetime)+t._s(e.letBillDatetimeUnit))])]),a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("运抵时间")]),a("td",{staticStyle:{width:"192px"}},[t._v(t._s(e.shipDatetime))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截VGM时间")]),a("td",{staticStyle:{width:"102px"}},[t._v(t._s(e.letPassDatetime)+t._s(e.letPassDatetimeUnit))])])]}))],2),a("div",{staticClass:"card-title"},[t._v("费用信息")]),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计价箱型箱量：")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("集装箱类型：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.contaType))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("集装箱数量：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.contaQty))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计价免箱期：")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("启运港免箱期：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.departureFreePeriod)+t._s(t.formItem.departureFreePeriodUnitTranslate)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("目的港免箱期：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.destinationFreePeriod)+t._s(t.formItem.destinationFreePeriodUnitTranslate)+" ")]),a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计价免堆期： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("启运港免堆期：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.departureFreeStorage)+t._s(t.formItem.departureFreeStorageUnitTranslate)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("目的港免堆期：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.destinationFreeStorage)+t._s(t.formItem.destinationFreeStorageUnitTranslate)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("冻箱免费插电期：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.contaPlugPeriod)+t._s(t.formItem.contaPlugPeriodUnitTranslate)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}}),a("Col",{staticClass:"col-center",attrs:{span:"6"}})],1),a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计价额外服务项： ")]),a("Col",{staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"20"}},[a("div",{staticClass:"label-box flex-wrap"},t._l(t.formItem.addiServerList,(function(e,s){return a("Button",{key:s,staticClass:"button-active",staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v(" "+t._s(e.serverName)+" ")])})),1)])],1),a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计费固定条目： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运费：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.trspFee)+t._s(t.formItem.trspFeeUnitTranslate))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运杂费：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.trspOtherFee)+t._s(t.formItem.trspOtherFeeUnitTranslate)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("代收费：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.collectFee)+t._s(t.formItem.collectFeeUnitTranslate))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("附加费：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.addiFee)+t._s(t.formItem.addiFeeUnitTranslate))])],1),a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("计费可能条目： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("超期费：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.overdFee)+t._s(t.formItem.overdFeeUnitTranslate))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("更改费：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.changeFee)+t._s(t.formItem.changeFeeUnitTranslate))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("延误费：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.delayFee)+t._s(t.formItem.delayFeeUnitTranslate))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("取消费：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.cancelFee)+t._s(t.formItem.cancelFeeUnitTranslate))])],1),a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("报价有效期：")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("固定航次：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.fixedMeans))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("固定时间：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.fixedTime))])],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("订舱有效期：")]),a("Col",{attrs:{span:"20"}},[t._v(t._s(t.formItem.bookingPeriod))])],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"4"}},[t._v("备注：")]),a("Col",{staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"20"}},[t._v(t._s(t.formItem.remark))])],1)],1),a("div",{staticClass:"card-title"},[t._v("供应商信息")]),a("companyItemDetail",{attrs:{defaultData:t.companyData}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"gray-bg",staticStyle:{width:"140px"},attrs:{rowspan:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("服务时间周期 ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"gray-bg",staticStyle:{width:"140px"},attrs:{rowspan:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("截止时间： ")])}],r=(a("d81d"),a("d3b7"),a("5530")),n=a("90fe"),o={props:{defaultData:{type:Object,default:{}}},components:{companyItemDetail:function(){return a.e("chunk-bf428e66").then(a.bind(null,"850d"))}},watch:{defaultData:{handler:function(t){var e=this,a=JSON.parse(JSON.stringify(t));this.companyData={etcpName:a.etcpName,etcpAddr:a.etcpAddr,enterpriseCode:a.enterpriseCode,businessEr:a.businessEr,businessTel:a.businessTel,billNumber:a.billNumber,billPath:a.billUrl,billType:a.billType,billUnit:a.billUnit,payUnit:a.payUnit,payType:a.payType,payNumber:a.payNumber},this.formItem=a,this.formItem.pickGoodsTime=a.pickGoodsTime?this.timestampFormat(a.pickGoodsTime):"",this.formItem.departureDatetime=a.departureDatetime?this.timestampFormat(a.departureDatetime):"",this.formItem.shipDatetime=a.shipDatetime?this.timestampFormat(a.shipDatetime):"",this.formItem.takeCargoTime=a.shipDatetime?this.timestampFormat(a.takeCargoTime):"",this.formItem.bookingPeriod=a.bookingPeriod?this.timestampFormat(a.bookingPeriod):"",this.formItem.fixedTime=a.fixedTime?this.timestampFormat(a.fixedTime):"",a.receiptScheduleList&&a.receiptScheduleList.length&&(this.formItem.receiptScheduleList=a.receiptScheduleList.map((function(t){return Object(r["a"])({},t,{stopTheTime:e.timestampFormat(t.stopTheTime),departureDatetime:e.timestampFormat(t.departureDatetime),shipDatetime:e.timestampFormat(t.shipDatetime),pickGoodsTime:e.timestampFormat(t.pickGoodsTime),letDeclareDatetimeUnit:e.timeUnitFormat(t.letDeclareDatetimeUnit),letApproachDatetimeUnit:e.timeUnitFormat(t.letApproachDatetimeUnit),letBillDatetimeUnit:e.timeUnitFormat(t.letBillDatetimeUnit),letPassDatetimeUnit:e.timeUnitFormat(t.letPassDatetimeUnit)})})))},immediate:!0}},data:function(){return{formItem:{},companyData:{}}},methods:{timestampFormat:function(t){return Object(n["j"])(t,!0,"/")},timeUnitFormat:function(t){var e="D"===t?"天":"小时";return e}}},l=o,c=(a("9446"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,"1f05a888",null);e["default"]=u.exports},bff6:function(t,e,a){"use strict";var s=a("a4db"),i=a.n(s);i.a},c1df:function(t,e,a){(function(t){var e;(function(e,a){t.exports=a()})(0,(function(){"use strict";var a,s;function i(){return a.apply(null,arguments)}function r(t){a=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(l(t,e))return!1;return!0}function u(t){return void 0===t}function m(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function p(t,e){var a,s=[];for(a=0;a<t.length;++a)s.push(e(t[a],a));return s}function h(t,e){for(var a in e)l(e,a)&&(t[a]=e[a]);return l(e,"toString")&&(t.toString=e.toString),l(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,a,s){return Wa(t,e,a,s,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(t){return null==t._pf&&(t._pf=g()),t._pf}function y(t){if(null==t._isValid){var e=v(t),a=s.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&a);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function _(t){var e=f(NaN);return null!=t?h(v(e),t):v(e).userInvalidated=!0,e}s=Array.prototype.some?Array.prototype.some:function(t){var e,a=Object(this),s=a.length>>>0;for(e=0;e<s;e++)if(e in a&&t.call(this,a[e],e,a))return!0;return!1};var b=i.momentProperties=[],C=!1;function I(t,e){var a,s,i;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=v(e)),u(e._locale)||(t._locale=e._locale),b.length>0)for(a=0;a<b.length;a++)s=b[a],i=e[s],u(i)||(t[s]=i);return t}function T(t){I(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===C&&(C=!0,i.updateOffset(this),C=!1)}function k(t){return t instanceof T||null!=t&&null!=t._isAMomentObject}function S(t){!1===i.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function w(t,e){var a=!0;return h((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),a){var s,r,n,o=[];for(r=0;r<arguments.length;r++){if(s="","object"===typeof arguments[r]){for(n in s+="\n["+r+"] ",arguments[0])l(arguments[0],n)&&(s+=n+": "+arguments[0][n]+", ");s=s.slice(0,-2)}else s=arguments[r];o.push(s)}S(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),a=!1}return e.apply(this,arguments)}),e)}var D,x={};function F(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),x[t]||(S(e),x[t]=!0)}function N(t){return"undefined"!==typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t){var e,a;for(a in t)l(t,a)&&(e=t[a],N(e)?this[a]=e:this["_"+a]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function R(t,e){var a,s=h({},t);for(a in e)l(e,a)&&(o(t[a])&&o(e[a])?(s[a]={},h(s[a],t[a]),h(s[a],e[a])):null!=e[a]?s[a]=e[a]:delete s[a]);for(a in t)l(t,a)&&!l(e,a)&&o(t[a])&&(s[a]=h({},s[a]));return s}function P(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,D=Object.keys?Object.keys:function(t){var e,a=[];for(e in t)l(t,e)&&a.push(e);return a};var M={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function U(t,e,a){var s=this._calendar[t]||this._calendar["sameElse"];return N(s)?s.call(e,a):s}function A(t,e,a){var s=""+Math.abs(t),i=e-s.length,r=t>=0;return(r?a?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,E=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q={},$={};function Y(t,e,a,s){var i=s;"string"===typeof s&&(i=function(){return this[s]()}),t&&($[t]=i),e&&($[e[0]]=function(){return A(i.apply(this,arguments),e[1],e[2])}),a&&($[a]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,a,s=t.match(L);for(e=0,a=s.length;e<a;e++)$[s[e]]?s[e]=$[s[e]]:s[e]=j(s[e]);return function(e){var i,r="";for(i=0;i<a;i++)r+=N(s[i])?s[i].call(e,t):s[i];return r}}function G(t,e){return t.isValid()?(e=B(e,t.localeData()),q[e]=q[e]||V(e),q[e](t)):t.localeData().invalidDate()}function B(t,e){var a=5;function s(t){return e.longDateFormat(t)||t}E.lastIndex=0;while(a>=0&&E.test(t))t=t.replace(E,s),E.lastIndex=0,a-=1;return t}var z={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(t){var e=this._longDateFormat[t],a=this._longDateFormat[t.toUpperCase()];return e||!a?e:(this._longDateFormat[t]=a.match(L).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var K="Invalid date";function H(){return this._invalidDate}var J="%d",Z=/\d{1,2}/;function Q(t){return this._ordinal.replace("%d",t)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function tt(t,e,a,s){var i=this._relativeTime[a];return N(i)?i(t,e,a,s):i.replace(/%d/i,t)}function et(t,e){var a=this._relativeTime[t>0?"future":"past"];return N(a)?a(e):a.replace(/%s/i,e)}var at={};function st(t,e){var a=t.toLowerCase();at[a]=at[a+"s"]=at[e]=t}function it(t){return"string"===typeof t?at[t]||at[t.toLowerCase()]:void 0}function rt(t){var e,a,s={};for(a in t)l(t,a)&&(e=it(a),e&&(s[e]=t[a]));return s}var nt={};function ot(t,e){nt[t]=e}function lt(t){var e,a=[];for(e in t)l(t,e)&&a.push({unit:e,priority:nt[e]});return a.sort((function(t,e){return t.priority-e.priority})),a}function ct(t){return t%4===0&&t%100!==0||t%400===0}function ut(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function mt(t){var e=+t,a=0;return 0!==e&&isFinite(e)&&(a=ut(e)),a}function dt(t,e){return function(a){return null!=a?(ht(this,t,a),i.updateOffset(this,e),this):pt(this,t)}}function pt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function ht(t,e,a){t.isValid()&&!isNaN(a)&&("FullYear"===e&&ct(t.year())&&1===t.month()&&29===t.date()?(a=mt(a),t._d["set"+(t._isUTC?"UTC":"")+e](a,t.month(),te(a,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](a))}function ft(t){return t=it(t),N(this[t])?this[t]():this}function gt(t,e){if("object"===typeof t){t=rt(t);var a,s=lt(t);for(a=0;a<s.length;a++)this[s[a].unit](t[s[a].unit])}else if(t=it(t),N(this[t]))return this[t](e);return this}var vt,yt=/\d/,_t=/\d\d/,bt=/\d{3}/,Ct=/\d{4}/,It=/[+-]?\d{6}/,Tt=/\d\d?/,kt=/\d\d\d\d?/,St=/\d\d\d\d\d\d?/,wt=/\d{1,3}/,Dt=/\d{1,4}/,xt=/[+-]?\d{1,6}/,Ft=/\d+/,Nt=/[+-]?\d+/,Ot=/Z|[+-]\d\d:?\d\d/gi,Rt=/Z|[+-]\d\d(?::?\d\d)?/gi,Pt=/[+-]?\d+(\.\d{1,3})?/,Mt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ut(t,e,a){vt[t]=N(e)?e:function(t,s){return t&&a?a:e}}function At(t,e){return l(vt,t)?vt[t](e._strict,e._locale):new RegExp(Lt(t))}function Lt(t){return Et(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,a,s,i){return e||a||s||i})))}function Et(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}vt={};var qt={};function $t(t,e){var a,s=e;for("string"===typeof t&&(t=[t]),m(e)&&(s=function(t,a){a[e]=mt(t)}),a=0;a<t.length;a++)qt[t[a]]=s}function Yt(t,e){$t(t,(function(t,a,s,i){s._w=s._w||{},e(t,s._w,s,i)}))}function jt(t,e,a){null!=e&&l(qt,t)&&qt[t](e,a._a,a,t)}var Vt,Gt=0,Bt=1,zt=2,Wt=3,Kt=4,Ht=5,Jt=6,Zt=7,Qt=8;function Xt(t,e){return(t%e+e)%e}function te(t,e){if(isNaN(t)||isNaN(e))return NaN;var a=Xt(e,12);return t+=(e-a)/12,1===a?ct(t)?29:28:31-a%7%2}Vt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Y("M",["MM",2],"Mo",(function(){return this.month()+1})),Y("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),Y("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),st("month","M"),ot("month",8),Ut("M",Tt),Ut("MM",Tt,_t),Ut("MMM",(function(t,e){return e.monthsShortRegex(t)})),Ut("MMMM",(function(t,e){return e.monthsRegex(t)})),$t(["M","MM"],(function(t,e){e[Bt]=mt(t)-1})),$t(["MMM","MMMM"],(function(t,e,a,s){var i=a._locale.monthsParse(t,s,a._strict);null!=i?e[Bt]=i:v(a).invalidMonth=t}));var ee="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ae="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),se=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ie=Mt,re=Mt;function ne(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||se).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months["standalone"]}function oe(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[se.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}function le(t,e,a){var s,i,r,n=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=f([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return a?"MMM"===e?(i=Vt.call(this._shortMonthsParse,n),-1!==i?i:null):(i=Vt.call(this._longMonthsParse,n),-1!==i?i:null):"MMM"===e?(i=Vt.call(this._shortMonthsParse,n),-1!==i?i:(i=Vt.call(this._longMonthsParse,n),-1!==i?i:null)):(i=Vt.call(this._longMonthsParse,n),-1!==i?i:(i=Vt.call(this._shortMonthsParse,n),-1!==i?i:null))}function ce(t,e,a){var s,i,r;if(this._monthsParseExact)return le.call(this,t,e,a);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=f([2e3,s]),a&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),a||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),a&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(a&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!a&&this._monthsParse[s].test(t))return s}}function ue(t,e){var a;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=mt(e);else if(e=t.localeData().monthsParse(e),!m(e))return t;return a=Math.min(t.date(),te(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,a),t}function me(t){return null!=t?(ue(this,t),i.updateOffset(this,!0),this):pt(this,"Month")}function de(){return te(this.year(),this.month())}function pe(t){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ie),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function he(t){return this._monthsParseExact?(l(this,"_monthsRegex")||fe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=re),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function fe(){function t(t,e){return e.length-t.length}var e,a,s=[],i=[],r=[];for(e=0;e<12;e++)a=f([2e3,e]),s.push(this.monthsShort(a,"")),i.push(this.months(a,"")),r.push(this.months(a,"")),r.push(this.monthsShort(a,""));for(s.sort(t),i.sort(t),r.sort(t),e=0;e<12;e++)s[e]=Et(s[e]),i[e]=Et(i[e]);for(e=0;e<24;e++)r[e]=Et(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ge(t){return ct(t)?366:365}Y("Y",0,0,(function(){var t=this.year();return t<=9999?A(t,4):"+"+t})),Y(0,["YY",2],0,(function(){return this.year()%100})),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),st("year","y"),ot("year",1),Ut("Y",Nt),Ut("YY",Tt,_t),Ut("YYYY",Dt,Ct),Ut("YYYYY",xt,It),Ut("YYYYYY",xt,It),$t(["YYYYY","YYYYYY"],Gt),$t("YYYY",(function(t,e){e[Gt]=2===t.length?i.parseTwoDigitYear(t):mt(t)})),$t("YY",(function(t,e){e[Gt]=i.parseTwoDigitYear(t)})),$t("Y",(function(t,e){e[Gt]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return mt(t)+(mt(t)>68?1900:2e3)};var ve=dt("FullYear",!0);function ye(){return ct(this.year())}function _e(t,e,a,s,i,r,n){var o;return t<100&&t>=0?(o=new Date(t+400,e,a,s,i,r,n),isFinite(o.getFullYear())&&o.setFullYear(t)):o=new Date(t,e,a,s,i,r,n),o}function be(t){var e,a;return t<100&&t>=0?(a=Array.prototype.slice.call(arguments),a[0]=t+400,e=new Date(Date.UTC.apply(null,a)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ce(t,e,a){var s=7+e-a,i=(7+be(t,0,s).getUTCDay()-e)%7;return-i+s-1}function Ie(t,e,a,s,i){var r,n,o=(7+a-s)%7,l=Ce(t,s,i),c=1+7*(e-1)+o+l;return c<=0?(r=t-1,n=ge(r)+c):c>ge(t)?(r=t+1,n=c-ge(t)):(r=t,n=c),{year:r,dayOfYear:n}}function Te(t,e,a){var s,i,r=Ce(t.year(),e,a),n=Math.floor((t.dayOfYear()-r-1)/7)+1;return n<1?(i=t.year()-1,s=n+ke(i,e,a)):n>ke(t.year(),e,a)?(s=n-ke(t.year(),e,a),i=t.year()+1):(i=t.year(),s=n),{week:s,year:i}}function ke(t,e,a){var s=Ce(t,e,a),i=Ce(t+1,e,a);return(ge(t)-s+i)/7}function Se(t){return Te(t,this._week.dow,this._week.doy).week}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),st("week","w"),st("isoWeek","W"),ot("week",5),ot("isoWeek",5),Ut("w",Tt),Ut("ww",Tt,_t),Ut("W",Tt),Ut("WW",Tt,_t),Yt(["w","ww","W","WW"],(function(t,e,a,s){e[s.substr(0,1)]=mt(t)}));var we={dow:0,doy:6};function De(){return this._week.dow}function xe(){return this._week.doy}function Fe(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Ne(t){var e=Te(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Oe(t,e){return"string"!==typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"===typeof t?t:null):parseInt(t,10)}function Re(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Pe(t,e){return t.slice(e,7).concat(t.slice(0,e))}Y("d",0,"do","day"),Y("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),Y("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),Y("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),st("day","d"),st("weekday","e"),st("isoWeekday","E"),ot("day",11),ot("weekday",11),ot("isoWeekday",11),Ut("d",Tt),Ut("e",Tt),Ut("E",Tt),Ut("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Ut("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Ut("dddd",(function(t,e){return e.weekdaysRegex(t)})),Yt(["dd","ddd","dddd"],(function(t,e,a,s){var i=a._locale.weekdaysParse(t,s,a._strict);null!=i?e.d=i:v(a).invalidWeekday=t})),Yt(["d","e","E"],(function(t,e,a,s){e[s]=mt(t)}));var Me="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ue="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ae="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Le=Mt,Ee=Mt,qe=Mt;function $e(t,e){var a=n(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Pe(a,this._week.dow):t?a[t.day()]:a}function Ye(t){return!0===t?Pe(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function je(t){return!0===t?Pe(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ve(t,e,a){var s,i,r,n=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=f([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return a?"dddd"===e?(i=Vt.call(this._weekdaysParse,n),-1!==i?i:null):"ddd"===e?(i=Vt.call(this._shortWeekdaysParse,n),-1!==i?i:null):(i=Vt.call(this._minWeekdaysParse,n),-1!==i?i:null):"dddd"===e?(i=Vt.call(this._weekdaysParse,n),-1!==i?i:(i=Vt.call(this._shortWeekdaysParse,n),-1!==i?i:(i=Vt.call(this._minWeekdaysParse,n),-1!==i?i:null))):"ddd"===e?(i=Vt.call(this._shortWeekdaysParse,n),-1!==i?i:(i=Vt.call(this._weekdaysParse,n),-1!==i?i:(i=Vt.call(this._minWeekdaysParse,n),-1!==i?i:null))):(i=Vt.call(this._minWeekdaysParse,n),-1!==i?i:(i=Vt.call(this._weekdaysParse,n),-1!==i?i:(i=Vt.call(this._shortWeekdaysParse,n),-1!==i?i:null)))}function Ge(t,e,a){var s,i,r;if(this._weekdaysParseExact)return Ve.call(this,t,e,a);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=f([2e3,1]).day(s),a&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),a&&"dddd"===e&&this._fullWeekdaysParse[s].test(t))return s;if(a&&"ddd"===e&&this._shortWeekdaysParse[s].test(t))return s;if(a&&"dd"===e&&this._minWeekdaysParse[s].test(t))return s;if(!a&&this._weekdaysParse[s].test(t))return s}}function Be(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Oe(t,this.localeData()),this.add(t-e,"d")):e}function ze(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function We(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Re(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Ke(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ze.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Le),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function He(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ze.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ee),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Je(t){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ze.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=qe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ze(){function t(t,e){return e.length-t.length}var e,a,s,i,r,n=[],o=[],l=[],c=[];for(e=0;e<7;e++)a=f([2e3,1]).day(e),s=Et(this.weekdaysMin(a,"")),i=Et(this.weekdaysShort(a,"")),r=Et(this.weekdays(a,"")),n.push(s),o.push(i),l.push(r),c.push(s),c.push(i),c.push(r);n.sort(t),o.sort(t),l.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Xe(){return this.hours()||24}function ta(t,e){Y(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function ea(t,e){return e._meridiemParse}function aa(t){return"p"===(t+"").toLowerCase().charAt(0)}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Qe),Y("k",["kk",2],0,Xe),Y("hmm",0,0,(function(){return""+Qe.apply(this)+A(this.minutes(),2)})),Y("hmmss",0,0,(function(){return""+Qe.apply(this)+A(this.minutes(),2)+A(this.seconds(),2)})),Y("Hmm",0,0,(function(){return""+this.hours()+A(this.minutes(),2)})),Y("Hmmss",0,0,(function(){return""+this.hours()+A(this.minutes(),2)+A(this.seconds(),2)})),ta("a",!0),ta("A",!1),st("hour","h"),ot("hour",13),Ut("a",ea),Ut("A",ea),Ut("H",Tt),Ut("h",Tt),Ut("k",Tt),Ut("HH",Tt,_t),Ut("hh",Tt,_t),Ut("kk",Tt,_t),Ut("hmm",kt),Ut("hmmss",St),Ut("Hmm",kt),Ut("Hmmss",St),$t(["H","HH"],Wt),$t(["k","kk"],(function(t,e,a){var s=mt(t);e[Wt]=24===s?0:s})),$t(["a","A"],(function(t,e,a){a._isPm=a._locale.isPM(t),a._meridiem=t})),$t(["h","hh"],(function(t,e,a){e[Wt]=mt(t),v(a).bigHour=!0})),$t("hmm",(function(t,e,a){var s=t.length-2;e[Wt]=mt(t.substr(0,s)),e[Kt]=mt(t.substr(s)),v(a).bigHour=!0})),$t("hmmss",(function(t,e,a){var s=t.length-4,i=t.length-2;e[Wt]=mt(t.substr(0,s)),e[Kt]=mt(t.substr(s,2)),e[Ht]=mt(t.substr(i)),v(a).bigHour=!0})),$t("Hmm",(function(t,e,a){var s=t.length-2;e[Wt]=mt(t.substr(0,s)),e[Kt]=mt(t.substr(s))})),$t("Hmmss",(function(t,e,a){var s=t.length-4,i=t.length-2;e[Wt]=mt(t.substr(0,s)),e[Kt]=mt(t.substr(s,2)),e[Ht]=mt(t.substr(i))}));var sa=/[ap]\.?m?\.?/i,ia=dt("Hours",!0);function ra(t,e,a){return t>11?a?"pm":"PM":a?"am":"AM"}var na,oa={calendar:M,longDateFormat:z,invalidDate:K,ordinal:J,dayOfMonthOrdinalParse:Z,relativeTime:X,months:ee,monthsShort:ae,week:we,weekdays:Me,weekdaysMin:Ae,weekdaysShort:Ue,meridiemParse:sa},la={},ca={};function ua(t,e){var a,s=Math.min(t.length,e.length);for(a=0;a<s;a+=1)if(t[a]!==e[a])return a;return s}function ma(t){return t?t.toLowerCase().replace("_","-"):t}function da(t){var e,a,s,i,r=0;while(r<t.length){i=ma(t[r]).split("-"),e=i.length,a=ma(t[r+1]),a=a?a.split("-"):null;while(e>0){if(s=pa(i.slice(0,e).join("-")),s)return s;if(a&&a.length>=e&&ua(i,a)>=e-1)break;e--}r++}return na}function pa(a){var s=null;if(void 0===la[a]&&"undefined"!==typeof t&&t&&t.exports)try{s=na._abbr,e,function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),ha(s)}catch(i){la[a]=null}return la[a]}function ha(t,e){var a;return t&&(a=u(e)?va(t):fa(t,e),a?na=a:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),na._abbr}function fa(t,e){if(null!==e){var a,s=oa;if(e.abbr=t,null!=la[t])F("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=la[t]._config;else if(null!=e.parentLocale)if(null!=la[e.parentLocale])s=la[e.parentLocale]._config;else{if(a=pa(e.parentLocale),null==a)return ca[e.parentLocale]||(ca[e.parentLocale]=[]),ca[e.parentLocale].push({name:t,config:e}),null;s=a._config}return la[t]=new P(R(s,e)),ca[t]&&ca[t].forEach((function(t){fa(t.name,t.config)})),ha(t),la[t]}return delete la[t],null}function ga(t,e){if(null!=e){var a,s,i=oa;null!=la[t]&&null!=la[t].parentLocale?la[t].set(R(la[t]._config,e)):(s=pa(t),null!=s&&(i=s._config),e=R(i,e),null==s&&(e.abbr=t),a=new P(e),a.parentLocale=la[t],la[t]=a),ha(t)}else null!=la[t]&&(null!=la[t].parentLocale?(la[t]=la[t].parentLocale,t===ha()&&ha(t)):null!=la[t]&&delete la[t]);return la[t]}function va(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return na;if(!n(t)){if(e=pa(t),e)return e;t=[t]}return da(t)}function ya(){return D(la)}function _a(t){var e,a=t._a;return a&&-2===v(t).overflow&&(e=a[Bt]<0||a[Bt]>11?Bt:a[zt]<1||a[zt]>te(a[Gt],a[Bt])?zt:a[Wt]<0||a[Wt]>24||24===a[Wt]&&(0!==a[Kt]||0!==a[Ht]||0!==a[Jt])?Wt:a[Kt]<0||a[Kt]>59?Kt:a[Ht]<0||a[Ht]>59?Ht:a[Jt]<0||a[Jt]>999?Jt:-1,v(t)._overflowDayOfYear&&(e<Gt||e>zt)&&(e=zt),v(t)._overflowWeeks&&-1===e&&(e=Zt),v(t)._overflowWeekday&&-1===e&&(e=Qt),v(t).overflow=e),t}var ba=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ca=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ia=/Z|[+-]\d\d(?::?\d\d)?/,Ta=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],ka=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Sa=/^\/?Date\((-?\d+)/i,wa=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Da={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xa(t){var e,a,s,i,r,n,o=t._i,l=ba.exec(o)||Ca.exec(o);if(l){for(v(t).iso=!0,e=0,a=Ta.length;e<a;e++)if(Ta[e][1].exec(l[1])){i=Ta[e][0],s=!1!==Ta[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,a=ka.length;e<a;e++)if(ka[e][1].exec(l[3])){r=(l[2]||" ")+ka[e][0];break}if(null==r)return void(t._isValid=!1)}if(!s&&null!=r)return void(t._isValid=!1);if(l[4]){if(!Ia.exec(l[4]))return void(t._isValid=!1);n="Z"}t._f=i+(r||"")+(n||""),$a(t)}else t._isValid=!1}function Fa(t,e,a,s,i,r){var n=[Na(t),ae.indexOf(e),parseInt(a,10),parseInt(s,10),parseInt(i,10)];return r&&n.push(parseInt(r,10)),n}function Na(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Oa(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ra(t,e,a){if(t){var s=Ue.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(s!==i)return v(a).weekdayMismatch=!0,a._isValid=!1,!1}return!0}function Pa(t,e,a){if(t)return Da[t];if(e)return 0;var s=parseInt(a,10),i=s%100,r=(s-i)/100;return 60*r+i}function Ma(t){var e,a=wa.exec(Oa(t._i));if(a){if(e=Fa(a[4],a[3],a[2],a[5],a[6],a[7]),!Ra(a[1],e,t))return;t._a=e,t._tzm=Pa(a[8],a[9],a[10]),t._d=be.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),v(t).rfc2822=!0}else t._isValid=!1}function Ua(t){var e=Sa.exec(t._i);null===e?(xa(t),!1===t._isValid&&(delete t._isValid,Ma(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:i.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Aa(t,e,a){return null!=t?t:null!=e?e:a}function La(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Ea(t){var e,a,s,i,r,n=[];if(!t._d){for(s=La(t),t._w&&null==t._a[zt]&&null==t._a[Bt]&&qa(t),null!=t._dayOfYear&&(r=Aa(t._a[Gt],s[Gt]),(t._dayOfYear>ge(r)||0===t._dayOfYear)&&(v(t)._overflowDayOfYear=!0),a=be(r,0,t._dayOfYear),t._a[Bt]=a.getUTCMonth(),t._a[zt]=a.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=n[e]=s[e];for(;e<7;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Wt]&&0===t._a[Kt]&&0===t._a[Ht]&&0===t._a[Jt]&&(t._nextDay=!0,t._a[Wt]=0),t._d=(t._useUTC?be:_e).apply(null,n),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Wt]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==i&&(v(t).weekdayMismatch=!0)}}function qa(t){var e,a,s,i,r,n,o,l,c;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(r=1,n=4,a=Aa(e.GG,t._a[Gt],Te(Ka(),1,4).year),s=Aa(e.W,1),i=Aa(e.E,1),(i<1||i>7)&&(l=!0)):(r=t._locale._week.dow,n=t._locale._week.doy,c=Te(Ka(),r,n),a=Aa(e.gg,t._a[Gt],c.year),s=Aa(e.w,c.week),null!=e.d?(i=e.d,(i<0||i>6)&&(l=!0)):null!=e.e?(i=e.e+r,(e.e<0||e.e>6)&&(l=!0)):i=r),s<1||s>ke(a,r,n)?v(t)._overflowWeeks=!0:null!=l?v(t)._overflowWeekday=!0:(o=Ie(a,s,i,r,n),t._a[Gt]=o.year,t._dayOfYear=o.dayOfYear)}function $a(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],v(t).empty=!0;var e,a,s,r,n,o,l=""+t._i,c=l.length,u=0;for(s=B(t._f,t._locale).match(L)||[],e=0;e<s.length;e++)r=s[e],a=(l.match(At(r,t))||[])[0],a&&(n=l.substr(0,l.indexOf(a)),n.length>0&&v(t).unusedInput.push(n),l=l.slice(l.indexOf(a)+a.length),u+=a.length),$[r]?(a?v(t).empty=!1:v(t).unusedTokens.push(r),jt(r,a,t)):t._strict&&!a&&v(t).unusedTokens.push(r);v(t).charsLeftOver=c-u,l.length>0&&v(t).unusedInput.push(l),t._a[Wt]<=12&&!0===v(t).bigHour&&t._a[Wt]>0&&(v(t).bigHour=void 0),v(t).parsedDateParts=t._a.slice(0),v(t).meridiem=t._meridiem,t._a[Wt]=Ya(t._locale,t._a[Wt],t._meridiem),o=v(t).era,null!==o&&(t._a[Gt]=t._locale.erasConvertYear(o,t._a[Gt])),Ea(t),_a(t)}else Ma(t);else xa(t)}function Ya(t,e,a){var s;return null==a?e:null!=t.meridiemHour?t.meridiemHour(e,a):null!=t.isPM?(s=t.isPM(a),s&&e<12&&(e+=12),s||12!==e||(e=0),e):e}function ja(t){var e,a,s,i,r,n,o=!1;if(0===t._f.length)return v(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)r=0,n=!1,e=I({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],$a(e),y(e)&&(n=!0),r+=v(e).charsLeftOver,r+=10*v(e).unusedTokens.length,v(e).score=r,o?r<s&&(s=r,a=e):(null==s||r<s||n)&&(s=r,a=e,n&&(o=!0));h(t,a||e)}function Va(t){if(!t._d){var e=rt(t._i),a=void 0===e.day?e.date:e.day;t._a=p([e.year,e.month,a,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Ea(t)}}function Ga(t){var e=new T(_a(Ba(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ba(t){var e=t._i,a=t._f;return t._locale=t._locale||va(t._l),null===e||void 0===a&&""===e?_({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),k(e)?new T(_a(e)):(d(e)?t._d=e:n(a)?ja(t):a?$a(t):za(t),y(t)||(t._d=null),t))}function za(t){var e=t._i;u(e)?t._d=new Date(i.now()):d(e)?t._d=new Date(e.valueOf()):"string"===typeof e?Ua(t):n(e)?(t._a=p(e.slice(0),(function(t){return parseInt(t,10)})),Ea(t)):o(e)?Va(t):m(e)?t._d=new Date(e):i.createFromInputFallback(t)}function Wa(t,e,a,s,i){var r={};return!0!==e&&!1!==e||(s=e,e=void 0),!0!==a&&!1!==a||(s=a,a=void 0),(o(t)&&c(t)||n(t)&&0===t.length)&&(t=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=i,r._l=a,r._i=t,r._f=e,r._strict=s,Ga(r)}function Ka(t,e,a,s){return Wa(t,e,a,s,!1)}i.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ha=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ka.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_()})),Ja=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ka.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_()}));function Za(t,e){var a,s;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ka();for(a=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](a)||(a=e[s]);return a}function Qa(){var t=[].slice.call(arguments,0);return Za("isBefore",t)}function Xa(){var t=[].slice.call(arguments,0);return Za("isAfter",t)}var ts=function(){return Date.now?Date.now():+new Date},es=["year","quarter","month","week","day","hour","minute","second","millisecond"];function as(t){var e,a,s=!1;for(e in t)if(l(t,e)&&(-1===Vt.call(es,e)||null!=t[e]&&isNaN(t[e])))return!1;for(a=0;a<es.length;++a)if(t[es[a]]){if(s)return!1;parseFloat(t[es[a]])!==mt(t[es[a]])&&(s=!0)}return!0}function ss(){return this._isValid}function is(){return Ds(NaN)}function rs(t){var e=rt(t),a=e.year||0,s=e.quarter||0,i=e.month||0,r=e.week||e.isoWeek||0,n=e.day||0,o=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=as(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*o*60*60,this._days=+n+7*r,this._months=+i+3*s+12*a,this._data={},this._locale=va(),this._bubble()}function ns(t){return t instanceof rs}function os(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function ls(t,e,a){var s,i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),n=0;for(s=0;s<i;s++)(a&&t[s]!==e[s]||!a&&mt(t[s])!==mt(e[s]))&&n++;return n+r}function cs(t,e){Y(t,0,0,(function(){var t=this.utcOffset(),a="+";return t<0&&(t=-t,a="-"),a+A(~~(t/60),2)+e+A(~~t%60,2)}))}cs("Z",":"),cs("ZZ",""),Ut("Z",Rt),Ut("ZZ",Rt),$t(["Z","ZZ"],(function(t,e,a){a._useUTC=!0,a._tzm=ms(Rt,t)}));var us=/([\+\-]|\d\d)/gi;function ms(t,e){var a,s,i,r=(e||"").match(t);return null===r?null:(a=r[r.length-1]||[],s=(a+"").match(us)||["-",0,0],i=60*s[1]+mt(s[2]),0===i?0:"+"===s[0]?i:-i)}function ds(t,e){var a,s;return e._isUTC?(a=e.clone(),s=(k(t)||d(t)?t.valueOf():Ka(t).valueOf())-a.valueOf(),a._d.setTime(a._d.valueOf()+s),i.updateOffset(a,!1),a):Ka(t).local()}function ps(t){return-Math.round(t._d.getTimezoneOffset())}function hs(t,e,a){var s,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(t=ms(Rt,t),null===t)return this}else Math.abs(t)<16&&!a&&(t*=60);return!this._isUTC&&e&&(s=ps(this)),this._offset=t,this._isUTC=!0,null!=s&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?Rs(this,Ds(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:ps(this)}function fs(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function gs(t){return this.utcOffset(0,t)}function vs(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(ps(this),"m")),this}function ys(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=ms(Ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function _s(t){return!!this.isValid()&&(t=t?Ka(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function bs(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Cs(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t,e={};return I(e,this),e=Ba(e),e._a?(t=e._isUTC?f(e._a):Ka(e._a),this._isDSTShifted=this.isValid()&&ls(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Is(){return!!this.isValid()&&!this._isUTC}function Ts(){return!!this.isValid()&&this._isUTC}function ks(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Ss=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ws=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ds(t,e){var a,s,i,r=t,n=null;return ns(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:m(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=Ss.exec(t))?(a="-"===n[1]?-1:1,r={y:0,d:mt(n[zt])*a,h:mt(n[Wt])*a,m:mt(n[Kt])*a,s:mt(n[Ht])*a,ms:mt(os(1e3*n[Jt]))*a}):(n=ws.exec(t))?(a="-"===n[1]?-1:1,r={y:xs(n[2],a),M:xs(n[3],a),w:xs(n[4],a),d:xs(n[5],a),h:xs(n[6],a),m:xs(n[7],a),s:xs(n[8],a)}):null==r?r={}:"object"===typeof r&&("from"in r||"to"in r)&&(i=Ns(Ka(r.from),Ka(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),s=new rs(r),ns(t)&&l(t,"_locale")&&(s._locale=t._locale),ns(t)&&l(t,"_isValid")&&(s._isValid=t._isValid),s}function xs(t,e){var a=t&&parseFloat(t.replace(",","."));return(isNaN(a)?0:a)*e}function Fs(t,e){var a={};return a.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(a.months,"M").isAfter(e)&&--a.months,a.milliseconds=+e-+t.clone().add(a.months,"M"),a}function Ns(t,e){var a;return t.isValid()&&e.isValid()?(e=ds(e,t),t.isBefore(e)?a=Fs(t,e):(a=Fs(e,t),a.milliseconds=-a.milliseconds,a.months=-a.months),a):{milliseconds:0,months:0}}function Os(t,e){return function(a,s){var i,r;return null===s||isNaN(+s)||(F(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=a,a=s,s=r),i=Ds(a,s),Rs(this,i,t),this}}function Rs(t,e,a,s){var r=e._milliseconds,n=os(e._days),o=os(e._months);t.isValid()&&(s=null==s||s,o&&ue(t,pt(t,"Month")+o*a),n&&ht(t,"Date",pt(t,"Date")+n*a),r&&t._d.setTime(t._d.valueOf()+r*a),s&&i.updateOffset(t,n||o))}Ds.fn=rs.prototype,Ds.invalid=is;var Ps=Os(1,"add"),Ms=Os(-1,"subtract");function Us(t){return"string"===typeof t||t instanceof String}function As(t){return k(t)||d(t)||Us(t)||m(t)||Es(t)||Ls(t)||null===t||void 0===t}function Ls(t){var e,a,s=o(t)&&!c(t),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<r.length;e+=1)a=r[e],i=i||l(t,a);return s&&i}function Es(t){var e=n(t),a=!1;return e&&(a=0===t.filter((function(e){return!m(e)&&Us(t)})).length),e&&a}function qs(t){var e,a,s=o(t)&&!c(t),i=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<r.length;e+=1)a=r[e],i=i||l(t,a);return s&&i}function $s(t,e){var a=t.diff(e,"days",!0);return a<-6?"sameElse":a<-1?"lastWeek":a<0?"lastDay":a<1?"sameDay":a<2?"nextDay":a<7?"nextWeek":"sameElse"}function Ys(t,e){1===arguments.length&&(As(arguments[0])?(t=arguments[0],e=void 0):qs(arguments[0])&&(e=arguments[0],t=void 0));var a=t||Ka(),s=ds(a,this).startOf("day"),r=i.calendarFormat(this,s)||"sameElse",n=e&&(N(e[r])?e[r].call(this,a):e[r]);return this.format(n||this.localeData().calendar(r,this,Ka(a)))}function js(){return new T(this)}function Vs(t,e){var a=k(t)?t:Ka(t);return!(!this.isValid()||!a.isValid())&&(e=it(e)||"millisecond","millisecond"===e?this.valueOf()>a.valueOf():a.valueOf()<this.clone().startOf(e).valueOf())}function Gs(t,e){var a=k(t)?t:Ka(t);return!(!this.isValid()||!a.isValid())&&(e=it(e)||"millisecond","millisecond"===e?this.valueOf()<a.valueOf():this.clone().endOf(e).valueOf()<a.valueOf())}function Bs(t,e,a,s){var i=k(t)?t:Ka(t),r=k(e)?e:Ka(e);return!!(this.isValid()&&i.isValid()&&r.isValid())&&(s=s||"()",("("===s[0]?this.isAfter(i,a):!this.isBefore(i,a))&&(")"===s[1]?this.isBefore(r,a):!this.isAfter(r,a)))}function zs(t,e){var a,s=k(t)?t:Ka(t);return!(!this.isValid()||!s.isValid())&&(e=it(e)||"millisecond","millisecond"===e?this.valueOf()===s.valueOf():(a=s.valueOf(),this.clone().startOf(e).valueOf()<=a&&a<=this.clone().endOf(e).valueOf()))}function Ws(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Ks(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Hs(t,e,a){var s,i,r;if(!this.isValid())return NaN;if(s=ds(t,this),!s.isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),e=it(e),e){case"year":r=Js(this,s)/12;break;case"month":r=Js(this,s);break;case"quarter":r=Js(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return a?r:ut(r)}function Js(t,e){if(t.date()<e.date())return-Js(e,t);var a,s,i=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(i,"months");return e-r<0?(a=t.clone().add(i-1,"months"),s=(e-r)/(r-a)):(a=t.clone().add(i+1,"months"),s=(e-r)/(a-r)),-(i+s)||0}function Zs(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qs(t){if(!this.isValid())return null;var e=!0!==t,a=e?this.clone().utc():this;return a.year()<0||a.year()>9999?G(a,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(a,"Z")):G(a,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Xs(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,a,s,i="moment",r="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),t="["+i+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",s=r+'[")]',this.format(t+e+a+s)}function ti(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=G(this,t);return this.localeData().postformat(e)}function ei(t,e){return this.isValid()&&(k(t)&&t.isValid()||Ka(t).isValid())?Ds({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ai(t){return this.from(Ka(),t)}function si(t,e){return this.isValid()&&(k(t)&&t.isValid()||Ka(t).isValid())?Ds({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ii(t){return this.to(Ka(),t)}function ri(t){var e;return void 0===t?this._locale._abbr:(e=va(t),null!=e&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ni=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function oi(){return this._locale}var li=1e3,ci=60*li,ui=60*ci,mi=3506328*ui;function di(t,e){return(t%e+e)%e}function pi(t,e,a){return t<100&&t>=0?new Date(t+400,e,a)-mi:new Date(t,e,a).valueOf()}function hi(t,e,a){return t<100&&t>=0?Date.UTC(t+400,e,a)-mi:Date.UTC(t,e,a)}function fi(t){var e,a;if(t=it(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(a=this._isUTC?hi:pi,t){case"year":e=a(this.year(),0,1);break;case"quarter":e=a(this.year(),this.month()-this.month()%3,1);break;case"month":e=a(this.year(),this.month(),1);break;case"week":e=a(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=a(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=di(e+(this._isUTC?0:this.utcOffset()*ci),ui);break;case"minute":e=this._d.valueOf(),e-=di(e,ci);break;case"second":e=this._d.valueOf(),e-=di(e,li);break}return this._d.setTime(e),i.updateOffset(this,!0),this}function gi(t){var e,a;if(t=it(t),void 0===t||"millisecond"===t||!this.isValid())return this;switch(a=this._isUTC?hi:pi,t){case"year":e=a(this.year()+1,0,1)-1;break;case"quarter":e=a(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=a(this.year(),this.month()+1,1)-1;break;case"week":e=a(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=a(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=a(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ui-di(e+(this._isUTC?0:this.utcOffset()*ci),ui)-1;break;case"minute":e=this._d.valueOf(),e+=ci-di(e,ci)-1;break;case"second":e=this._d.valueOf(),e+=li-di(e,li)-1;break}return this._d.setTime(e),i.updateOffset(this,!0),this}function vi(){return this._d.valueOf()-6e4*(this._offset||0)}function yi(){return Math.floor(this.valueOf()/1e3)}function _i(){return new Date(this.valueOf())}function bi(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Ci(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ii(){return this.isValid()?this.toISOString():null}function Ti(){return y(this)}function ki(){return h({},v(this))}function Si(){return v(this).overflow}function wi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Di(t,e){var a,s,r,n=this._eras||va("en")._eras;for(a=0,s=n.length;a<s;++a){switch(typeof n[a].since){case"string":r=i(n[a].since).startOf("day"),n[a].since=r.valueOf();break}switch(typeof n[a].until){case"undefined":n[a].until=1/0;break;case"string":r=i(n[a].until).startOf("day").valueOf(),n[a].until=r.valueOf();break}}return n}function xi(t,e,a){var s,i,r,n,o,l=this.eras();for(t=t.toUpperCase(),s=0,i=l.length;s<i;++s)if(r=l[s].name.toUpperCase(),n=l[s].abbr.toUpperCase(),o=l[s].narrow.toUpperCase(),a)switch(e){case"N":case"NN":case"NNN":if(n===t)return l[s];break;case"NNNN":if(r===t)return l[s];break;case"NNNNN":if(o===t)return l[s];break}else if([r,n,o].indexOf(t)>=0)return l[s]}function Fi(t,e){var a=t.since<=t.until?1:-1;return void 0===e?i(t.since).year():i(t.since).year()+(e-t.offset)*a}function Ni(){var t,e,a,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t){if(a=this.startOf("day").valueOf(),s[t].since<=a&&a<=s[t].until)return s[t].name;if(s[t].until<=a&&a<=s[t].since)return s[t].name}return""}function Oi(){var t,e,a,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t){if(a=this.startOf("day").valueOf(),s[t].since<=a&&a<=s[t].until)return s[t].narrow;if(s[t].until<=a&&a<=s[t].since)return s[t].narrow}return""}function Ri(){var t,e,a,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t){if(a=this.startOf("day").valueOf(),s[t].since<=a&&a<=s[t].until)return s[t].abbr;if(s[t].until<=a&&a<=s[t].since)return s[t].abbr}return""}function Pi(){var t,e,a,s,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(a=r[t].since<=r[t].until?1:-1,s=this.startOf("day").valueOf(),r[t].since<=s&&s<=r[t].until||r[t].until<=s&&s<=r[t].since)return(this.year()-i(r[t].since).year())*a+r[t].offset;return this.year()}function Mi(t){return l(this,"_erasNameRegex")||Yi.call(this),t?this._erasNameRegex:this._erasRegex}function Ui(t){return l(this,"_erasAbbrRegex")||Yi.call(this),t?this._erasAbbrRegex:this._erasRegex}function Ai(t){return l(this,"_erasNarrowRegex")||Yi.call(this),t?this._erasNarrowRegex:this._erasRegex}function Li(t,e){return e.erasAbbrRegex(t)}function Ei(t,e){return e.erasNameRegex(t)}function qi(t,e){return e.erasNarrowRegex(t)}function $i(t,e){return e._eraYearOrdinalRegex||Ft}function Yi(){var t,e,a=[],s=[],i=[],r=[],n=this.eras();for(t=0,e=n.length;t<e;++t)s.push(Et(n[t].name)),a.push(Et(n[t].abbr)),i.push(Et(n[t].narrow)),r.push(Et(n[t].name)),r.push(Et(n[t].abbr)),r.push(Et(n[t].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+s.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function ji(t,e){Y(0,[t,t.length],0,e)}function Vi(t){return Hi.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(t){return Hi.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Bi(){return ke(this.year(),1,4)}function zi(){return ke(this.isoWeekYear(),1,4)}function Wi(){var t=this.localeData()._week;return ke(this.year(),t.dow,t.doy)}function Ki(){var t=this.localeData()._week;return ke(this.weekYear(),t.dow,t.doy)}function Hi(t,e,a,s,i){var r;return null==t?Te(this,s,i).year:(r=ke(t,s,i),e>r&&(e=r),Ji.call(this,t,e,a,s,i))}function Ji(t,e,a,s,i){var r=Ie(t,e,a,s,i),n=be(r.year,0,r.dayOfYear);return this.year(n.getUTCFullYear()),this.month(n.getUTCMonth()),this.date(n.getUTCDate()),this}function Zi(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}Y("N",0,0,"eraAbbr"),Y("NN",0,0,"eraAbbr"),Y("NNN",0,0,"eraAbbr"),Y("NNNN",0,0,"eraName"),Y("NNNNN",0,0,"eraNarrow"),Y("y",["y",1],"yo","eraYear"),Y("y",["yy",2],0,"eraYear"),Y("y",["yyy",3],0,"eraYear"),Y("y",["yyyy",4],0,"eraYear"),Ut("N",Li),Ut("NN",Li),Ut("NNN",Li),Ut("NNNN",Ei),Ut("NNNNN",qi),$t(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,a,s){var i=a._locale.erasParse(t,s,a._strict);i?v(a).era=i:v(a).invalidEra=t})),Ut("y",Ft),Ut("yy",Ft),Ut("yyy",Ft),Ut("yyyy",Ft),Ut("yo",$i),$t(["y","yy","yyy","yyyy"],Gt),$t(["yo"],(function(t,e,a,s){var i;a._locale._eraYearOrdinalRegex&&(i=t.match(a._locale._eraYearOrdinalRegex)),a._locale.eraYearOrdinalParse?e[Gt]=a._locale.eraYearOrdinalParse(t,i):e[Gt]=parseInt(t,10)})),Y(0,["gg",2],0,(function(){return this.weekYear()%100})),Y(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ji("gggg","weekYear"),ji("ggggg","weekYear"),ji("GGGG","isoWeekYear"),ji("GGGGG","isoWeekYear"),st("weekYear","gg"),st("isoWeekYear","GG"),ot("weekYear",1),ot("isoWeekYear",1),Ut("G",Nt),Ut("g",Nt),Ut("GG",Tt,_t),Ut("gg",Tt,_t),Ut("GGGG",Dt,Ct),Ut("gggg",Dt,Ct),Ut("GGGGG",xt,It),Ut("ggggg",xt,It),Yt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,a,s){e[s.substr(0,2)]=mt(t)})),Yt(["gg","GG"],(function(t,e,a,s){e[s]=i.parseTwoDigitYear(t)})),Y("Q",0,"Qo","quarter"),st("quarter","Q"),ot("quarter",7),Ut("Q",yt),$t("Q",(function(t,e){e[Bt]=3*(mt(t)-1)})),Y("D",["DD",2],"Do","date"),st("date","D"),ot("date",9),Ut("D",Tt),Ut("DD",Tt,_t),Ut("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),$t(["D","DD"],zt),$t("Do",(function(t,e){e[zt]=mt(t.match(Tt)[0])}));var Qi=dt("Date",!0);function Xi(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}Y("DDD",["DDDD",3],"DDDo","dayOfYear"),st("dayOfYear","DDD"),ot("dayOfYear",4),Ut("DDD",wt),Ut("DDDD",bt),$t(["DDD","DDDD"],(function(t,e,a){a._dayOfYear=mt(t)})),Y("m",["mm",2],0,"minute"),st("minute","m"),ot("minute",14),Ut("m",Tt),Ut("mm",Tt,_t),$t(["m","mm"],Kt);var tr=dt("Minutes",!1);Y("s",["ss",2],0,"second"),st("second","s"),ot("second",15),Ut("s",Tt),Ut("ss",Tt,_t),$t(["s","ss"],Ht);var er,ar,sr=dt("Seconds",!1);for(Y("S",0,0,(function(){return~~(this.millisecond()/100)})),Y(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Y(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Y(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Y(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Y(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Y(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),st("millisecond","ms"),ot("millisecond",16),Ut("S",wt,yt),Ut("SS",wt,_t),Ut("SSS",wt,bt),er="SSSS";er.length<=9;er+="S")Ut(er,Ft);function ir(t,e){e[Jt]=mt(1e3*("0."+t))}for(er="S";er.length<=9;er+="S")$t(er,ir);function rr(){return this._isUTC?"UTC":""}function nr(){return this._isUTC?"Coordinated Universal Time":""}ar=dt("Milliseconds",!1),Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var or=T.prototype;function lr(t){return Ka(1e3*t)}function cr(){return Ka.apply(null,arguments).parseZone()}function ur(t){return t}or.add=Ps,or.calendar=Ys,or.clone=js,or.diff=Hs,or.endOf=gi,or.format=ti,or.from=ei,or.fromNow=ai,or.to=si,or.toNow=ii,or.get=ft,or.invalidAt=Si,or.isAfter=Vs,or.isBefore=Gs,or.isBetween=Bs,or.isSame=zs,or.isSameOrAfter=Ws,or.isSameOrBefore=Ks,or.isValid=Ti,or.lang=ni,or.locale=ri,or.localeData=oi,or.max=Ja,or.min=Ha,or.parsingFlags=ki,or.set=gt,or.startOf=fi,or.subtract=Ms,or.toArray=bi,or.toObject=Ci,or.toDate=_i,or.toISOString=Qs,or.inspect=Xs,"undefined"!==typeof Symbol&&null!=Symbol.for&&(or[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),or.toJSON=Ii,or.toString=Zs,or.unix=yi,or.valueOf=vi,or.creationData=wi,or.eraName=Ni,or.eraNarrow=Oi,or.eraAbbr=Ri,or.eraYear=Pi,or.year=ve,or.isLeapYear=ye,or.weekYear=Vi,or.isoWeekYear=Gi,or.quarter=or.quarters=Zi,or.month=me,or.daysInMonth=de,or.week=or.weeks=Fe,or.isoWeek=or.isoWeeks=Ne,or.weeksInYear=Wi,or.weeksInWeekYear=Ki,or.isoWeeksInYear=Bi,or.isoWeeksInISOWeekYear=zi,or.date=Qi,or.day=or.days=Be,or.weekday=ze,or.isoWeekday=We,or.dayOfYear=Xi,or.hour=or.hours=ia,or.minute=or.minutes=tr,or.second=or.seconds=sr,or.millisecond=or.milliseconds=ar,or.utcOffset=hs,or.utc=gs,or.local=vs,or.parseZone=ys,or.hasAlignedHourOffset=_s,or.isDST=bs,or.isLocal=Is,or.isUtcOffset=Ts,or.isUtc=ks,or.isUTC=ks,or.zoneAbbr=rr,or.zoneName=nr,or.dates=w("dates accessor is deprecated. Use date instead.",Qi),or.months=w("months accessor is deprecated. Use month instead",me),or.years=w("years accessor is deprecated. Use year instead",ve),or.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fs),or.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Cs);var mr=P.prototype;function dr(t,e,a,s){var i=va(),r=f().set(s,e);return i[a](r,t)}function pr(t,e,a){if(m(t)&&(e=t,t=void 0),t=t||"",null!=e)return dr(t,e,a,"month");var s,i=[];for(s=0;s<12;s++)i[s]=dr(t,s,a,"month");return i}function hr(t,e,a,s){"boolean"===typeof t?(m(e)&&(a=e,e=void 0),e=e||""):(e=t,a=e,t=!1,m(e)&&(a=e,e=void 0),e=e||"");var i,r=va(),n=t?r._week.dow:0,o=[];if(null!=a)return dr(e,(a+n)%7,s,"day");for(i=0;i<7;i++)o[i]=dr(e,(i+n)%7,s,"day");return o}function fr(t,e){return pr(t,e,"months")}function gr(t,e){return pr(t,e,"monthsShort")}function vr(t,e,a){return hr(t,e,a,"weekdays")}function yr(t,e,a){return hr(t,e,a,"weekdaysShort")}function _r(t,e,a){return hr(t,e,a,"weekdaysMin")}mr.calendar=U,mr.longDateFormat=W,mr.invalidDate=H,mr.ordinal=Q,mr.preparse=ur,mr.postformat=ur,mr.relativeTime=tt,mr.pastFuture=et,mr.set=O,mr.eras=Di,mr.erasParse=xi,mr.erasConvertYear=Fi,mr.erasAbbrRegex=Ui,mr.erasNameRegex=Mi,mr.erasNarrowRegex=Ai,mr.months=ne,mr.monthsShort=oe,mr.monthsParse=ce,mr.monthsRegex=he,mr.monthsShortRegex=pe,mr.week=Se,mr.firstDayOfYear=xe,mr.firstDayOfWeek=De,mr.weekdays=$e,mr.weekdaysMin=je,mr.weekdaysShort=Ye,mr.weekdaysParse=Ge,mr.weekdaysRegex=Ke,mr.weekdaysShortRegex=He,mr.weekdaysMinRegex=Je,mr.isPM=aa,mr.meridiem=ra,ha("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,a=1===mt(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+a}}),i.lang=w("moment.lang is deprecated. Use moment.locale instead.",ha),i.langData=w("moment.langData is deprecated. Use moment.localeData instead.",va);var br=Math.abs;function Cr(){var t=this._data;return this._milliseconds=br(this._milliseconds),this._days=br(this._days),this._months=br(this._months),t.milliseconds=br(t.milliseconds),t.seconds=br(t.seconds),t.minutes=br(t.minutes),t.hours=br(t.hours),t.months=br(t.months),t.years=br(t.years),this}function Ir(t,e,a,s){var i=Ds(e,a);return t._milliseconds+=s*i._milliseconds,t._days+=s*i._days,t._months+=s*i._months,t._bubble()}function Tr(t,e){return Ir(this,t,e,1)}function kr(t,e){return Ir(this,t,e,-1)}function Sr(t){return t<0?Math.floor(t):Math.ceil(t)}function wr(){var t,e,a,s,i,r=this._milliseconds,n=this._days,o=this._months,l=this._data;return r>=0&&n>=0&&o>=0||r<=0&&n<=0&&o<=0||(r+=864e5*Sr(xr(o)+n),n=0,o=0),l.milliseconds=r%1e3,t=ut(r/1e3),l.seconds=t%60,e=ut(t/60),l.minutes=e%60,a=ut(e/60),l.hours=a%24,n+=ut(a/24),i=ut(Dr(n)),o+=i,n-=Sr(xr(i)),s=ut(o/12),o%=12,l.days=n,l.months=o,l.years=s,this}function Dr(t){return 4800*t/146097}function xr(t){return 146097*t/4800}function Fr(t){if(!this.isValid())return NaN;var e,a,s=this._milliseconds;if(t=it(t),"month"===t||"quarter"===t||"year"===t)switch(e=this._days+s/864e5,a=this._months+Dr(e),t){case"month":return a;case"quarter":return a/3;case"year":return a/12}else switch(e=this._days+Math.round(xr(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return Math.floor(864e5*e)+s;default:throw new Error("Unknown unit "+t)}}function Nr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*mt(this._months/12):NaN}function Or(t){return function(){return this.as(t)}}var Rr=Or("ms"),Pr=Or("s"),Mr=Or("m"),Ur=Or("h"),Ar=Or("d"),Lr=Or("w"),Er=Or("M"),qr=Or("Q"),$r=Or("y");function Yr(){return Ds(this)}function jr(t){return t=it(t),this.isValid()?this[t+"s"]():NaN}function Vr(t){return function(){return this.isValid()?this._data[t]:NaN}}var Gr=Vr("milliseconds"),Br=Vr("seconds"),zr=Vr("minutes"),Wr=Vr("hours"),Kr=Vr("days"),Hr=Vr("months"),Jr=Vr("years");function Zr(){return ut(this.days()/7)}var Qr=Math.round,Xr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function tn(t,e,a,s,i){return i.relativeTime(e||1,!!a,t,s)}function en(t,e,a,s){var i=Ds(t).abs(),r=Qr(i.as("s")),n=Qr(i.as("m")),o=Qr(i.as("h")),l=Qr(i.as("d")),c=Qr(i.as("M")),u=Qr(i.as("w")),m=Qr(i.as("y")),d=r<=a.ss&&["s",r]||r<a.s&&["ss",r]||n<=1&&["m"]||n<a.m&&["mm",n]||o<=1&&["h"]||o<a.h&&["hh",o]||l<=1&&["d"]||l<a.d&&["dd",l];return null!=a.w&&(d=d||u<=1&&["w"]||u<a.w&&["ww",u]),d=d||c<=1&&["M"]||c<a.M&&["MM",c]||m<=1&&["y"]||["yy",m],d[2]=e,d[3]=+t>0,d[4]=s,tn.apply(null,d)}function an(t){return void 0===t?Qr:"function"===typeof t&&(Qr=t,!0)}function sn(t,e){return void 0!==Xr[t]&&(void 0===e?Xr[t]:(Xr[t]=e,"s"===t&&(Xr.ss=e-1),!0))}function rn(t,e){if(!this.isValid())return this.localeData().invalidDate();var a,s,i=!1,r=Xr;return"object"===typeof t&&(e=t,t=!1),"boolean"===typeof t&&(i=t),"object"===typeof e&&(r=Object.assign({},Xr,e),null!=e.s&&null==e.ss&&(r.ss=e.s-1)),a=this.localeData(),s=en(this,!i,r,a),i&&(s=a.pastFuture(+this,s)),a.postformat(s)}var nn=Math.abs;function on(t){return(t>0)-(t<0)||+t}function ln(){if(!this.isValid())return this.localeData().invalidDate();var t,e,a,s,i,r,n,o,l=nn(this._milliseconds)/1e3,c=nn(this._days),u=nn(this._months),m=this.asSeconds();return m?(t=ut(l/60),e=ut(t/60),l%=60,t%=60,a=ut(u/12),u%=12,s=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=m<0?"-":"",r=on(this._months)!==on(m)?"-":"",n=on(this._days)!==on(m)?"-":"",o=on(this._milliseconds)!==on(m)?"-":"",i+"P"+(a?r+a+"Y":"")+(u?r+u+"M":"")+(c?n+c+"D":"")+(e||t||l?"T":"")+(e?o+e+"H":"")+(t?o+t+"M":"")+(l?o+s+"S":"")):"P0D"}var cn=rs.prototype;return cn.isValid=ss,cn.abs=Cr,cn.add=Tr,cn.subtract=kr,cn.as=Fr,cn.asMilliseconds=Rr,cn.asSeconds=Pr,cn.asMinutes=Mr,cn.asHours=Ur,cn.asDays=Ar,cn.asWeeks=Lr,cn.asMonths=Er,cn.asQuarters=qr,cn.asYears=$r,cn.valueOf=Nr,cn._bubble=wr,cn.clone=Yr,cn.get=jr,cn.milliseconds=Gr,cn.seconds=Br,cn.minutes=zr,cn.hours=Wr,cn.days=Kr,cn.weeks=Zr,cn.months=Hr,cn.years=Jr,cn.humanize=rn,cn.toISOString=ln,cn.toString=ln,cn.toJSON=ln,cn.locale=ri,cn.localeData=oi,cn.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ln),cn.lang=ni,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),Ut("x",Nt),Ut("X",Pt),$t("X",(function(t,e,a){a._d=new Date(1e3*parseFloat(t))})),$t("x",(function(t,e,a){a._d=new Date(mt(t))})),i.version="2.27.0",r(Ka),i.fn=or,i.min=Qa,i.max=Xa,i.now=ts,i.utc=f,i.unix=lr,i.months=fr,i.isDate=d,i.locale=ha,i.invalid=_,i.duration=Ds,i.isMoment=k,i.weekdays=vr,i.parseZone=cr,i.localeData=va,i.isDuration=ns,i.monthsShort=gr,i.weekdaysMin=_r,i.defineLocale=fa,i.updateLocale=ga,i.locales=ya,i.weekdaysShort=yr,i.normalizeUnits=it,i.relativeTimeRounding=an,i.relativeTimeThreshold=sn,i.calendarFormat=$s,i.prototype=or,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}))}).call(this,a("62e4")(t))},c6b2:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title big-title",staticStyle:{"margin-top":"-20px"}},[t._v("方案基本信息")]),a("AdtSchemeInformationRoute",{attrs:{routeResList:t.basicInformation.routeCodes,type:"isBig"}},[a("template",{slot:"price"},[a("Row",[a("Col",{attrs:{span:"6"}},[a("span",[t._v("参考价格:"+t._s(t.basicInformation.hghtPrice)+t._s(t.basicInformation.offerCurrTranslate))])]),a("Col",{attrs:{span:"6"}},[a("span",[t._v("参考时长:"+t._s(t.basicInformation.hghtTmeff)+t._s(t.basicInformation.tmeffUnitTranslate))])]),a("Col",{attrs:{span:"6"}},[a("span",[t._v("结算固定汇率:"+t._s(t.basicInformation.exrt))])]),a("Col",{attrs:{span:"6"}},[a("span",[t._v("方案截至时间:"+t._s(t.timestampFormat(t.basicInformation.endOfTime)))])])],1)],1),a("template",{slot:"service"},[a("Row",[a("Col",{attrs:{span:"2"}},[a("span",[t._v("代理服务")])]),a("Col",{attrs:{span:"22"}},t._l(t.schemeProxyList,(function(e,s){return a("Col",{key:s,staticClass:"service-proxy",attrs:{span:"6"}},[a("span",{staticClass:"agency-service"},[t._v(t._s(e.proxyName))]),a("span",{staticClass:"agency-service",staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.fee)+t._s(e.currTranslate))])])})),1)],1),a("div",{staticStyle:{margin:"20px 0",border:"1px dashed #E5E5E5"}}),a("Row",[a("div",{staticClass:"time-box"},[a("span",[t._v(" 提醒时间设置：方案截止时间几天前开始提醒："+t._s(t.basicInformation.remindTime)+t._s(t.basicInformation.remindTimeUnitTranslate)+" ")])])])],1)],2),a("p",{staticClass:"title big-title"},[t._v("产品服务信息")]),a("Card",[a("adt-tab-btns",{attrs:{height:40,width:200,isUnderline:!0,titleNames:t.titleNames,btnIndex:t.changeIndex},on:{handleBtn:t.handleBtn}}),a("Divider"),a("Collapse",{staticClass:"collapse",attrs:{accordion:""},model:{value:t.collapseValue,callback:function(e){t.collapseValue=e},expression:"collapseValue"}},t._l(t.productServiceList[t.changeIndex-1].routeList,(function(e,s){return a("Panel",{key:s,staticStyle:{"margin-bottom":"20px"},attrs:{name:(s+1).toString()}},[a("div",{staticClass:"collapse-head",on:{click:function(a){return t.clickRoute(e)}}},[1===t.changeIndex?[a("span",[t._v(t._s(e.departurePortTranslate.split(/[,;]/).pop()))]),a("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{fill:"#02ADB5","xlink:href":"#icon-andaotongcaidanICON_jiantou"}})]),a("span",[t._v(t._s(e.destinationPortTranslate.split(/[,;]/).pop()))])]:t._e(),2===t.changeIndex?[a("span",[t._v(t._s(e.sttnCodeTranslate.split(/[,;]/).pop()))]),a("Button",{staticClass:"collapse-btn",on:{click:function(a){return t.clickTimeLimit(e.sttnCode)}}},[t._v(" 作业时间范围 ")])]:t._e(),3===t.changeIndex?[a("span",[t._v(t._s(e.customsCodeTranslate.split(/[,;]/).pop()))]),"I"===e.ieflag?a("span",[t._v("（进口报关）")]):t._e(),"E"===e.ieflag?a("span",[t._v("（出口报关）")]):t._e(),e.ieflag?t._e():a("span",[t._v("（综保区）")])]:t._e()],2),a("template",{slot:"content"},[a("Row",[a("Col",{staticClass:"service-provider",attrs:{span:"8"}},[a("div",{staticClass:"service-provider-title"},[a("span",{staticClass:"service-provider-merchant"},[t._v("选择服务商")])]),a("div",{staticClass:"service-provider-company"},t._l(e.productList,(function(e,s){return a("div",{key:s,class:{"service-select-click":t.num===s},staticStyle:{display:"flex"}},[a("p",{staticClass:"service-select company",on:{click:function(a){return t.selectCompany(e,s)}}},[a("span",{staticClass:"name"},[t._v(t._s(e.supplierName))]),a("span",{staticClass:"price"},[t._v("基础价格: "+t._s(e.priceTotal)+t._s(e.currTranslate))]),a("span",{staticClass:"time"},[t._v("时长: "+t._s(e.totalTime)+t._s(e.totalTimeUnitTranslate))])]),a("div",{class:{triangle:t.num===s}})])})),0)]),a("Col",{staticClass:"product",attrs:{span:"16"}},[a("div",{staticClass:"product-top"},[a("span",{staticClass:"product-title"},[t._v("产品编号: "+t._s(t.serviceProviderData.serverCode))]),a("Button",{directives:[{name:"show",rawName:"v-show",value:1==t.changeIndex,expression:"changeIndex == 1"}],on:{click:function(e){return t.clcikSchedule(t.serviceProviderData.serverCode)}}},[t._v("班期")])],1),a("tab-btn-change",{attrs:{tabsList:t.scenceList,btnIndex:t.changeIndexScenes},on:{handleBtn:t.handleBtnScenes}}),a("hr",{staticStyle:{"border-style":"dashed",margin:"10px 0",color:"#E5E5E5"},attrs:{size:"1"}}),a("adt-tab-btns",{staticStyle:{"justify-content":"flex-start"},attrs:{isBaseBtn:!0,titleNames:t.titleNamesTask,btnIndex:t.changeIndexTask,width:200,height:30},on:{handleBtn:t.handleBtnTask}}),a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.changeIndexTask,expression:"changeIndexTask === 1"}]},[a("AdtTaskContent",{staticClass:"spacing",attrs:{basicTask:t.basicTaskClient,basicTaskData:t.basicTaskData,spanNumAdditionalTasks:12,additionalTasks:t.additionalTasksClient}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.changeIndexTask,expression:"changeIndexTask === 2"}]},[a("Monitor")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:3===t.changeIndexTask,expression:"changeIndexTask === 3"}]},[a("Collaboration")],1)],1)],1)],1)],2)})),1)],1),a("DrawerModel",{attrs:{showDrawer:t.isShowScheduleDrawer,scheduleList:t.scheduleList,title:"班期"},on:{"on-visible-change":t.onChangeSchedule}}),a("DrawerModel",{attrs:{showDrawer:t.isShowTimeDrawer,workTimeList:t.workTimeList,title:"作业时间范围"},on:{"on-visible-change":t.onChangeTime}})],1)},i=[],r=(a("d81d"),a("ac1f"),a("1276"),a("9c46")),n=a("c161"),o=a("3fec"),l=a("5f43"),c=a("a028"),u=a("4b35"),m=a("324d"),d=a("90fe"),p=a("39cc"),h={mixins:[r["a"]],components:{AdtTaskContent:o["a"],AdtSchemeInformationRoute:n["a"],Monitor:l["a"],Collaboration:c["a"],DrawerModel:u["a"],TabBtnChange:m["a"]},props:{logisticsSchemeCode:""},data:function(){return{isShowScheduleDrawer:!1,scheduleList:[],isShowTimeDrawer:!1,workTimeList:[],collapseValue:"0",logistics:[],titleNames:[],changeIndex:1,changeIndexScenes:1,titleNamesTask:["任务"],changeIndexTask:1,basicTaskClient:[],additionalTasksClient:[],schemeProxyList:[],basicInformation:{},basicTaskData:{},productServiceList:[{title:"运输服务"},{title:"场所服务"},{title:"关务服务"}],serviceProviderData:{},scenceList:[],num:"默认值"}},mounted:function(){this.getData()},methods:{timestampFormat:function(t){return Object(d["j"])(t,!0,"/")},onChangeSchedule:function(t){this.isShowScheduleDrawer=t},onChangeTime:function(t){this.isShowTimeDrawer=t},handleBtn:function(t){this.changeIndex=t+1,this.collapseValue="0"},handleBtnScenes:function(t,e){var a=this;this.changeIndexScenes=t+1;var s={sceneCode:e.sceneCode,serverCode:e.serverCode};Object(p["k"])({data:s}).then((function(t){a.basicTaskClient=t.data.bases||[],a.basicTaskData={taskCost:a.basicTaskClient[0].taskCost,currTranslate:a.basicTaskClient[0].currTranslate,serverDuration:a.basicTaskClient[0].serverDuration,serverDurationUnitTranslate:a.basicTaskClient[0].serverDurationUnitTranslate},a.additionalTasksClient=t.data.taskAffixes||[]}))},handleBtnTask:function(t){this.changeIndexTask=t+1},clickTimeLimit:function(t){var e=this;this.isShowTimeDrawer=!0;var a=t.split(";").pop();Object(p["q"])({sttnCode:a}).then((function(t){e.workTimeList=t.data||[]}))},clcikSchedule:function(t){var e=this;this.isShowScheduleDrawer=!0;var a=t;Object(p["p"])({serverCode:a}).then((function(t){e.scheduleList=t.data||[]}))},getData:function(){var t=this,e=this.logisticsSchemeCode;Object(p["m"])({logisticsSchemeCode:e}).then((function(e){t.serviceData=e.data,t.schemeProxyList=t.serviceData.proxyList||[],t.productServiceList[0].routeList=t.serviceData.serverTransportGroupList||[],t.productServiceList[1].routeList=t.serviceData.serverStationGroupList||[],t.productServiceList[2].routeList=t.serviceData.serverCustomsGroupList||[],t.productServiceList.map((function(e){t.titleNames.push(e.title)}))})),Object(p["g"])({logisticsSchemeCode:e}).then((function(e){t.basicInformation=e.data}))},clickRoute:function(t){t.serverTransportList&&(t.productList=t.serverTransportList),t.serverStationList&&(t.productList=t.serverStationList),t.serverCustoms&&(t.productList=t.serverCustoms),this.selectCompany(t.productList[0])},selectCompany:function(t,e){var a=this;this.num=e||0,this.serviceProviderData=t;var s=[{serverCode:t.serverCode,serviceType:t.serviceType}];this.scenceList=[],Object(p["j"])({data:s}).then((function(t){t.data.length&&(t.data.map((function(t){a.scenceList.push({sceneName:t.sceneName,sceneCode:t.sceneCode,serverCode:t.serverCode})})),a.handleBtnScenes(0,t.data[0]))}))}}},f=h,g=(a("db38"),a("2877")),v=Object(g["a"])(f,s,i,!1,null,"31b09b1c",null);e["default"]=v.exports},c733:function(t,e,a){"use strict";var s=a("b207"),i=a.n(s);i.a},c8e0:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu-permission"},[a("Tree",{attrs:{data:t.treeData,render:t.menuRender,"children-key":"menuInfoList"}}),a("adt-reconfirm-modal",{attrs:{showModal:t.showDeleteModal},on:{"on-visible-change":t.deleteVisibleChange,"on-ok":t.handleDeleteModalOk}}),a("adt-my-modal",{attrs:{showModal:t.showItemModal,title:t.itemTitle,width:"650"},on:{"on-visible-change":t.visibleChange,"on-ok":t.handleItemModalOk}},[a("Form",{ref:"formValidate",staticClass:"two-column",attrs:{inline:"",model:t.itemData,rules:t.ruleValidate,"label-colon":!0,"label-position":"left","label-width":100}},[t.showType?a("FormItem",{attrs:{label:"新增项",prop:"menuType"}},[a("RadioGroup",{on:{"on-change":t.handleChooseType},model:{value:t.itemData.menuType,callback:function(e){t.$set(t.itemData,"menuType",e)},expression:"itemData.menuType"}},[a("Radio",{attrs:{label:"1"}},[t._v(" 菜单项 ")]),a("Radio",{staticStyle:{"margin-left":"30px"},attrs:{label:"2"}},[t._v(" 功能项 ")])],1)],1):t._e(),a("div",{staticClass:"line"}),a("FormItem",{attrs:{label:"名称",prop:"menuName"}},[a("Input",{model:{value:t.itemData.menuName,callback:function(e){t.$set(t.itemData,"menuName",e)},expression:"itemData.menuName"}})],1),a("FormItem",{staticStyle:{"margin-left":"55px"},attrs:{label:"编码code",prop:"menuCode"}},[a("Input",{model:{value:t.itemData.menuCode,callback:function(e){t.$set(t.itemData,"menuCode",e)},expression:"itemData.menuCode"}})],1),a("FormItem",{attrs:{label:"状态",prop:"menuStatus"}},[a("Select",{model:{value:t.itemData.menuStatus,callback:function(e){t.$set(t.itemData,"menuStatus",e)},expression:"itemData.menuStatus"}},[a("Option",{attrs:{value:"enable"}},[t._v("可用")]),a("Option",{attrs:{value:"disable"}},[t._v("不可用")])],1)],1),a("FormItem",{staticStyle:{"margin-left":"55px"},attrs:{label:"页面路由URL",prop:"menuRoute"}},[a("Input",{model:{value:t.itemData.menuRoute,callback:function(e){t.$set(t.itemData,"menuRoute","string"===typeof e?e.trim():e)},expression:"itemData.menuRoute"}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"1"===t.itemData.menuType,expression:"itemData.menuType === '1'"}]},[a("div",{staticClass:"icon-title"},[t._v("选择图标")]),a("div",{staticClass:"icon-container"},t._l(t.iconGather,(function(e,s){return a("div",{key:s,class:["icon",{active:t.itemData.iconCode===e}],on:{click:function(a){return t.chooseIcon(e)}}},[a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#"+e}})])])})),0)])],1)],1)],1)},i=[],r=(a("7db0"),a("4160"),a("c975"),a("a434"),a("d3b7"),a("159b"),a("5530")),n=a("b85c"),o=a("2934"),l=a("4ec3"),c=function(t){return Object(o["c"])("".concat(l["n"],"/appInfo/appInfoQueryList"),t)},u=function(t){return Object(o["a"])("".concat(l["n"],"/menu/menuInfoQueryByAppCode"),t)},m=function(t){return Object(o["c"])("".concat(l["n"],"/menu/menuInfoAdd"),t)},d=function(t){return Object(o["c"])("".concat(l["n"],"/menu/menuInfoUpdate"),t)},p=function(t){return Object(o["a"])("".concat(l["n"],"/menu/menuInfoDelete"),t)},h=a("b962"),f={data:function(){return{itemTitle:"新增项",showItemModal:!1,showDeleteModal:!1,showType:!0,parentData:"",editData:"",deleteData:{root:"",node:"",data:""},itemData:{menuType:"",menuName:"",menuCode:"",menuStatus:"",menuRoute:"",iconCode:""},ruleValidate:{menuType:[h["a"].select("新增项")[0]],menuName:[h["a"].required("名称")[0]],menuCode:[h["a"].required("编码code")[0]],menuStatus:[h["a"].required("状态")[0]]},treeData:[],iconGather:["icondian","iconADTcaidanICON_fanganbianjiqi","iconADTcaidanICON_chanpinguanli","iconADTcaidanICON_fanganchaxun","iconADTcaidanICON_chanpinzhongxin","iconADTcaidanICON_caidanguanli","iconADTcaidanICON_chanpinbianjiqi","iconADTcaidanICON_fuwuqudongqi","iconADTcaidanICON_gerenzhongxin","iconADTcaidanICON_wuliufanganguanli","iconADTcaidanICON_kehufankuizhongxin","iconADTcaidanICON_dingdanzhongxin","iconADTcaidanICON_huoyunyaoqiuguanli","iconADTcaidanICON_fanganshoucangjia","iconADTcaidanICON_shouye","iconADTcaidanICON_shijianchakanqi","iconADTcaidanICON_kehuguanli","iconADTcaidanICON_wuliuquanchengjihua","iconADTcaidanICON_gongyingshangguanli","iconADTcaidanICON_gangweijiaoseguanli","iconADTcaidanICON_xiaoxiguanli","iconADTcaidanICON_yingyongkongzhitai","iconADTcaidanICON_yonghuguanli","iconADTcaidanICON_mobanguanli","iconADTcaidanICON_xuqiubianjiqi","iconADTcaidanICON_zhangdanguanli","iconADTcaidanICON_xietongxiezuochakan","iconADTcaidanICON_wuliuweituoguanli","iconADTcaidanICON_wuliuwenjianjia","iconADTcaidanICON_zhihangkanban","iconADTcaidanICON_zhihangchakanqi","iconADTcaidanICON_zidianguanli","iconADTcaidanICON_zuzhijigouguanli","iconADTcaidanICON_zuzhiquanxianguanli","iconADTcaidanICON_biaozhunyingsheqi"]}},created:function(){this.initData()},methods:{chooseIcon:function(t){this.itemData.iconCode=t},initData:function(){var t=this;c().then((function(e){var a=e.data;t.treeData=[];var s,i=Object(n["a"])(a);try{var r=function(){var e=s.value;e.render=t.appRender,e.menuInfoList=[],t.treeData.push(e),u({path:e.appCode}).then((function(a){var s=a.data;e.menuInfoList=s,t.recursion(e)}))};for(i.s();!(s=i.n()).done;)r()}catch(o){i.e(o)}finally{i.f()}}))},visibleChange:function(t){this.showItemModal=t},deleteVisibleChange:function(t){this.showDeleteModal=t},recursion:function(t){"2"===t.menuType&&(t.render=this.functionRender);var e=t.menuInfoList;if(e){var a,s=Object(n["a"])(e);try{for(s.s();!(a=s.n()).done;){var i=a.value;this.recursion(i)}}catch(r){s.e(r)}finally{s.f()}}},appRender:function(t,e){var a=this,s=(e.root,e.node,e.data);return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("span",s.appName)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Poptip",{props:{disabled:!0,trigger:"hover",placement:"bottom",content:"添加下级"}},[t("Icon",{props:{type:"ios-add"},style:{fontSize:"24px"},on:{click:function(){a.append(s)}}})])])])},menuRender:function(t,e){var a=this,s=e.root,i=e.node,r=e.data;return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("span",r.menuName)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("span",{style:{padding:"1px 2px",fontSize:"12px",borderRadius:"4px",border:"enable"===r.menuStatus?"1px solid #02ADB5":"1px solid #999",color:"enable"===r.menuStatus?"#02ADB5":"#999"}},"enable"===r.menuStatus?"可用":"不可用"),t("Poptip",{props:{disabled:!0,trigger:"hover",placement:"bottom",content:"添加菜单项"}},[t("Icon",{props:{type:"ios-add"},style:{fontSize:"24px"},on:{click:function(){a.append(r)}}})]),t("Poptip",{props:{disabled:!0,trigger:"hover",placement:"bottom",content:"编辑菜单项"}},[t("Icon",{props:{type:"md-create"},style:{fontSize:"16px",position:"relative",top:"-3px"},on:{click:function(){a.edit(r)}}})]),t("Poptip",{props:{disabled:!0,trigger:"hover",placement:"bottom",content:"删除菜单项"}},[t("Icon",{props:{type:"ios-close"},style:{fontSize:"24px"},on:{click:function(){a.remove(s,i,r)}}})])])])},functionRender:function(t,e){var a=this,s=e.root,i=e.node,r=e.data;return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("span",r.menuName)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Poptip",{props:{disabled:!0,trigger:"hover",placement:"bottom",content:"编辑功能"}},[t("Icon",{props:{type:"md-create"},style:{fontSize:"16px",position:"relative",top:"-3px"},on:{click:function(){a.edit(r)}}})]),t("Poptip",{props:{disabled:!0,trigger:"hover",placement:"bottom",content:"删除功能"}},[t("Icon",{props:{type:"ios-close"},style:{fontSize:"24px"},on:{click:function(){a.remove(s,i,r)}}})])])])},append:function(t){this.showItemModal=!0,this.parentData=t,this.itemData.menuType="",this.itemData.iconCode="",this.showType=!0,this.itemTitle="新增",this.$refs.formValidate.fields.forEach((function(t){t.resetField()}))},edit:function(t){this.parentData=t,this.showType=!1,this.itemTitle="编辑",this.editData=t,this.itemData.menuType=t.menuType,this.itemData.menuName=t.menuName,this.itemData.menuCode=t.menuCode,this.itemData.menuStatus=t.menuStatus,this.itemData.menuRoute=t.menuRoute,this.itemData.iconCode=t.iconCode,this.showItemModal=!0},handleItemModalOk:function(){var t=this;this.$refs.formValidate.validate((function(e){if(e){if("1"===t.itemData.menuType&&!t.itemData.iconCode)return void t.$Message.warning("请先选择图标！");var a=new Promise((function(e){if(t.showType){var a=Object(r["a"])({},t.itemData,{},{appCode:t.parentData.appCode,menuPid:t.parentData.menuId||0});m({data:a}).then((function(a){a.data?(t.$Message.success(a.message),e()):t.$Message.warning(a.message)}))}else{var s=Object(r["a"])({},t.itemData,{},{menuId:t.editData.menuId,menuPid:t.editData.menuPid,version:t.editData.version});d({data:s}).then((function(a){a.data?(t.$Message.success(a.message),e()):t.$Message.warning(a.message)}))}}));a.then((function(){t.showItemModal=!1,t.initData()}))}}))},remove:function(t,e,a){this.showDeleteModal=!0,this.deleteData={root:t,node:e,data:a}},handleDeleteModalOk:function(){var t=this,e=this.deleteData.data.menuId,a=new Promise((function(t){p({data:e}).then((function(e){e.data;t()}))}));a.then((function(){t.showDeleteModal=!1;var e=t.deleteData.root.find((function(e){return e===t.deleteData.node})).parent,a=t.deleteData.root.find((function(t){return t.nodeKey===e})).node,s=a.menuInfoList.indexOf(t.deleteData.data);a.menuInfoList.splice(s,1)}))},handleChooseType:function(){}}},g=f,v=(a("f895"),a("2877")),y=Object(v["a"])(g,s,i,!1,null,"416826ff",null);e["default"]=y.exports},ca18:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Drawer",{attrs:{width:"1100"},on:{"on-visible-change":t.drawerChange},model:{value:t.isShowDrawer,callback:function(e){t.isShowDrawer=e},expression:"isShowDrawer"}},[a("h3",[t._v("选择收发货人通知人信息")]),a("div",{staticClass:"sender-info"},[a("h6",[t._v("发货人信息")]),a("Form",{ref:"senderFormItemData",attrs:{model:t.senderFormItem,rules:t.senderRuleValidate,"label-position":"top","label-colon":""}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"发货人名称",prop:"attenName"}},[a("Select",{attrs:{clearable:""},on:{"on-clear":function(e){return t.onclear(1)},"on-change":function(e){return t.chooseName(1)}},model:{value:t.senderFormItem.attenName,callback:function(e){t.$set(t.senderFormItem,"attenName",e)},expression:"senderFormItem.attenName"}},t._l(t.userList,(function(e,s){return a("Option",{key:s,attrs:{value:e.attenName}},[t._v(" "+t._s(e.attenName)+" ")])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"联系电话",prop:"attenTel"}},[a("Input",{attrs:{disabled:""},model:{value:t.senderFormItem.attenTel,callback:function(e){t.$set(t.senderFormItem,"attenTel",e)},expression:"senderFormItem.attenTel"}})],1)],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"代码",prop:"code"}},[a("Input",{attrs:{disabled:""},model:{value:t.senderFormItem.code,callback:function(e){t.$set(t.senderFormItem,"code",e)},expression:"senderFormItem.code"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"地址",prop:"attenAddr"}},[a("Input",{attrs:{disabled:""},model:{value:t.senderFormItem.attenAddr,callback:function(e){t.$set(t.senderFormItem,"attenAddr",e)},expression:"senderFormItem.attenAddr"}})],1)],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"传真",prop:"attenFax"}},[a("Input",{attrs:{disabled:""},model:{value:t.senderFormItem.attenFax,callback:function(e){t.$set(t.senderFormItem,"attenFax",e)},expression:"senderFormItem.attenFax"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"邮箱",prop:"attenEmail"}},[a("Input",{attrs:{disabled:""},model:{value:t.senderFormItem.attenEmail,callback:function(e){t.$set(t.senderFormItem,"attenEmail",e)},expression:"senderFormItem.attenEmail"}})],1)],1)],1)],1)],1),a("div",{staticClass:"taker-info"},[a("h6",[t._v("收货人信息")]),a("Form",{ref:"takerFormItemData",attrs:{model:t.takerFormItem,rules:t.takerRuleValidate,"label-position":"top","label-colon":""}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"收货人名称",prop:"attenName"}},[a("Select",{attrs:{clearable:""},on:{"on-clear":function(e){return t.onclear(2)},"on-change":function(e){return t.chooseName(2)}},model:{value:t.takerFormItem.attenName,callback:function(e){t.$set(t.takerFormItem,"attenName",e)},expression:"takerFormItem.attenName"}},t._l(t.userList,(function(e,s){return a("Option",{key:s,attrs:{value:e.attenName}},[t._v(" "+t._s(e.attenName)+" ")])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"联系电话",prop:"attenTel"}},[a("Input",{attrs:{disabled:""},model:{value:t.takerFormItem.attenTel,callback:function(e){t.$set(t.takerFormItem,"attenTel",e)},expression:"takerFormItem.attenTel"}})],1)],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"代码",prop:"code"}},[a("Input",{attrs:{disabled:""},model:{value:t.takerFormItem.code,callback:function(e){t.$set(t.takerFormItem,"code",e)},expression:"takerFormItem.code"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"地址",prop:"attenAddr"}},[a("Input",{attrs:{disabled:""},model:{value:t.takerFormItem.attenAddr,callback:function(e){t.$set(t.takerFormItem,"attenAddr",e)},expression:"takerFormItem.attenAddr"}})],1)],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"传真",prop:"attenFax"}},[a("Input",{attrs:{disabled:""},model:{value:t.takerFormItem.attenFax,callback:function(e){t.$set(t.takerFormItem,"attenFax",e)},expression:"takerFormItem.attenFax"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"邮箱",prop:"attenEmail"}},[a("Input",{attrs:{disabled:""},model:{value:t.takerFormItem.attenEmail,callback:function(e){t.$set(t.takerFormItem,"attenEmail",e)},expression:"takerFormItem.attenEmail"}})],1)],1)],1)],1)],1),a("div",{staticClass:"notifier-info"},[a("h6",[t._v("通知人信息")]),a("Form",{ref:"notifierFormItemData",attrs:{model:t.notifierFormItem,rules:t.notifierRuleValidate,"label-position":"top","label-colon":""}},[a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"通知人名称",prop:"attenName"}},[a("Select",{attrs:{clearable:""},on:{"on-clear":function(e){return t.onclear(3)},"on-change":function(e){return t.chooseName(3)}},model:{value:t.notifierFormItem.attenName,callback:function(e){t.$set(t.notifierFormItem,"attenName",e)},expression:"notifierFormItem.attenName"}},t._l(t.userList,(function(e,s){return a("Option",{key:s,attrs:{value:e.attenName}},[t._v(" "+t._s(e.attenName)+" ")])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"联系电话",prop:"attenTel"}},[a("Input",{attrs:{disabled:""},model:{value:t.notifierFormItem.attenTel,callback:function(e){t.$set(t.notifierFormItem,"attenTel",e)},expression:"notifierFormItem.attenTel"}})],1)],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"代码",prop:"code"}},[a("Input",{attrs:{disabled:""},model:{value:t.notifierFormItem.code,callback:function(e){t.$set(t.notifierFormItem,"code",e)},expression:"notifierFormItem.code"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"地址",prop:"attenAddr"}},[a("Input",{attrs:{disabled:""},model:{value:t.notifierFormItem.attenAddr,callback:function(e){t.$set(t.notifierFormItem,"attenAddr",e)},expression:"notifierFormItem.attenAddr"}})],1)],1)],1),a("Row",{attrs:{gutter:20}},[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"传真",prop:"attenFax"}},[a("Input",{attrs:{disabled:""},model:{value:t.notifierFormItem.attenFax,callback:function(e){t.$set(t.notifierFormItem,"attenFax",e)},expression:"notifierFormItem.attenFax"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"邮箱",prop:"attenEmail"}},[a("Input",{attrs:{disabled:""},model:{value:t.notifierFormItem.attenEmail,callback:function(e){t.$set(t.notifierFormItem,"attenEmail",e)},expression:"notifierFormItem.attenEmail"}})],1)],1)],1)],1)],1),a("div",{staticClass:"drawer-btns"},[a("Button",{attrs:{type:"primary",shape:"circle",size:"large"},on:{click:t.submitForm}},[t._v("确定")]),a("Button",{attrs:{shape:"circle",size:"large"},on:{click:t.cancel}},[t._v("取消")])],1)])],1)},i=[],r=(a("7db0"),a("c740"),a("4160"),a("159b"),a("b962")),n=a("ebba"),o=a("400f"),l={mixins:[n["a"]],props:{showDrawer:{type:Boolean,default:!1},defaultData:{type:Object,default:function(){return{}}},random:{type:String,default:"0"},userData:{type:Array,default:function(){return[]}},eStatus:{type:String,default:"CREATEs"},judge:{type:Object,default:function(){return{}}}},data:function(){return{isShowDrawer:!1,userList:[],senderFormItem:{attenName:"",attenTel:"",code:"",attenAddr:"",attenFax:"",attenEmail:"",linkType:"发货人"},takerFormItem:{attenName:"",attenTel:"",code:"",attenAddr:"",attenFax:"",attenEmail:"",linkType:"收货人"},notifierFormItem:{attenName:"",attenTel:"",code:"",attenAddr:"",attenFax:"",attenEmail:"",linkType:"通知人"},senderRuleValidate:{attenName:[r["a"].select("发货人名称")[0]]},takerRuleValidate:{attenName:[r["a"].select("收货人名称")[0]]},notifierRuleValidate:{attenName:[r["a"].select("通知人名称")[0]]},addRuleValidate:{attenName:[r["a"].required("名称")[0]],attenTel:[r["a"].required("联系电话")[0],r["a"].phone()[0]],attenAddr:[r["a"].required("地址")[0]],attenEmail:[r["a"].email()[0]]}}},watch:{showDrawer:{handler:function(t){var e=this;if(this.isShowDrawer=t,t&&0==this.userList.length){var a={page:1,size:50};Object(o["e"])({data:a}).then((function(t){var a=t.data,s=[];a&&a.forEach((function(t){var e={attenName:t.partnerName,attenTel:t.partnerPhone,code:t.partnerCode,attenAddr:t.partnerAddr,attenFax:t.partnerFax,attenEmail:t.partnerEmail};s.push(e)})),e.userList=s}))}},immediate:!1},random:{handler:function(t){this.defaultData.senderFormItem.attenName?(this._backData(this.senderFormItem,this.defaultData.senderFormItem),this._backData(this.takerFormItem,this.defaultData.takerFormItem),this._backData(this.notifierFormItem,this.defaultData.notifierFormItem)):3===this.userData.length&&this.getUserList(this.userData)}}},methods:{_handleData:function(t,e){var a={attenName:t.attenName,attenTel:t.attenTel,code:e.code,attenAddr:e.attenAddr,attenFax:e.attenFax,attenEmail:e.attenEmail,linkType:t.linkType};return a},_backData:function(t,e){t.attenName=e.attenName,t.attenTel=e.attenTel,t.code=e.code,t.attenAddr=e.attenAddr,t.attenFax=e.attenFax,t.attenEmail=e.attenEmail,t.linkType=e.linkType},getUserList:function(t){var e=this;if(this.userList.length&&3===t.length){var a=!0;if(t.forEach((function(t){t.attenName||(a=!1)})),!a)return;var s=t[0].attenName,i=t[1].attenName,r=t[2].attenName,n=this.userList.findIndex((function(t){return t.attenName==s})),l=this.userList.findIndex((function(t){return t.attenName==i})),c=this.userList.findIndex((function(t){return t.attenName==r}));return-1!=n&&(this.senderFormItem=JSON.parse(JSON.stringify(this.userList[n]))),-1!=l&&(this.takerFormItem=JSON.parse(JSON.stringify(this.userList[l]))),void(-1!=c&&(this.notifierFormItem=JSON.parse(JSON.stringify(this.userList[c]))))}var u={page:1,size:50};Object(o["e"])({data:u}).then((function(a){var s=a.data,i=[];s&&s.forEach((function(t){var e={attenName:t.partnerName,attenTel:t.partnerPhone,code:t.partnerCode,attenAddr:t.partnerAddr,attenFax:t.partnerFax,attenEmail:t.partnerEmail};i.push(e)})),e.userList=i;var r=!0;if(t.forEach((function(t){t.attenName||(r=!1)})),r){var n=t[0].attenName,o=t[1].attenName,l=t[2].attenName,c=e.userList.findIndex((function(t){return t.attenName===n})),u=e.userList.findIndex((function(t){return t.attenName===o})),m=e.userList.findIndex((function(t){return t.attenName===l}));-1!=c&&(e.senderFormItem=JSON.parse(JSON.stringify(e.userList[c]))),-1!=u&&(e.takerFormItem=JSON.parse(JSON.stringify(e.userList[u]))),-1!=m&&(e.notifierFormItem=JSON.parse(JSON.stringify(e.userList[m])))}}))},submitForm:function(){var t=!0;if(this.$refs.senderFormItemData.validate((function(e){e||(t=!1)})),this.$refs.takerFormItemData.validate((function(e){e||(t=!1)})),this.$refs.notifierFormItemData.validate((function(e){e||(t=!1)})),t){var e=[this.senderFormItem,this.takerFormItem,this.notifierFormItem];this.$emit("on-ok",e),this.isShowDrawer=!1}},cancel:function(){this.isShowDrawer=!1},onclear:function(t){var e={attenName:"",attenTel:"",code:"",attenAddr:"",attenFax:"",attenEmail:""};1===t&&(e.linkType="发货人",this.senderFormItem=e),2===t&&(e.linkType="收货人",this.takerFormItem=e),3===t&&(e.linkType="通知人",this.notifierFormItem=e)},drawerChange:function(t){this.$emit("on-visible-change",t)},chooseName:function(t){var e=this;if(1===t&&this.senderFormItem.attenName){var a=this.userList.find((function(t){return t.attenName===e.senderFormItem.attenName}))||{};a.linkType="发货人",this._backData(this.senderFormItem,a)}if(2===t&&this.takerFormItem.attenName){var s=this.userList.find((function(t){return t.attenName===e.takerFormItem.attenName}))||{};s.linkType="收货人",this._backData(this.takerFormItem,s)}if(3===t&&this.notifierFormItem.attenName){var i=this.userList.find((function(t){return t.attenName===e.notifierFormItem.attenName}))||{};i.linkType="通知人",this._backData(this.notifierFormItem,i)}}}},c=l,u=(a("8efd"),a("2877")),m=Object(u["a"])(c,s,i,!1,null,"75a8b5ec",null);e["default"]=m.exports},caed:function(t,e,a){},ccb9:function(t,e,a){"use strict";var s=a("7e35"),i=a.n(s);i.a},d858:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"TimeCostInformation"}},[a("Form",{ref:"formItemData",attrs:{model:t.formItem,rules:t.ruleValidate,"label-width":200,"label-colon":""}},[a("div",{staticClass:"public-form-card"},[a("p",{staticClass:"title"},[t._v("时间要求")]),a("Row",[a("Col",{attrs:{span:"24"}},[a("FormItem",{attrs:{label:"预计货好时间",prop:"cargoReadyTime"}},[t.isDetail?a("div",[t._v(t._s(t.formItem.cargoReadyTime))]):a("DatePicker",{class:{dissuffix:t.timeBool},attrs:{disabled:t.timeBool,type:"date"},model:{value:t.formItem.cargoReadyTime,callback:function(e){t.$set(t.formItem,"cargoReadyTime",e)},expression:"formItem.cargoReadyTime"}})],1)],1)],1),a("Row",[a("Col",{class:{"col-box":!t.isDetail},attrs:{span:"12"}},[a("FormItem",{attrs:{label:"最迟启运时间"}},[t.isDetail?a("div",[t._v(t._s((t.formItem.lastStartTime||"")+(t.formItem.lastStartPortTranslate?"(":"")+(t.formItem.lastStartPortTranslate||t.formItem.startName||"")+(t.formItem.lastStartPortTranslate?")":"")))]):a("DatePicker",{class:{dissuffix:t.timeBool},attrs:{disabled:t.timeBool,type:"date","split-panels":""},model:{value:t.formItem.lastStartTime,callback:function(e){t.$set(t.formItem,"lastStartTime",e)},expression:"formItem.lastStartTime"}})],1),a("div",{staticClass:"addnode"},[t.isDetail||t.timeBool?t._e():a("span",{staticClass:"btn-node",on:{click:function(e){return t.chooseSiteType(1)}}},[t._v("指定节点")]),a("span",{staticClass:"text"},[t._v(t._s(t.isDetail?"":t.formItem.startName||t.formItem.lastStartPortTranslate||""))])])],1),a("Col",{class:{"col-box":!t.isDetail},attrs:{span:"12"}},[a("FormItem",{attrs:{label:"最晚运抵时间"}},[t.isDetail?a("div",[t._v(t._s((t.formItem.lastArriveTime||"")+(t.formItem.lastArrivePortTranslate?"(":"")+(t.formItem.lastArrivePortTranslate||t.formItem.startName||"")+(t.formItem.lastArrivePortTranslate?")":"")))]):a("DatePicker",{class:{dissuffix:t.timeBool},attrs:{disabled:t.timeBool,type:"date","split-panels":""},model:{value:t.formItem.lastArriveTime,callback:function(e){t.$set(t.formItem,"lastArriveTime",e)},expression:"formItem.lastArriveTime"}})],1),a("div",{staticClass:"addnode"},[t.isDetail||t.timeBool?t._e():a("span",{staticClass:"btn-node",on:{click:function(e){return t.chooseSiteType(2)}}},[t._v("指定节点")]),a("span",{staticClass:"text"},[t._v(t._s(t.isDetail?"":t.formItem.endName||t.formItem.lastArrivePortTranslate||""))])])],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"最迟交货时间"}},[t.isDetail?a("div",[t._v(t._s(t.formItem.lastDeliveryTime))]):a("DatePicker",{class:{dissuffix:t.timeBool},attrs:{disabled:t.timeBool,type:"date","split-panels":""},model:{value:t.formItem.lastDeliveryTime,callback:function(e){t.$set(t.formItem,"lastDeliveryTime",e)},expression:"formItem.lastDeliveryTime"}})],1)],1),a("Col",{staticClass:"no-right-border",attrs:{span:t.isDetail?12:7}},[a("FormItem",{attrs:{label:"最低时长要求"}},[t.isDetail?a("div",[t._v(t._s(t.formItem.lowestTimeReq)+" "+t._s("H"==t.formItem.lowestTimeUnit?"小时":"天"))]):a("Input",{attrs:{type:"number",disabled:t.timeBool},model:{value:t.formItem.lowestTimeReq,callback:function(e){t.$set(t.formItem,"lowestTimeReq",t._n(e))},expression:"formItem.lowestTimeReq"}})],1)],1),t.isDetail?t._e():a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{"label-width":0}},[a("Select",{staticClass:"time",attrs:{disabled:t.timeBool,clearable:""},model:{value:t.formItem.lowestTimeUnit,callback:function(e){t.$set(t.formItem,"lowestTimeUnit",e)},expression:"formItem.lowestTimeUnit"}},t._l(t.timeUnits,(function(e,s){return a("Option",{key:s,attrs:{value:e.dictionaryKey}},[t._v(t._s(e.dictionaryValue))])})),1)],1)],1)],1),a("p",{staticClass:"title last-title"},[t._v("费用要求")]),a("Row",{staticClass:"top-border-line"},[a("Col",{class:{"no-right-border":!t.isDetail},attrs:{span:t.isDetail?12:7}},[a("FormItem",{attrs:{label:"最高费用要求"}},[t.isDetail?a("div",[t._v(t._s(t.formItem.highestCostReq)+" "+t._s(t.formItem.currTranslate||""))]):a("Input",{attrs:{type:"number",disabled:t.timeBool},model:{value:t.formItem.highestCostReq,callback:function(e){t.$set(t.formItem,"highestCostReq",t._n(e))},expression:"formItem.highestCostReq"}})],1)],1),t.isDetail?t._e():a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{"label-width":0}},[a("Select",{staticClass:"time",attrs:{disabled:t.timeBool,clearable:""},model:{value:t.formItem.curr,callback:function(e){t.$set(t.formItem,"curr",e)},expression:"formItem.curr"}},t._l(t.currencyCodes,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"合同编号"}},[a("Input",{attrs:{type:"text",disabled:t.enablefn().base()},model:{value:t.formItem.contractCode,callback:function(e){t.$set(t.formItem,"contractCode",e)},expression:"formItem.contractCode"}})],1)],1)],1)],1)])],1),t.isDetail?t._e():a("div",{staticClass:"public-btns-group"},[a("Button",{attrs:{type:"primary",shape:"circle",size:"large"},on:{click:t.submitForm}},[t._v("下一步")])],1),a("choose-site",{attrs:{label:t.chooseObject.Label,showDrawer:t.chooseObject.Type>0,defaultData:t.chooseObject.Data},on:{"submit-form":t.submitSiteForm,"on-visible-change":t.chooseSiteChange}})],1)},i=[],r=(a("d3b7"),a("ac1f"),a("1276"),a("b962")),n={props:{defaultData:{type:Object,default:function(){return{}}},isDetail:{type:Boolean,default:!1},siteData:{type:Array,default:function(){return[]}},eStatus:{type:String,default:"CREATEs"},judge:{type:Object,default:function(){return{}}}},components:{chooseSite:function(){return a.e("chunk-bf428e66").then(a.bind(null,"7cc1"))}},data:function(){return{currencyCodes:this.$getDictionary("CURRENCY_CODE"),timeUnits:this.$getDictionary("TIME_UNIT"),chooseObject:{Type:0,Data:{site:"",date:"",lists:[]},Label:"最迟启运时间"},formItem:{lastStartPortTranslate:"",lastArrivePortTranslate:""},ruleValidate:{cargoReadyTime:[{required:!0,validator:r["a"].validateTime,trigger:"change"}]}}},computed:{timeBool:function(){return this.enablefn().time()}},methods:{submitForm:function(){var t=this;this.formItem.lowestTimeReq&&""==this.formItem.lowestTimeUnit?this.$Message.warning({content:"请选择时间单位!"}):this.$refs.formItemData.validate((function(e){e&&t.$emit("submit-form",t.formItem)}))},submitSiteForm:function(t){1==this.chooseObject.Type?(this.formItem.lastStartPort=t.site.split("~")[0]||"",this.formItem.lastStartPortTranslate=t.site.split("~")[1]&&t.site.split("~")[1]||"",this.formItem.startName=t.site.split("~")[1]&&t.site.split("~")[1].split(";").reverse()[0]||"",this.formItem.lastStartTime=t.date||null):(this.formItem.lastArrivePort=t.site.split("~")[0]||"",this.formItem.lastArrivePortTranslate=t.site.split("~")[1]&&t.site.split("~")[1]||"",this.formItem.endName=t.site.split("~")[1]&&t.site.split("~")[1].split(";").reverse()[0]||"",this.formItem.lastArriveTime=t.date||null)},chooseSiteType:function(t){this.chooseObject.Label=1===t?"最迟启运时间":"最晚运抵时间",this.chooseObject.Type=t,this.chooseObject.Data={site:1===t?this.formItem.lastStartPort+"~"+this.formItem.lastStartPortTranslate:this.formItem.lastArrivePort+"~"+this.formItem.lastArrivePortTranslate,date:1===t?this.formItem.lastStartTime:this.formItem.lastArriveTime,lists:this.siteData}},chooseSiteChange:function(t){t||(this.chooseObject.Type=0)},enablefn:function(){var t="CREATE",e="AFORM",a="REJECT",s="CANCEL",i="EXFIN",r="FINISH",n="VCLR",o=this.judge.enter,l=this.judge.input,c=this.eStatus,u=this.judge.coopType;return{time:function(){if("S"==u){if("send"==o){if("input"==l)return!1;if("edit"==l)return c!=t&&c!=e&&c!=a&&c!=s}if("noreqsend"==o){if("input"==l)return!1;if("edit"==l)return c!=t&&c!=e&&c!=a&&c!=s}if("reqsend"==o)return!0}else{if("send"==o){if("input"==l)return!1;if("edit"==l)return!0}if("noreqsend"==o){if("input"==l)return!1;if("edit"==l)return!0}if("reqsend"==o)return!0}},base:function(){if("S"==u){if("input"==l)return!1;if("edit"==l)return c==i||c==r||c==n}else{if("input"==l)return!1;if("edit"==l)return!0}}}}},watch:{defaultData:{handler:function(t){this.formItem=t},immediate:!0,deep:!0}}},o=n,l=(a("ed28"),a("2877")),c=Object(l["a"])(o,s,i,!1,null,"805690d4",null);e["default"]=c.exports},d9bc:function(t,e,a){},da01:function(t,e,a){},db38:function(t,e,a){"use strict";var s=a("432e"),i=a.n(s);i.a},e381:function(t,e,a){"use strict";var s=a("426a"),i=a.n(s);i.a},e50e:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menu-permission"},[a("Button",{staticStyle:{"margin-bottom":"20px"},on:{click:t.fuadd}},[t._v("新增一级菜单 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_tianjia"}})])]),a("Tree",{attrs:{data:t.treeData,render:t.renderContent}}),a("adt-my-modal",{attrs:{showModal:t.modalOption.isShowModal,title:t.modalOption.modalTitle,width:t.modalOption.width},on:{"on-visible-change":t.visibleChange,"on-ok":t.handleItemModalOk}},[a("Form",{ref:"menuFormName",attrs:{model:t.menuForm,rules:t.menuFormruleValidate,"label-width":100}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"菜单编码：",prop:"menuCode"}},[a("Input",{attrs:{placeholder:"请输入..."},model:{value:t.menuForm.menuCode,callback:function(e){t.$set(t.menuForm,"menuCode",e)},expression:"menuForm.menuCode"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"菜单名称：",prop:"menuName"}},[a("Input",{attrs:{placeholder:"请输入..."},model:{value:t.menuForm.menuName,callback:function(e){t.$set(t.menuForm,"menuName",e)},expression:"menuForm.menuName"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"菜单状态：",prop:"menuStatus"}},[a("Select",{model:{value:t.menuForm.menuStatus,callback:function(e){t.$set(t.menuForm,"menuStatus",e)},expression:"menuForm.menuStatus"}},[a("Option",{attrs:{value:"enable"}},[t._v("可用")]),a("Option",{attrs:{value:"disable"}},[t._v("不可用")])],1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"路由：",prop:"menuRoute"}},[a("Input",{attrs:{placeholder:"请输入..."},model:{value:t.menuForm.menuRoute,callback:function(e){t.$set(t.menuForm,"menuRoute",e)},expression:"menuForm.menuRoute"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"排序值：",prop:"sortPrice"}},[a("Input",{staticClass:"number",attrs:{type:"number",placeholder:"请输入..."},model:{value:t.menuForm.sortPrice,callback:function(e){t.$set(t.menuForm,"sortPrice",e)},expression:"menuForm.sortPrice"}})],1)],1)],1),a("div",[a("div",{staticClass:"icon-title"},[t._v("选择图标")]),a("div",{staticClass:"icon-container"},t._l(t.iconGather,(function(e,s){return a("div",{key:s,class:["icon",{active:t.menuForm.iconCode===e}],on:{click:function(a){return t.chooseIcon(e)}}},[a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#"+e}})])])})),0)])],1)],1),a("adt-my-modal",{attrs:{showModal:t.modalFunOption.isShowModal,title:t.modalFunOption.modalTitle,width:t.modalFunOption.width},on:{"on-visible-change":t.FunvisibleChange,"on-ok":t.FunhandleItemModalOk}},[a("Form",{ref:"funFormName",attrs:{model:t.menuForm,rules:t.menuFormruleValidate,"label-width":100}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"功能编码：",prop:"menuCode"}},[a("Input",{attrs:{placeholder:"请输入..."},model:{value:t.menuForm.menuCode,callback:function(e){t.$set(t.menuForm,"menuCode",e)},expression:"menuForm.menuCode"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"请求链接：",prop:"menuRoute"}},[a("Input",{attrs:{placeholder:"请输入..."},model:{value:t.menuForm.menuRoute,callback:function(e){t.$set(t.menuForm,"menuRoute",e)},expression:"menuForm.menuRoute"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"状态：",prop:"menuStatus"}},[a("Select",{model:{value:t.menuForm.menuStatus,callback:function(e){t.$set(t.menuForm,"menuStatus",e)},expression:"menuForm.menuStatus"}},[a("Option",{attrs:{value:"enable"}},[t._v("可用")]),a("Option",{attrs:{value:"disable"}},[t._v("不可用")])],1)],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"功能名称：",prop:"menuName"}},[a("Input",{attrs:{placeholder:"请输入..."},model:{value:t.menuForm.menuName,callback:function(e){t.$set(t.menuForm,"menuName",e)},expression:"menuForm.menuName"}})],1)],1)],1)],1)],1)],1)},i=[],r=(a("4160"),a("159b"),a("5530")),n=a("77ab"),o={name:"",data:function(){return{treeData:[],buttonProps:{type:"default",size:"small"},modalOption:{isShowModal:!1,width:"800px",modalTitle:""},modalFunOption:{isShowModal:!1,width:"800px",modalTitle:""},menuForm:{},menuFormruleValidate:{},iconGather:["icondian","iconADTcaidanICON_fanganbianjiqi","iconADTcaidanICON_chanpinguanli","iconADTcaidanICON_fanganchaxun","iconADTcaidanICON_chanpinzhongxin","iconADTcaidanICON_caidanguanli","iconADTcaidanICON_chanpinbianjiqi","iconADTcaidanICON_fuwuqudongqi","iconADTcaidanICON_gerenzhongxin","iconADTcaidanICON_wuliufanganguanli","iconADTcaidanICON_kehufankuizhongxin","iconADTcaidanICON_dingdanzhongxin","iconADTcaidanICON_huoyunyaoqiuguanli","iconADTcaidanICON_fanganshoucangjia","iconADTcaidanICON_shouye","iconADTcaidanICON_shijianchakanqi","iconADTcaidanICON_kehuguanli","iconADTcaidanICON_wuliuquanchengjihua","iconADTcaidanICON_gongyingshangguanli","iconADTcaidanICON_gangweijiaoseguanli","iconADTcaidanICON_xiaoxiguanli","iconADTcaidanICON_yingyongkongzhitai","iconADTcaidanICON_yonghuguanli","iconADTcaidanICON_mobanguanli","iconADTcaidanICON_xuqiubianjiqi","iconADTcaidanICON_zhangdanguanli","iconADTcaidanICON_xietongxiezuochakan","iconADTcaidanICON_wuliuweituoguanli","iconADTcaidanICON_wuliuwenjianjia","iconADTcaidanICON_zhihangkanban","iconADTcaidanICON_zhihangchakanqi","iconADTcaidanICON_zidianguanli","iconADTcaidanICON_zuzhijigouguanli","iconADTcaidanICON_zuzhiquanxianguanli","iconADTcaidanICON_biaozhunyingsheqi"],menuPid:"0",menuType:1,isEdit:!1}},watch:{},computed:{cptAppCode:function(){return this.$route.query.appCode}},created:function(){this.getData()},mounted:function(){},methods:{_replaceTree:function(t){var e=this;return t.forEach((function(t){t.children&&e._replaceTree(t.children)})),t},getData:function(){var t=this,e={appCode:this.cptAppCode};Object(n["N"])(Object(r["a"])({},e)).then((function(e){200==e.code&&(t.treeData=t._replaceTree(e.data))}))},chooseIcon:function(t){this.$set(this.menuForm,"iconCode",t)},visibleChange:function(t){this.modalOption.isShowModal=t},handleItemModalOk:function(){this.modalOption.isShowModal=!1,this.isEdit?this.addEditMenu(n["M"]):this.addEditMenu(n["K"])},FunvisibleChange:function(t){this.modalFunOption.isShowModal=t},FunhandleItemModalOk:function(){this.modalFunOption.isShowModal=!1,this.isEdit?this.addEditMenu(n["M"]):this.addEditMenu(n["K"])},addEditMenu:function(t){var e=this,a=Object(r["a"])({},this.menuForm,{appCode:this.cptAppCode,menuPid:this.menuPid,menuType:this.menuType});t({data:a}).then((function(t){200==t.code&&(e.$Message.success("操作成功"),e.$refs.menuFormName.resetFields(),e.$refs.funFormName.resetFields(),e.getData(),e.isEdit=!1)})).catch((function(t){e.$refs.menuFormName.resetFields(),e.$refs.funFormName.resetFields(),e.getData(),e.isEdit=!1}))},renderContent:function(t,e){var a=this,s=(e.root,e.node,e.data);return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("span",s.menuName)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},this.buttonProps,{}),style:{width:"64px"},on:{click:function(){a.MenuDelete(s)}}},"删除")]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},this.buttonProps,{}),style:{width:"64px"},on:{click:function(){a.edit(s)}}},"修改")]),"1"==s.menuType&&t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},this.buttonProps,{type:"primary"}),style:{width:"120px"},on:{click:function(){a.childrenAddMenu(s)}}},"添加下级菜单")]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},this.buttonProps,{type:"primary"}),style:{width:"120px"},on:{click:function(){a.funAppend(s)}}},"添加下级功能")]),"1"==s.menuType&&t("span",{style:{display:"inline-block",marginRight:"32px",float:"right"}},[t("span",s.menuTypeTranslate)]),"1"!==s.menuType&&t("span",{style:{display:"inline-block",marginRight:"184px",float:"right"}},[t("span",s.menuTypeTranslate)]),t("span",{style:{display:"inline-block",marginRight:"32px",float:"right"}},[t("span",s.menuStatusTranslate)])])},edit:function(t){this.isEdit=!0,1==t.menuType&&(this.modalOption.isShowModal=!0,this.modalOption.modalTitle="修改菜单",this.menuType=1),2==t.menuType&&(this.modalFunOption.isShowModal=!0,this.modalFunOption.modalTitle="修改功能",this.menuType=2),this.menuForm=t,this.menuPid=t.menuPid},childrenAddMenu:function(t){this.modalOption.isShowModal=!0,this.modalOption.modalTitle="新增下级菜单",this.menuPid=t.menuId,this.menuType=1,this.menuForm={}},funAppend:function(t){this.modalFunOption.isShowModal=!0,this.modalFunOption.modalTitle="新增下级功能",this.menuPid=t.menuId,this.menuType=2,this.menuForm={}},MenuDelete:function(t){var e=this,a={menuId:t.menuId};Object(n["L"])(Object(r["a"])({},a)).then((function(t){200==t.code&&(e.$Message.success("删除成功"),e.getData())}))},fuadd:function(){this.modalOption.isShowModal=!0,this.modalOption.modalTitle="新增一级菜单",this.menuPid="0"}}},l=o,c=(a("bff6"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,"38815c1e",null);e["default"]=u.exports},e619:function(t,e,a){},ed28:function(t,e,a){"use strict";var s=a("5f40"),i=a.n(s);i.a},ed7b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-padding"},[a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("发货人:")]),a("Col",{class:{"col-left":!t.isDetail},attrs:{span:"6"}},[t.isDetail?a("div",[t._v(t._s(t.senderFormItem.attenName))]):a("Select",{attrs:{clearable:""},on:{"on-clear":function(e){return t.onclear(1)},"on-change":function(e){return t.chooseName(1)}},model:{value:t.senderFormItemindex,callback:function(e){t.senderFormItemindex=e},expression:"senderFormItemindex"}},t._l(t.sender,(function(e,s){return a("Option",{key:s,attrs:{value:s}},[t._v(" "+t._s(e.attenName)+" ")])})),1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("收货人:")]),a("Col",{class:{"col-left":!t.isDetail},attrs:{span:"6"}},[t.isDetail?a("div",[t._v(t._s(t.takerFormItem.attenName))]):a("Select",{attrs:{clearable:""},on:{"on-clear":function(e){return t.onclear(2)},"on-change":function(e){return t.chooseName(2)}},model:{value:t.takerFormItemindex,callback:function(e){t.takerFormItemindex=e},expression:"takerFormItemindex"}},t._l(t.taker,(function(e,s){return a("Option",{key:s,attrs:{value:s}},[t._v(" "+t._s(e.attenName)+" ")])})),1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[a("span",{staticClass:"need"},[t._v("*")]),t._v("通知人:")]),a("Col",{class:{"col-left":!t.isDetail},attrs:{span:"6"}},[t.isDetail?a("div",[t._v(t._s(t.notifierFormItem.attenName))]):a("Select",{attrs:{clearable:""},on:{"on-clear":function(e){return t.onclear(3)},"on-change":function(e){return t.chooseName(3)}},model:{value:t.notifierFormItemindex,callback:function(e){t.notifierFormItemindex=e},expression:"notifierFormItemindex"}},t._l(t.notifier,(function(e,s){return a("Option",{key:s,attrs:{value:s}},[t._v(" "+t._s(e.attenName)+" ")])})),1)],1)],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("电话:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.senderFormItem.attenTel)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("电话:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.takerFormItem.attenTel)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("电话:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.notifierFormItem.attenTel)+" ")])],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("代码:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.senderFormItem.code)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("代码:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.takerFormItem.code)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("代码:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.notifierFormItem.code)+" ")])],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("地址:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.senderFormItem.attenAddr)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("地址:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.takerFormItem.attenAddr)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("地址:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.notifierFormItem.attenAddr)+" ")])],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("传真:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.senderFormItem.attenFax)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("传真:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.takerFormItem.attenFax)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("传真:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.notifierFormItem.attenFax)+" ")])],1)],1),a("div",{staticClass:"card"},[a("Row",{staticClass:"last-type"},[a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("邮箱:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.senderFormItem.attenEmail)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("邮箱:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.takerFormItem.attenEmail)+" ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("邮箱:")]),a("Col",{attrs:{span:"6"}},[t._v(" "+t._s(t.notifierFormItem.attenEmail)+" ")])],1)],1)]),a("Drawer",{attrs:{width:"1100"},model:{value:t.isShowDrawer,callback:function(e){t.isShowDrawer=e},expression:"isShowDrawer"}},[a("h3",[t._v("录入"+t._s(1===t.addType?"发货人":2===t.addType?"收货人":"通知人")+"信息")]),a("Form",{ref:"popFormItemData",attrs:{model:t.popFormItem,rules:t.popRuleValidate,"label-position":"top","label-colon":""}},[a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:(1===t.addType?"发货人":2===t.addType?"收货人":"通知人")+"名称",prop:"attenName"}},[a("Input",{model:{value:t.popFormItem.attenName,callback:function(e){t.$set(t.popFormItem,"attenName",e)},expression:"popFormItem.attenName"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"联系电话",prop:"attenTel"}},[a("Input",{model:{value:t.popFormItem.attenTel,callback:function(e){t.$set(t.popFormItem,"attenTel",e)},expression:"popFormItem.attenTel"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"代码",prop:"code"}},[a("Input",{model:{value:t.popFormItem.code,callback:function(e){t.$set(t.popFormItem,"code",e)},expression:"popFormItem.code"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"地址",prop:"attenAddr"}},[a("Input",{attrs:{type:"text"},model:{value:t.popFormItem.attenAddr,callback:function(e){t.$set(t.popFormItem,"attenAddr",e)},expression:"popFormItem.attenAddr"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"传真",prop:"attenFax"}},[a("Input",{attrs:{type:"text"},model:{value:t.popFormItem.attenFax,callback:function(e){t.$set(t.popFormItem,"attenFax",e)},expression:"popFormItem.attenFax"}})],1)],1),a("Col",{attrs:{span:"12"}},[a("FormItem",{attrs:{label:"邮箱",prop:"attenEmail"}},[a("Input",{attrs:{type:"text"},model:{value:t.popFormItem.attenEmail,callback:function(e){t.$set(t.popFormItem,"attenEmail",e)},expression:"popFormItem.attenEmail"}})],1)],1)],1)],1),a("div",{staticClass:"drawer-btns"},[a("Button",{attrs:{type:"primary",shape:"circle",size:"large"},on:{click:t.submitPopForm}},[t._v("确定")]),a("Button",{attrs:{shape:"circle",size:"large"},on:{click:t.cancel}},[t._v("取消")])],1)],1),t.isDetail?t._e():a("div",{staticClass:"public-btns-group"},[a("Button",{attrs:{type:"primary",shape:"circle",size:"large"},on:{click:t.submitForm}},[t._v("下一步")])],1)],1)},i=[],r=(a("c740"),a("4160"),a("159b"),a("b962")),n=a("400f"),o={props:{defaultData:{type:Array,default:function(){return[]}},isDetail:{type:Boolean,default:!1},eStatus:{type:String,default:"CREATEs"},judge:{type:Object,default:function(){return{}}}},data:function(){return{isShowDrawer:!1,addType:1,userList:[],sender:[],taker:[],notifier:[],senderFormItemindex:-1,takerFormItemindex:-1,notifierFormItemindex:-1,senderFormItem:{attenName:"",attenTel:"",code:"",attenAddr:"",attenFax:"",attenEmail:"",linkType:"1"},takerFormItem:{attenName:"",attenTel:"",code:"",attenAddr:"",attenFax:"",attenEmail:"",linkType:"2"},notifierFormItem:{attenName:"",attenTel:"",code:"",attenAddr:"",attenFax:"",attenEmail:"",linkType:"3"},senderRuleValidate:{attenName:[r["a"].select("发货人名称")[0]]},takerRuleValidate:{attenName:[r["a"].select("收货人名称")[0]]},notifierRuleValidate:{attenName:[r["a"].select("通知人名称")[0]]},popFormItem:{attenName:"",attenTel:"",code:"",attenAddr:"",attenFax:"",attenEmail:"",linkType:"1"},popRuleValidate:{attenName:[r["a"].required("名称")[0]],attenTel:[r["a"].required("联系电话")[0],r["a"].phone()[0]],attenAddr:[r["a"].required("地址")[0]],attenEmail:[r["a"].email()[0]]}}},created:function(){this.getUser(),this.defaultData.length},methods:{getUser:function(){var t=this,e={page:1,size:50};Object(n["e"])({data:e}).then((function(e){var a=e.data,s=[];a&&a.forEach((function(t){var e={attenName:t.partnerName,attenTel:t.partnerPhone,code:t.partnerCode,attenAddr:t.partnerAddr,attenFax:t.partnerFax,attenEmail:t.partnerEmail};s.push(e)})),t.sender=s,t.taker=s,t.notifier=s}))},getUserList:function(t){var e=this,a={page:1,size:50};Object(n["e"])({data:a}).then((function(a){var s=a.data,i=[];s&&s.forEach((function(t){var e={attenName:t.partnerName,attenTel:t.partnerPhone,code:t.partnerCode,attenAddr:t.partnerAddr,attenFax:t.partnerFax,attenEmail:t.partnerEmail};i.push(e)})),e.sender=i,e.taker=i,e.notifier=i;var r=t[0].attenName,n=t[1].attenName,o=t[2].attenName;e.senderFormItemindex=e.sender.findIndex((function(t){return t.attenName==r})),e.takerFormItemindex=e.taker.findIndex((function(t){return t.attenName==n})),e.notifierFormItemindex=e.notifier.findIndex((function(t){return t.attenName==o})),-1!=e.senderFormItemindex&&(e.senderFormItem=e.sender[e.senderFormItemindex]),-1!=e.takerFormItemindex&&(e.takerFormItem=e.taker[e.takerFormItemindex]),-1!=e.notifierFormItemindex&&(e.notifierFormItem=e.notifier[e.notifierFormItemindex])}))},submitForm:function(){if(""!==this.senderFormItem.attenName)if(""!==this.takerFormItem.attenName)if(""!==this.notifierFormItem.attenName){var t=JSON.parse(JSON.stringify(this.senderFormItem)),e=JSON.parse(JSON.stringify(this.takerFormItem)),a=JSON.parse(JSON.stringify(this.notifierFormItem));t.linkType="发货人",e.linkType="收货人",a.linkType="通知人";var s=[t,e,a];this.$emit("submit-form",s)}else this.$Message.warning("请选择通知人");else this.$Message.warning("请选择收货人");else this.$Message.warning("请选择发货人")},addPeople:function(t){this.addType=t,this.isShowDrawer=!this.isShowDrawer},cancel:function(){this.isShowDrawer=!1,this.$refs.popFormItemData.resetFields()},submitPopForm:function(){var t=this;this.$refs.popFormItemData.validate((function(e){if(e){var a=JSON.parse(JSON.stringify(t.popFormItem));1===t.addType&&(t.popFormItem.linkType="发货人",t.sender.push(a)),2===t.addType&&(t.popFormItem.linkType="收货人",t.taker.push(a)),3===t.addType&&(t.popFormItem.linkType="通知人",t.notifier.push(a)),t.isShowDrawer=!1,t.$refs.popFormItemData.resetFields()}}))},chooseName:function(t){1===t&&this.senderFormItemindex>=0&&(this.senderFormItem=this.sender[this.senderFormItemindex]),2===t&&this.takerFormItemindex>=0&&(this.takerFormItem=this.taker[this.takerFormItemindex]),3===t&&this.notifierFormItemindex>=0&&(this.notifierFormItem=this.notifier[this.notifierFormItemindex])},onclear:function(t){var e={attenName:"",attenTel:"",code:"",attenAddr:"",attenFax:"",attenEmail:"",linkType:t};1===t&&(this.senderFormItem=e),2===t&&(this.takerFormItem=e),3===t&&(this.notifierFormItem=e)},enablefn:function(){var t="CREATE",e="AFORM",a="REJECT",s="CANCEL",i=(this.judge.enter,this.judge.input),r=this.eStatus,n=this.judge.coopType;return{base:function(){if("S"==n){if("input"==i)return!1;if("edit"==i)return r!=t&&r!=e&&r!=a&&r!=s}else{if("input"==i)return!1;if("edit"==i)return!0}}}}},watch:{defaultData:{handler:function(t,e){t.length>=1&&this.getUserList(t)},deep:!0,immediate:!1}}},l=o,c=(a("7731"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,"6cdf754a",null);e["default"]=u.exports},ef1f:function(t,e,a){},f173:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Form",{ref:"formItemData",class:{"is-check":t.isCheck},attrs:{model:t.formItem,rules:t.isCheck?{}:t.ruleValidate}},[a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"160px","line-height":"160px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("合适运输工具： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("接货时间：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"pickGoodsTime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:t.formItem.pickGoodsTime,callback:function(e){t.$set(t.formItem,"pickGoodsTime",e)},expression:"formItem.pickGoodsTime"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("接货地点：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"pickGoodsAddr"}},[a("adt-city-selector",{attrs:{labelName:"国家城市",defaultData:t.formItem.pickGoodsAddr},on:{"on-change":function(e){return t.selectCountry(e,1)}}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("启运时间：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"departureDatetime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:t.formItem.departureDatetime,callback:function(e){t.$set(t.formItem,"departureDatetime",e)},expression:"formItem.departureDatetime"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运输工具号：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"trspCode"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.trspCode,callback:function(e){t.$set(t.formItem,"trspCode","string"===typeof e?e.trim():e)},expression:"formItem.trspCode"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("航次：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"meansNum"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.meansNum,callback:function(e){t.$set(t.formItem,"meansNum","string"===typeof e?e.trim():e)},expression:"formItem.meansNum"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运抵时间：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"shipDatetime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:t.formItem.shipDatetime,callback:function(e){t.$set(t.formItem,"shipDatetime",e)},expression:"formItem.shipDatetime"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("联系人：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"contactEr"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.contactEr,callback:function(e){t.$set(t.formItem,"contactEr","string"===typeof e?e.trim():e)},expression:"formItem.contactEr"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("联系电话：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"contactTel"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.contactTel,callback:function(e){t.$set(t.formItem,"contactTel",t._n(e))},expression:"formItem.contactTel"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("提货时间：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"takeCargoTime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:t.formItem.takeCargoTime,callback:function(e){t.$set(t.formItem,"takeCargoTime",e)},expression:"formItem.takeCargoTime"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("提货地点：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"takeCargoAddr"}},[a("adt-city-selector",{attrs:{defaultData:t.formItem.takeCargoAddr},on:{"on-change":function(e){return t.selectCountry(e,2)}}})],1)],1)],1),a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("服务耗时： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("预计在途耗时：")]),a("Col",{staticClass:"flex",attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"predctTime"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.predctTime,callback:function(e){t.$set(t.formItem,"predctTime",t._n(e))},expression:"formItem.predctTime"}})],1),a("FormItem",{attrs:{prop:"predctTimeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.predctTimeUnit,callback:function(e){t.$set(t.formItem,"predctTimeUnit",e)},expression:"formItem.predctTimeUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("其他耗时：")]),a("Col",{staticClass:"flex",attrs:{span:"6"}},[a("FormItem",{attrs:{prop:"otherTime"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.otherTime,callback:function(e){t.$set(t.formItem,"otherTime",t._n(e))},expression:"formItem.otherTime"}})],1),a("FormItem",{attrs:{prop:"otherTimeUnit"}},[a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.formItem.otherTimeUnit,callback:function(e){t.$set(t.formItem,"otherTimeUnit",e)},expression:"formItem.otherTimeUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)],1),a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"160px","line-height":"160px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("服务水平： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("直达/中转：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{staticClass:"form-show-err",attrs:{prop:"hasTransfer"}},[a("RadioGroup",{model:{value:t.formItem.hasTransfer,callback:function(e){t.$set(t.formItem,"hasTransfer",e)},expression:"formItem.hasTransfer"}},[a("Radio",{attrs:{label:"N"}},[t._v("直达")]),a("Radio",{attrs:{label:"Y"}},[t._v("中转")])],1)],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("整箱/拼箱：")]),a("Col",{attrs:{span:"6"}},[a("FormItem",{staticClass:"form-show-err",attrs:{prop:"hasLcl"}},[a("RadioGroup",{model:{value:t.formItem.hasLcl,callback:function(e){t.$set(t.formItem,"hasLcl",e)},expression:"formItem.hasLcl"}},[a("Radio",{attrs:{label:"N"}},[t._v("整箱")]),a("Radio",{attrs:{label:"Y"}},[t._v("拼箱")])],1)],1)],1),a("Col",{staticClass:"gray-bg",staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("固定/附加服务： ")]),a("Col",{staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"16"}},[a("FormItem",{staticStyle:{"padding-top":"20px"},attrs:{prop:"receiptServerList"}},[a("Input",{attrs:{placeholder:"请输入服务项内容",size:"small"},model:{value:t.serveItem,callback:function(e){t.serveItem="string"===typeof e?e.trim():e},expression:"serveItem"}}),a("Button",{attrs:{size:"small"},on:{click:function(e){return t.addServeItem(1)}}},[t._v("添加")]),a("div",{staticClass:"label-box flex-wrap"},t._l(t.formItem.receiptServerList,(function(e,s){return a("Button",{key:s,staticClass:"button-active",staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v(" "+t._s(e.serverName)+" "),a("Icon",{staticStyle:{position:"absolute",right:"5px",top:"5px"},attrs:{type:"ios-close"},on:{click:function(e){return t.delButton(1,s)}}})],1)})),1)],1)],1)],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"4"}},[t._v("备注：")]),a("Col",{staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"20"}},[a("FormItem",[a("Input",{staticStyle:{width:"96%","margin-top":"2px"},attrs:{type:"textarea"},model:{value:t.formItem.remark,callback:function(e){t.$set(t.formItem,"remark","string"===typeof e?e.trim():e)},expression:"formItem.remark"}})],1)],1)],1)],1),a("div",{staticClass:"button-box"},[a("Button",{on:{click:function(e){return t.delSchedule()}}},[t._v(" 删除 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_piliangshanchu"}})])]),a("Button",{on:{click:function(e){return t.addSchedule()}}},[t._v(" 添加班期 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_tianjia"}})])]),a("Button",{on:{click:function(e){return t.addProduct()}}},[t._v(" 导入班期 "),a("svg",{staticClass:"iconfont",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-andaotongV3ICON_tianjia"}})])])],1),a("table",{staticClass:"table-schedule",attrs:{border:"1"}},[t._l(t.formItem.receiptScheduleList,(function(e,s){return[a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"50px",position:"relative"}},[t._v("序号 "),a("Checkbox",{staticStyle:{position:"absolute",left:"-24px"},model:{value:e.checked,callback:function(a){t.$set(e,"checked",a)},expression:"item.checked"}})],1),a("td",{staticClass:"gray-bg",staticStyle:{width:"140px"},attrs:{rowspan:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("服务时间周期 ")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("停靠时间")]),a("td",{staticStyle:{width:"190px"}},[a("FormItem",{attrs:{prop:"stopTheTime"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:e.stopTheTime,callback:function(a){t.$set(e,"stopTheTime",a)},expression:"item.stopTheTime"}})],1)],1),a("td",{staticClass:"gray-bg",staticStyle:{width:"130px"}},[t._v("运输工具号")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"130px"}},[t._v("航次")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"130px"}},[t._v("运输时效")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"140px"},attrs:{rowspan:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("截止时间： ")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截关时间")]),a("td",{staticStyle:{width:"190px"}},[a("FormItem",{attrs:{prop:"letDeclareDatetime"}},[a("Input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.letDeclareDatetime,callback:function(a){t.$set(e,"letDeclareDatetime",t._n(a))},expression:"item.letDeclareDatetime"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:e.letDeclareDatetimeUnit,callback:function(a){t.$set(e,"letDeclareDatetimeUnit",a)},expression:"item.letDeclareDatetimeUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)]),a("tr",[a("td",{attrs:{rowspan:"3"}},[t._v(t._s(s+1))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("接货时间")]),a("td",{staticStyle:{width:"192px"}},[a("FormItem",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:e.pickGoodsTime,callback:function(a){t.$set(e,"pickGoodsTime",a)},expression:"item.pickGoodsTime"}})],1)],1),a("td",{attrs:{rowspan:"3"}},[a("FormItem",[a("Input",{staticStyle:{width:"140px"},attrs:{type:"textarea"},model:{value:e.trspCode,callback:function(a){t.$set(e,"trspCode","string"===typeof a?a.trim():a)},expression:"item.trspCode"}})],1)],1),a("td",{attrs:{rowspan:"3"}},[a("FormItem",[a("Input",{staticStyle:{width:"140px"},attrs:{type:"textarea"},model:{value:e.meansNum,callback:function(a){t.$set(e,"meansNum","string"===typeof a?a.trim():a)},expression:"item.meansNum"}})],1)],1),a("td",{attrs:{rowspan:"3"}},[a("FormItem",{attrs:{prop:"transportTime"}},[a("Input",{staticStyle:{width:"140px"},attrs:{type:"textarea"},model:{value:e.transportTime,callback:function(a){t.$set(e,"transportTime",t._n("string"===typeof a?a.trim():a))},expression:"item.transportTime"}})],1)],1),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截港时间")]),a("td",{staticStyle:{width:"102px"}},[a("FormItem",{attrs:{prop:"letApproachDatetime"}},[a("Input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.letApproachDatetime,callback:function(a){t.$set(e,"letApproachDatetime",t._n("string"===typeof a?a.trim():a))},expression:"item.letApproachDatetime"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:e.letApproachDatetimeUnit,callback:function(a){t.$set(e,"letApproachDatetimeUnit",a)},expression:"item.letApproachDatetimeUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)]),a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("驶离时间")]),a("td",{staticStyle:{width:"192px"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:e.departureDatetime,callback:function(a){t.$set(e,"departureDatetime",t._n(a))},expression:"item.departureDatetime"}})],1),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截单时间")]),a("td",{staticStyle:{width:"102px"}},[a("FormItem",{attrs:{prop:"letBillDatetime"}},[a("Input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.letBillDatetime,callback:function(a){t.$set(e,"letBillDatetime",t._n(a))},expression:"item.letBillDatetime"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:e.letBillDatetimeUnit,callback:function(a){t.$set(e,"letBillDatetimeUnit",a)},expression:"item.letBillDatetimeUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)]),a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("运抵时间")]),a("td",{staticStyle:{width:"192px"}},[a("FormItem",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date"},model:{value:e.shipDatetime,callback:function(a){t.$set(e,"shipDatetime",t._n(a))},expression:"item.shipDatetime"}})],1)],1),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截VGM时间")]),a("td",{staticStyle:{width:"102px"}},[a("FormItem",{attrs:{prop:"letPassDatetime"}},[a("Input",{staticStyle:{width:"80px"},attrs:{size:"small"},model:{value:e.letPassDatetime,callback:function(a){t.$set(e,"letPassDatetime",t._n(a))},expression:"item.letPassDatetime"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:e.letPassDatetimeUnit,callback:function(a){t.$set(e,"letPassDatetimeUnit",a)},expression:"item.letPassDatetimeUnit"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)])]}))],2),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("公司名称：")]),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"etcpName"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.etcpName,callback:function(e){t.$set(t.formItem,"etcpName","string"===typeof e?e.trim():e)},expression:"formItem.etcpName"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("公司地址：")]),a("Col",{attrs:{span:"13"}},[a("FormItem",{attrs:{prop:"etcpAddr"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.etcpAddr,callback:function(e){t.$set(t.formItem,"etcpAddr","string"===typeof e?e.trim():e)},expression:"formItem.etcpAddr"}})],1)],1)],1),a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("统一社会信用代码：")]),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"enterpriseCode"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.enterpriseCode,callback:function(e){t.$set(t.formItem,"enterpriseCode","string"===typeof e?e.trim():e)},expression:"formItem.enterpriseCode"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("业务联系人：")]),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"businessEr"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.businessEr,callback:function(e){t.$set(t.formItem,"businessEr","string"===typeof e?e.trim():e)},expression:"formItem.businessEr"}})],1)],1),a("Col",{staticClass:"gray-bg",attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("电话：")]),a("Col",{attrs:{span:"5"}},[a("FormItem",{attrs:{prop:"businessTel"}},[a("Input",{attrs:{size:"small"},model:{value:t.formItem.businessTel,callback:function(e){t.$set(t.formItem,"businessTel","string"===typeof e?e.trim():e)},expression:"formItem.businessTel"}})],1)],1)],1),a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"3"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("平台结算规则： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("对账期")]),a("Col",{staticClass:"radio flex-ac",attrs:{span:"19"}},[a("RadioGroup",{model:{value:t.formItem.billType,callback:function(e){t.$set(t.formItem,"billType",e)},expression:"formItem.billType"}},[a("Radio",{attrs:{label:"G"}},[t._v("固定方式")]),a("Input",{attrs:{size:"small"},model:{value:t.billNumberFixed,callback:function(e){t.billNumberFixed=t._n(e)},expression:"billNumberFixed"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.billUnitFixed,callback:function(e){t.billUnitFixed=e},expression:"billUnitFixed"}},t._l(t.quarterUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1),a("span",{staticStyle:{"margin-right":"80px"}},[t._v("/次")]),a("Radio",{attrs:{label:"S"}},[t._v("单次")]),t._v(" 完成后 "),a("Input",{attrs:{size:"small"},model:{value:t.billNumberSingle,callback:function(e){t.billNumberSingle=t._n(e)},expression:"billNumberSingle"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.billUnitSingle,callback:function(e){t.billUnitSingle=e},expression:"billUnitSingle"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1),a("Upload",{staticClass:"upload",attrs:{"show-upload-list":!1,format:["jpg","jpeg","png"],"max-size":2048,"on-success":t.handleSuccess,"on-format-error":t.handleFormatError,"on-exceeded-size":t.handleMaxSize,"on-error":t.handleErr,type:"drag",action:t.action}},[a("span",{staticClass:"cargo-item-label"},[t._v(" 上传对账单模板 ")])])],1),a("Col",{staticClass:"gray-bg",attrs:{span:"2"}},[t._v("付款期")]),a("Col",{staticClass:"radio",attrs:{span:"19"}},[a("RadioGroup",{model:{value:t.formItem.payType,callback:function(e){t.$set(t.formItem,"payType",e)},expression:"formItem.payType"}},[a("Radio",{attrs:{label:"G"}},[t._v("固定方式")]),a("Input",{attrs:{size:"small"},model:{value:t.payNumberFixed,callback:function(e){t.payNumberFixed=t._n(e)},expression:"payNumberFixed"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.payUnitFixed,callback:function(e){t.payUnitFixed=e},expression:"payUnitFixed"}},t._l(t.quarterUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1),a("span",{staticStyle:{"margin-right":"80px"}},[t._v("/次")]),a("Radio",{attrs:{label:"S"}},[t._v("单次")]),t._v(" 完成后 "),a("Input",{attrs:{size:"small"},model:{value:t.payNumberSingle,callback:function(e){t.payNumberSingle=t._n(e)},expression:"payNumberSingle"}}),a("Select",{staticStyle:{width:"80px"},attrs:{clearable:""},model:{value:t.payUnitSingle,callback:function(e){t.payUnitSingle=e},expression:"payUnitSingle"}},t._l(t.timeUnit,(function(e){return a("Option",{key:e.dictionaryKey,attrs:{value:e.dictionaryKey}},[t._v(" "+t._s(e.dictionaryValue)+" ")])})),1)],1)],1)],1)],1)])],1)},i=[],r=(a("4de4"),a("a15b"),a("d81d"),a("45fc"),a("a434"),a("a9e3"),a("d3b7"),a("25f0"),a("5530")),n=a("b962"),o={receiptServerList:[],receiptScheduleList:[{keyId:"keyId_1",checked:!1}],billType:"",billUrl:"",pickGoodsAddr:"",takeCargoAddr:""},l={pickGoodsTime:[{required:!0,validator:n["a"].validateTime,trigger:"change"}],pickGoodsAddr:[n["a"].select("接货地点")[0]],departureDatetime:[{required:!0,validator:n["a"].validateTime,trigger:"change"}],trspCode:[n["a"].required("运输工具号")[0]],meansNum:[n["a"].required("航次")[0]],shipDatetime:[{required:!0,validator:n["a"].validateTime,trigger:"change"}],contactEr:[n["a"].required("联系人")[0]],contactTel:[n["a"].requiredNumber("联系人电话")[0]],takeCargoTime:[{required:!0,validator:n["a"].validateTime,trigger:"change"}],takeCargoAddr:[n["a"].select("提货地点")[0]],predctTime:[n["a"].requiredNumber("预计在途耗时")[0]],predctTimeUnit:[n["a"].select("预计在途耗时单位")[0]],otherTime:[n["a"].requiredNumber("其他耗时")[0]],otherTimeUnit:[n["a"].select("其他耗时单位")[0]],hasTransfer:[n["a"].required("直达/中转")[0]],hasLcl:[n["a"].required("整箱/拼箱")[0]],remark:[n["a"].required("备注")[0]],etcpName:[n["a"].required("公司名称")[0]],etcpAddr:[n["a"].required("公司地址")[0]],enterpriseCode:[n["a"].required("统一社会信用代码")[0]],businessEr:[n["a"].required("业务联系人")[0]],businessTel:[n["a"].required("业务联系人电话")[0]]},c=a("1352"),u=a("4ec3"),m=a("90fe"),d={props:{isCheck:{type:Boolean,default:!1},defaultData:{type:Object,default:function(){return{}}}},data:function(){return{transportType:this.$getDictionary("TRANSPORT_TYPE"),goodsType:this.$getDictionary("GOODS_TYPE"),contaSizeType:this.$getDictionary("CONTAINER_SIZE_TYPE"),currencyCode:this.$getDictionary("CURRENCY_CODE"),quarterUnit:this.$getDictionary("QUARTER_UNIT"),timeUnit:this.$getDictionary("TIME_UNIT"),SETTLEMENT_RULE_TYPE:this.$getDictionary("SETTLEMENT_RULE_TYPE"),action:"".concat(u["s"],"/file-record/upload"),formItem:o,ruleValidate:l,dispatchOptions:[],isShowDrawer:!1,serveItem:"",priceServeItem:"",billNumberFixed:"",billUnitFixed:"",billNumberSingle:"",billUnitSingle:"",payNumberFixed:"",payUnitFixed:"",payNumberSingle:"",payUnitSingle:""}},watch:{defaultData:function(t){var e=this;this.formItem=Object(r["a"])({},this.formItem,{},t),this.formItem.pickGoodsTime=t.pickGoodsTime?this.timestampFormat(t.pickGoodsTime):"",this.formItem.departureDatetime=t.departureDatetime?this.timestampFormat(t.departureDatetime):"",this.formItem.shipDatetime=t.shipDatetime?this.timestampFormat(t.shipDatetime):"",this.formItem.takeCargoTime=t.shipDatetime?this.timestampFormat(t.shipDatetime):"",this.formItem.contactTel=t.contactTel?Number(t.contactTel):"",this.formItem.receiptScheduleList=this.formItem.receiptScheduleList.map((function(t){return Object(r["a"])({},t,{stopTheTime:e.timestampFormat(t.stopTheTime),departureDatetime:e.timestampFormat(t.departureDatetime),shipDatetime:e.timestampFormat(t.shipDatetime),pickGoodsTime:e.timestampFormat(t.pickGoodsTime)})})),t.billType&&"G"===t.billType&&(this.billNumberFixed=t.billNumber,this.billUnitFixed=t.billUnit),t.billType&&"S"===t.billType&&(this.billNumberSingle=t.billNumber,this.billUnitSingle=t.billUnit),t.payType&&"G"===t.payType&&(this.payNumberFixed=t.payNumber,this.payUnitFixed=t.payUnit),t.payType&&"S"===t.payType&&(this.payNumberSingle=t.payNumber,this.payUnitSingle=t.payUnit)}},methods:{timestampFormat:function(t){return Object(m["j"])(t,!0,"/")},selectCountry:function(t,e){var a=t.data.length?"".concat(t.value.join(";")):"";switch(e){case 1:this.formItem.pickGoodsAddr=a;break;case 2:this.formItem.takeCargoAddr=a;break;default:break}},addServeItem:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t&&this.serveItem&&this.formItem.receiptServerList.push({serverName:this.serveItem})},delButton:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;t?this.formItem.receiptServerList.splice(e,1):this.formItem.addiServerList.splice(e,1)},addSchedule:function(){var t="keyId_"+Math.random().toString().substr(3,5)+Date.now().toString();this.formItem.receiptScheduleList.push({keyId:t,checked:!1})},delSchedule:function(){var t=this.formItem.receiptScheduleList.some((function(t){return!0===t.checked}));t?this.formItem.receiptScheduleList=this.formItem.receiptScheduleList.filter((function(t){return!t.checked})):this.$Message.error("请先选择要删除的班期序号")},submit:function(){var t=this;this.$refs.formItemData.validate((function(e){if(e){if(!t.formItem.receiptServerList.length)return t.$Message.warning("请添加附加服务项");if(!t.formItem.billUrl)return t.$Message.warning("请上传对账单模板");if(!t.formItem.billType)return t.$Message.warning("请选择对账期规则");if(!t.formItem.payType)return t.$Message.warning("请选择付款期规则");var a=Object(r["a"])({},t.formItem,{billNumber:"G"===t.formItem.billType?t.billNumberFixed:t.billNumberSingle,billUnit:"G"===t.formItem.billType?t.billUnitFixed:t.billUnitSingle,payNumber:"G"===t.formItem.payType?t.payNumberFixed:t.payNumberSingle,payUnit:"G"===t.formItem.payType?t.payUnitFixed:t.payUnitSingle});Object(c["a"])({data:a}).then((function(e){if(200!=e.code)return t.$Message.error(e.message);t.$Message.success("保存成功"),t.$emit("on-submit-success")}))}}))},open:function(){this.isShowDrawer=!0},close:function(){this.isShowDrawer=!1},handleSuccess:function(t){this.$Message.success("上传成功");var e=t.data.fileName+"~"+t.data.code;this.formItem.billUrl=e},handleFormatError:function(){this.$Message.error({background:!0,content:"请上传jpg、jpeg、png格式的文件",duration:3})},handleMaxSize:function(){this.$Message.error({background:!0,content:"上传尺寸最大2048kb"})},handleErr:function(){this.$Message.error({background:!0,content:"上传失败"})}}},p=d,h=(a("1f1a0"),a("2877")),f=Object(h["a"])(p,s,i,!1,null,"844f7ac0",null);e["default"]=f.exports},f895:function(t,e,a){"use strict";var s=a("62fd"),i=a.n(s);i.a},f97b:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"160px","line-height":"160px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("合适运输工具： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("接货时间：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.pickGoodsTime))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("接货地点：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.pickGoodsAddrTranslate))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("启运时间：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.departureDatetime))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运输工具号：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.trspCode))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("航次：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.meansNum))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("运抵时间：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.shipDatetime))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("联系人：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.contactEr))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("联系电话：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.contactTel))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("提货时间：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.takeCargoTime))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("提货地点：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.takeCargoAddrTranslate))])],1),a("Row",[a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("服务耗时：")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("预计在途耗时：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.predctTime)+t._s(t.formItem.predctTimeUnitTranslate))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("其他耗时：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s(t.formItem.otherTime)+t._s(t.formItem.otherTimeUnitTranslate))])],1),a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"160px","line-height":"160px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("服务水平： ")]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("直达/中转：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s("N"===t.formItem.hasTransfer?"直达":"中转"))]),a("Col",{staticClass:"gray-bg",attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("整箱/拼箱：")]),a("Col",{staticClass:"col-center",attrs:{span:"6"}},[t._v(t._s("N"===t.formItem.hasLcl?"整箱":"拼箱"))]),a("Col",{staticClass:"gray-bg",staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("固定/附加服务： ")]),a("Col",{staticStyle:{height:"128px","line-height":"128px"},attrs:{span:"16"}},[a("div",{staticClass:"label-box flex-wrap"},t._l(t.formItem.receiptServerList,(function(e,s){return a("Button",{key:s,staticClass:"button-active",staticStyle:{"margin-right":"10px"},attrs:{size:"small"}},[t._v(" "+t._s(e.serverName)+" ")])})),1)])],1)],1),a("div",{staticClass:"card"},[a("Row",[a("Col",{staticClass:"gray-bg",staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"4"}},[t._v("备注：")]),a("Col",{staticStyle:{height:"64px","line-height":"64px"},attrs:{span:"20"}},[t._v(t._s(t.formItem.remark))])],1)],1),a("div",{staticClass:"card-title"},[t._v("班期信息")]),a("table",{staticClass:"table-schedule",attrs:{border:"1"}},[t._l(t.formItem.receiptScheduleList,(function(e,s){return[a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"50px"}},[t._v("序号")]),t._m(0,!0),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("停靠时间")]),a("td",{staticStyle:{width:"190px"}},[t._v(t._s(e.stopTheTime))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"130px"}},[t._v("运输工具号")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"130px"}},[t._v("航次")]),a("td",{staticClass:"gray-bg",staticStyle:{width:"130px"}},[t._v("运输失效")]),t._m(1,!0),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截关时间")]),a("td",{staticStyle:{width:"190px"}},[t._v(t._s(e.letDeclareDatetime)+t._s(e.letDeclareDatetimeUnit))])]),a("tr",[a("td",{attrs:{rowspan:"3"}},[t._v(t._s(s+1))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("接货时间")]),a("td",{staticStyle:{width:"192px"}},[t._v(t._s(e.pickGoodsTime))]),a("td",{attrs:{rowspan:"3"}},[t._v(t._s(e.trspCode))]),a("td",{attrs:{rowspan:"3"}},[t._v(t._s(e.meansNum))]),a("td",{attrs:{rowspan:"3"}},[t._v(t._s(e.transportTime))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截港时间")]),a("td",{staticStyle:{width:"102px"}},[t._v(t._s(e.letApproachDatetime)+t._s(e.letApproachDatetimeUnit))])]),a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("驶离时间")]),a("td",{staticStyle:{width:"192px"}},[t._v(t._s(e.departureDatetime))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截单时间")]),a("td",{staticStyle:{width:"102px"}},[t._v(t._s(e.letBillDatetime)+t._s(e.letBillDatetimeUnit))])]),a("tr",[a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("运抵时间")]),a("td",{staticStyle:{width:"192px"}},[t._v(t._s(e.shipDatetime))]),a("td",{staticClass:"gray-bg",staticStyle:{width:"102px"}},[t._v("截VGM时间")]),a("td",{staticStyle:{width:"102px"}},[t._v(t._s(e.letPassDatetime)+t._s(e.letPassDatetimeUnit))])])]}))],2),a("div",{staticClass:"card-title"},[t._v("供应商信息")]),a("companyItemDetail",{attrs:{defaultData:t.companyData}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"gray-bg",staticStyle:{width:"140px"},attrs:{rowspan:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("服务时间周期 ")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("td",{staticClass:"gray-bg",staticStyle:{width:"140px"},attrs:{rowspan:"4"}},[a("span",{staticClass:"required-tag"},[t._v("*")]),t._v("截止时间： ")])}],r=(a("d81d"),a("d3b7"),a("5530")),n=a("90fe"),o={props:{defaultData:{type:Object,default:{}}},components:{companyItemDetail:function(){return a.e("chunk-bf428e66").then(a.bind(null,"850d"))}},watch:{defaultData:{handler:function(t){var e=this,a=JSON.parse(JSON.stringify(t));this.companyData={etcpName:a.etcpName,etcpAddr:a.etcpAddr,enterpriseCode:a.enterpriseCode,businessEr:a.businessEr,businessTel:a.businessTel,billNumber:a.billNumber,billPath:a.billUrl,billType:a.billType,billUnit:a.billUnit,payUnit:a.payUnit,payType:a.payType,payNumber:a.payNumber},this.formItem=a,this.formItem.pickGoodsTime=a.pickGoodsTime?this.timestampFormat(a.pickGoodsTime):"",this.formItem.departureDatetime=a.departureDatetime?this.timestampFormat(a.departureDatetime):"",this.formItem.shipDatetime=a.shipDatetime?this.timestampFormat(a.shipDatetime):"",this.formItem.takeCargoTime=a.shipDatetime?this.timestampFormat(a.takeCargoTime):"",this.formItem.bookingPeriod=a.bookingPeriod?this.timestampFormat(a.bookingPeriod):"",a.receiptScheduleList&&a.receiptScheduleList.length&&(this.formItem.receiptScheduleList=a.receiptScheduleList.map((function(t){return Object(r["a"])({},t,{stopTheTime:e.timestampFormat(t.stopTheTime),departureDatetime:e.timestampFormat(t.departureDatetime),shipDatetime:e.timestampFormat(t.shipDatetime),pickGoodsTime:e.timestampFormat(t.pickGoodsTime),letDeclareDatetimeUnit:e.timeUnitFormat(t.letDeclareDatetimeUnit),letApproachDatetimeUnit:e.timeUnitFormat(t.letApproachDatetimeUnit),letBillDatetimeUnit:e.timeUnitFormat(t.letBillDatetimeUnit),letPassDatetimeUnit:e.timeUnitFormat(t.letPassDatetimeUnit)})})))},immediate:!0}},data:function(){return{formItem:{},companyData:{}}},methods:{timestampFormat:function(t){return Object(n["j"])(t,!0,"/")},timeUnitFormat:function(t){var e="D"===t?"天":"小时";return e}}},l=o,c=(a("e381"),a("2877")),u=Object(c["a"])(l,s,i,!1,null,"0924f862",null);e["default"]=u.exports},fa5c:function(t,e,a){"use strict";var s=a("4d21"),i=a.n(s);i.a}}]);